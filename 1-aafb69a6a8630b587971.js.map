{"version":3,"sources":["webpack:///./node_modules/aws-sdk/lib/core.js","webpack:///./node_modules/aws-sdk/lib/util.js","webpack:///../src/index.ts","webpack:///../../src/Logger/index.ts","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/crypto-js/core.js","webpack:///./node_modules/aws-sdk/lib/browser_loader.js","webpack:///../src/JS.ts","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/aws-sdk/lib/model/shape.js","webpack:///./node_modules/aws-sdk/clients/sts.js","webpack:///./node_modules/react-helmet/lib/Helmet.js","webpack:///../src/Facet.ts","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest.js","webpack:///./node_modules/aws-sdk/lib/browserHashUtils.js","webpack:///./node_modules/url/url.js","webpack:///../src/Amplify.ts","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/aws-sdk/lib/protocol/json.js","webpack:///./node_modules/aws-sdk/lib/json/builder.js","webpack:///./node_modules/aws-sdk/lib/json/parser.js","webpack:///./node_modules/aws-sdk/lib/protocol/helpers.js","webpack:///./node_modules/jmespath/jmespath.js","webpack:///./node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///../../src/StorageHelper/index.ts","webpack:///../../src/Utils/index.ts","webpack:///../../../src/vendor/dom-utils/matches.ts","webpack:///./node_modules/crypto-js/sha256.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/aws-sdk/lib/protocol/query.js","webpack:///./node_modules/aws-sdk/lib/model/collection.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest_json.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest_xml.js","webpack:///./node_modules/aws-sdk/lib/model/api.js","webpack:///./node_modules/aws-sdk/lib/model/operation.js","webpack:///./node_modules/aws-sdk/lib/model/paginator.js","webpack:///./node_modules/aws-sdk/lib/model/resource_waiter.js","webpack:///./node_modules/aws-sdk/lib/sequential_executor.js","webpack:///./node_modules/aws-sdk/lib/credentials.js","webpack:///./node_modules/aws-sdk/lib/credentials/credential_provider_chain.js","webpack:///./node_modules/aws-sdk/lib/http.js","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/aws-sdk/lib/signers/v3.js","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/core-js/modules/es6.date.to-json.js","webpack:///./node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///../../src/OAuthHelper/index.ts","webpack:///../../src/Platform/index.ts","webpack:///../../src/Providers/AWSPinpointProvider.ts","webpack:///../src/StorageCache.ts","webpack:///../../../src/vendor/dom-utils/closest.ts","webpack:///../../../src/vendor/dom-utils/parents.ts","webpack:///../../src/types/Auth.ts","webpack:///./node_modules/crypto-js/lib-typedarrays.js","webpack:///./node_modules/crypto-js/hmac-sha256.js","webpack:///./node_modules/crypto-js/enc-base64.js","webpack:///./node_modules/react-helmet/lib/HelmetConstants.js","webpack:///./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js","webpack:///./node_modules/amazon-cognito-identity-js/es/BigInteger.js","webpack:///./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js","webpack:///./node_modules/amazon-cognito-identity-js/es/DateHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js","webpack:///./node_modules/amazon-cognito-identity-js/es/StorageHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUser.js","webpack:///./node_modules/amazon-cognito-identity-js/es/UserAgent.js","webpack:///./node_modules/amazon-cognito-identity-js/es/Client.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CookieStorage.js","webpack:///./node_modules/amazon-cognito-identity-js/es/index.js","webpack:///../src/Analytics.ts","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/aws-sdk/browser.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/aws-sdk/lib/query/query_param_serializer.js","webpack:///./node_modules/aws-sdk/lib/xml/builder.js","webpack:///./node_modules/aws-sdk/lib/xml/xml-node.js","webpack:///./node_modules/aws-sdk/lib/xml/escape-attribute.js","webpack:///./node_modules/aws-sdk/lib/xml/xml-text.js","webpack:///./node_modules/aws-sdk/lib/xml/escape-element.js","webpack:///./node_modules/aws-sdk/lib/api_loader.js","webpack:///./node_modules/aws-sdk/vendor/endpoint-cache/index.js","webpack:///./node_modules/aws-sdk/vendor/endpoint-cache/utils/LRU.js","webpack:///./node_modules/aws-sdk/lib/service.js","webpack:///./node_modules/aws-sdk/lib/region_config.js","webpack:///./node_modules/aws-sdk/lib/config.js","webpack:///./node_modules/aws-sdk/lib/event_listeners.js","webpack:///./node_modules/aws-sdk/lib/discover_endpoint.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/core-js/modules/_string-ws.js","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/aws-sdk/lib/request.js","webpack:///./node_modules/aws-sdk/lib/state_machine.js","webpack:///./node_modules/core-js/modules/es7.string.trim-left.js","webpack:///./node_modules/aws-sdk/lib/response.js","webpack:///./node_modules/aws-sdk/lib/resource_waiter.js","webpack:///./node_modules/aws-sdk/lib/signers/request_signer.js","webpack:///./node_modules/aws-sdk/lib/signers/v2.js","webpack:///./node_modules/aws-sdk/lib/signers/v3https.js","webpack:///./node_modules/aws-sdk/lib/signers/v4.js","webpack:///./node_modules/aws-sdk/lib/signers/v4_credentials.js","webpack:///./node_modules/aws-sdk/lib/signers/s3.js","webpack:///./node_modules/aws-sdk/lib/signers/presign.js","webpack:///./node_modules/aws-sdk/lib/param_validator.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/aws-sdk/lib/browserCryptoLib.js","webpack:///./node_modules/aws-sdk/lib/browserHmac.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/aws-sdk/lib/browserMd5.js","webpack:///./node_modules/aws-sdk/lib/browserSha1.js","webpack:///./node_modules/aws-sdk/lib/browserSha256.js","webpack:///./node_modules/punycode/punycode.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/url/util.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/aws-sdk/lib/realclock/browserClock.js","webpack:///./node_modules/aws-sdk/lib/event-stream/buffered-create-event-stream.js","webpack:///./node_modules/aws-sdk/lib/event-stream/event-message-chunker.js","webpack:///./node_modules/aws-sdk/lib/event-stream/parse-event.js","webpack:///./node_modules/aws-sdk/lib/event-stream/parse-message.js","webpack:///./node_modules/aws-sdk/lib/event-stream/int64.js","webpack:///./node_modules/aws-sdk/lib/event-stream/split-message.js","webpack:///./node_modules/aws-sdk/lib/credentials/temporary_credentials.js","webpack:///./node_modules/aws-sdk/lib/services/sts.js","webpack:///./node_modules/aws-sdk/lib/credentials/chainable_temporary_credentials.js","webpack:///./node_modules/aws-sdk/lib/credentials/web_identity_credentials.js","webpack:///./node_modules/aws-sdk/lib/credentials/cognito_identity_credentials.js","webpack:///./node_modules/aws-sdk/clients/cognitoidentity.js","webpack:///./node_modules/aws-sdk/lib/services/cognitoidentity.js","webpack:///./node_modules/aws-sdk/lib/credentials/saml_credentials.js","webpack:///./node_modules/aws-sdk/lib/xml/browser_parser.js","webpack:///./node_modules/aws-sdk/lib/http/xhr.js","webpack:///./node_modules/node-libs-browser/node_modules/events/events.js","webpack:///./node_modules/core-js/modules/es6.number.is-nan.js","webpack:///./node_modules/core-js/modules/es6.reflect.own-keys.js","webpack:///./node_modules/core-js/modules/es6.reflect.apply.js","webpack:///../../src/Logger/ConsoleLogger.ts","webpack:///../../src/ClientDevice/index.ts","webpack:///../../src/ClientDevice/browser.ts","webpack:///../src/Errors.ts","webpack:///../src/Hub.ts","webpack:///../../src/I18n/index.ts","webpack:///../../src/I18n/I18n.ts","webpack:///../src/Signer.ts","webpack:///../src/Parser.ts","webpack:///../../src/OAuthHelper/GoogleOAuth.ts","webpack:///../../src/OAuthHelper/FacebookOAuth.ts","webpack:///../../src/RNComponents/index.ts","webpack:///../src/Credentials.ts","webpack:///../../src/ServiceWorker/index.ts","webpack:///../../src/ServiceWorker/ServiceWorker.ts","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/aws-sdk/clients/mobileanalytics.js","webpack:///./node_modules/aws-sdk/clients/pinpoint.js","webpack:///../src/BrowserStorageCache.ts","webpack:///../../src/Utils/CacheUtils.ts","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///../../src/Utils/CacheList.ts","webpack:///../src/InMemoryCache.ts","webpack:///../../src/trackers/index.ts","webpack:///../../src/trackers/PageViewTracker.ts","webpack:///../../src/utils/MethodEmbed.ts","webpack:///../../src/trackers/EventTracker.ts","webpack:///../../../src/vendor/dom-utils/index.ts","webpack:///../../../src/vendor/dom-utils/delegate.ts","webpack:///../../../src/vendor/dom-utils/dispatch.ts","webpack:///../../../src/vendor/dom-utils/get-attributes.ts","webpack:///../../../src/vendor/dom-utils/parse-url.ts","webpack:///../../src/trackers/SessionTracker.ts","webpack:///../../src/Providers/index.ts","webpack:///../../src/Providers/AWSKinesisProvider.ts","webpack:///./node_modules/aws-sdk/clients/kinesis.js","webpack:///../src/Auth.ts","webpack:///../../src/types/index.ts","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int8-array.js","webpack:///./node_modules/crypto-js/hmac.js","webpack:///./node_modules/js-cookie/src/js.cookie.js","webpack:///../../src/OAuth/OAuth.ts","webpack:///../../src/OAuth/urlOpener.ts","webpack:///../../src/OAuth/oauthStorage.ts","webpack:///../src/urlListener.ts","webpack:///./node_modules/react-side-effect/lib/index.js","webpack:///./node_modules/exenv/index.js","webpack:///./node_modules/shallowequal/index.js","webpack:///./node_modules/react-fast-compare/index.js","webpack:///./node_modules/react-helmet/lib/HelmetUtils.js"],"names":["AWS","util","require","toString","module","exports","update","VERSION","Signers","Protocol","Json","Query","Rest","RestJson","RestXml","XML","Builder","Parser","JSON","Model","Api","Operation","Shape","Paginator","ResourceWaiter","apiLoader","EndpointCache","events","SequentialExecutor","memoizedProperty","config","endpointCacheSize","environment","engine","isBrowser","navigator","userAgent","process","platform","version","AWS_EXECUTION_ENV","name","agent","uriEscape","string","output","encodeURIComponent","replace","escape","ch","charCodeAt","toUpperCase","uriEscapePath","parts","arrayEach","split","part","push","join","urlParse","url","parse","urlFormat","format","queryStringParse","qs","querystring","queryParamsToString","params","items","sortedKeys","Object","keys","sort","value","ename","result","Array","isArray","vals","item","readFileSync","path","base64","encode","error","Error","buffer","toBuffer","decode","data","encoding","Buffer","from","Uint8Array","alloc","size","fill","buf","undefined","toStream","isBuffer","readable","stream","Readable","pos","_read","length","end","slice","concat","buffers","i","offset","copy","byteLength","lstatSync","object","upperFirst","substr","lowerFirst","toLowerCase","ini","currentSection","map","line","section","match","fn","noop","callback","err","makeAsync","expectedArgs","args","prototype","call","arguments","pop","apply","date","getDate","systemClockOffset","Date","getTime","iso8601","toISOString","rfc822","toUTCString","unixTimestamp","formatter","parseTimestamp","code","crypto","crc32Table","crc32","tbl","crc","readUInt8","hmac","key","digest","lib","createHmac","md5","hash","sha256","algorithm","createHash","sliceFn","arraySliceFn","ArrayBuffer","on","chunk","FileReader","out","index","reader","onerror","onload","_continueReading","back","readAsArrayBuffer","toHex","abort","each","iterFunction","hasOwnProperty","this","array","idx","parseInt","obj1","obj2","merge","dupe","isEmpty","obj","prop","webkitSlice","mozSlice","isType","type","typeName","str","options","originalError","message","stack","defineProperty","writable","enumerable","time","inherit","klass","features","newObject","ctor","constructor","__super__","mixin","hideProperties","props","configurable","property","isValue","opts","get","cachedValue","hoistPayloadMember","resp","req","request","operationName","operation","service","api","operations","payload","hasEventOutput","payloadMember","members","responsePayload","computeSha256","body","done","isNode","Stream","fs","settings","start","createReadStream","sha","isClockSkewed","serverTime","Math","abs","applyClockOffset","extractRequestId","requestId","httpResponse","headers","ResponseMetadata","RequestId","addPromises","constructors","PromiseDependency","deletePromises","getPromisesDependency","Promise","ind","deletePromisesFromClass","addPromisesToClass","promisifyMethod","methodName","self","resolve","reject","isDualstackAvailable","metadata","serviceIdentifier","dualstackAvailable","calculateRetryDelay","retryCount","retryDelayOptions","customBackoff","base","random","pow","handleRequestWithRetries","httpRequest","cb","http","HttpClient","getInstance","httpOptions","errCallback","maxRetries","retryable","delay","setTimeout","sendRequest","retryAfter","handleRequest","statusCode","defer","uuid","v4","convertPayloadToString","rules","nextTick","setImmediate","getRequestPayloadShape","input","defaultProfile","configOptInEnv","sharedCredentialsFileEnv","sharedConfigFileEnv","imdsDisabledEnv","Facet_1","__webpack_require__","Logger_1","Amplify_1","__export","ClientDevice_1","ClientDevice","default","Logger_2","ConsoleLogger","Logger","Hub_1","Hub","I18n_1","I18n","JS_1","JS","Signer_1","Signer","Parser_1","OAuthHelper_1","FacebookOAuth","GoogleOAuth","Credentials_1","Credentials","ServiceWorker_1","ServiceWorker","StorageHelper_1","StorageHelper","MemoryStorage","Platform_1","Platform","Platform_2","Constants","logger","customUserAgent","warn","init","byteOffset","LIBRARY","global","fails","$export","$typed","$buffer","ctx","anInstance","propertyDesc","hide","redefineAll","toInteger","toLength","toIndex","toAbsoluteIndex","toPrimitive","has","classof","isObject","toObject","isArrayIter","create","getPrototypeOf","gOPN","f","getIterFn","uid","wks","createArrayMethod","createArrayIncludes","speciesConstructor","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","dP","gOPD","RangeError","TypeError","ArrayProto","$ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","values","arrayKeys","arrayEntries","entries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","arraySlice","arrayToString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","$map","O","allocate","LITTLE_ENDIAN","Uint16Array","FORCED_SET","set","toOffset","it","BYTES","validate","C","speciesFromList","list","fromList","addGetter","internal","_d","$from","source","step","iterator","aLen","mapfn","mapping","iterFn","next","$of","TO_LOCALE_BUG","$toLocaleString","proto","copyWithin","target","every","callbackfn","filter","find","predicate","findIndex","forEach","indexOf","searchElement","includes","separator","reverse","middle","floor","some","comparefn","subarray","begin","$begin","BYTES_PER_ELEMENT","$slice","$set","arrayLike","src","len","$iterators","isTAIndex","String","$getDesc","$setDesc","desc","S","F","getOwnPropertyDescriptor","$TypedArrayPrototype$","KEY","wrapper","CLAMPED","NAME","GETTER","SETTER","TypedArray","Base","TAC","FORCED","ABV","TypedArrayPrototype","addElement","that","v","o","getter","round","setter","$offset","$length","$len","b","l","e","iter","Function","$nativeIterator","CORRECT_ITER_NAME","$iterator","G","W","of","P","cof","inheritIfRequired","$trim","trim","$Number","BROKEN_COF","TRIM","toNumber","argument","third","radix","maxCode","first","NaN","digits","valueOf","j","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","__proto__","arg","encodingOrOffset","allocUnsafe","fromArrayLike","fromArrayBuffer","isEncoding","actual","write","fromString","checked","val","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","swap","n","m","bidirectionalIndexOf","dir","isNaN","arr","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","hexWrite","Number","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","base64Slice","fromByteArray","utf8Slice","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","Symbol","species","allocUnsafeSlow","_isBuffer","compare","a","x","y","swap16","swap32","swap64","hexSlice","asciiSlice","latin1Slice","utf16leSlice","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","ret","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","stringtrim","base64clean","dst","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","title","browser","env","argv","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","isRegExp","$flags","$RegExp","RegExp","re1","re2","CORRECT_NEW","p","tiRE","piRE","fiU","proxy","CryptoJS","subtype","C_lib","extend","overrides","mixIn","$super","instance","properties","propertyName","clone","WordArray","words","sigBytes","encoder","Hex","stringify","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","ceil","nBytes","rcache","r","m_w","m_z","mask","_r","C_enc","enc","hexChars","bite","hexStr","hexStrLength","Latin1","latin1Chars","latin1Str","latin1StrLength","Utf8","decodeURIComponent","utf8Str","unescape","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","doFlush","dataWords","dataSigBytes","blockSize","blockSizeBytes","nBlocksReady","nWordsReady","_minBufferSize","nBytesReady","_doProcessBlock","processedWords","splice","C_algo","Hasher","cfg","_doReset","messageUpdate","finalize","_doFinalize","_createHelper","hasher","_createHmacHelper","HMAC","algo","realClock","createEventStream","MIME_MAP","sortByField","field","dirX","a_val","b_val","objectLessAttributes","less","assign","attr","filenameToContentType","filename","defVal","filtered","mime","endsWith","isTextFile","contentType","startsWith","generateRandomString","chars","makeQuerablePromise","promise","isResolved","isPending","isRejected","isFullfilled","then","browserOrNode","window","document","node","transferKeyToLowerCase","whiteListForItself","whiteListForChildren","isStrictObject","transferKeyToUpperCase","Boolean","createHTML","Analytics_1","AnalyticsClass","core_1","endpointUpdated","authConfigured","analyticsConfigured","_instance","debug","Analytics","register","listener","capsule","channel","authEvent","storageEvent","analyticsEvent","_a","attrs","metrics","record","attributes","event","sendEvents","configure","updateEndpoint","immediate","catch","autoTrack","enable","listen","Collection","shape","memberName","enum","pattern","location","xmlName","queryName","locationName","streaming","isStreaming","requiresLength","isComposite","idempotencyToken","jsonvalue","sensitive","eventstream","eventpayload","eventheader","timestampFormat","isTimestampFormatSet","endpointdiscoveryid","hostLabel","documentation","documentationUrl","xmlAttribute","toWireFormat","toType","CompositeShape","flattened","StructureShape","requiredMap","firstInit","isShape","member","xmlOrder","memberNames","iLen","isEventPayload","eventHeaderMemberNames","isEventHeader","required","resultWrapper","xmlNamespace","prefix","uri","ListShape","oldName","MapShape","StringShape","nullLessProtocols","protocol","isJsonValue","BinaryShape","isSensitive","secureBuf","Base64Shape","BooleanShape","normalizedTypes","character","double","long","short","biginteger","bigdecimal","blob","types","structure","boolean","timestamp","float","parseFloat","integer","binary","refShape","shapes","filteredKeys","InlineShape","origType","Service","services","STS","defineService","model","paginators","pagination","Auth_1","AuthClass","CognitoHostedUIIdentityProvider","amazon_cognito_identity_js_1","CognitoUser","CookieStorage","Auth","__esModule","Helmet","_extends","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","_reactSideEffect2","_reactFastCompare2","_HelmetUtils","_HelmetConstants","_objectWithoutProperties","Component","_class","_temp","HelmetSideEffects","reducePropsToState","handleClientStateChange","mapStateOnServer","HelmetExport","_React$Component","HelmetWrapper","_classCallCheck","ReferenceError","_possibleConstructorReturn","subClass","superClass","setPrototypeOf","_inherits","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","TAG_NAMES","SCRIPT","NOSCRIPT","innerHTML","STYLE","cssText","flattenArrayTypeChildren","_ref","_extends2","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_extends3","_extends4","newProps","TITLE","titleAttributes","BODY","bodyAttributes","HTML","htmlAttributes","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_extends5","warnOnInvalidChildren","mapChildrenToProps","children","_this2","Children","_child$props","childProps","convertReactPropstoHtmlAttributes","LINK","META","render","_props","createElement","canUseDOM","propTypes","oneOfType","arrayOf","defaultTitle","bool","encodeSpecialCharacters","link","meta","noscript","onChangeClientState","func","script","style","titleTemplate","defaultProps","peek","rewind","mappedState","baseTag","linkTags","metaTags","noscriptTags","scriptTags","styleTags","renderStatic","populateHostPrefix","generateURI","endpointPath","operationPath","queryString","queryStringSet","paramValue","regex","_","plus","buildRequest","method","httpMethod","populateMethod","endpoint","httpPath","populateURI","memberValue","populateHeaders","extractError","extractData","k","header","isLocationName","viewStrings","isEmptyData","convertToBuffer","punycode","Url","slashes","auth","host","port","hostname","search","query","pathname","href","relative","resolveObject","isString","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","javascript:","hostlessProtocol","slashedProtocol","https","ftp","gopher","file","http:","https:","ftp:","gopher:","file:","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","rest","simplePath","exec","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","unshift","toASCII","h","ae","esc","qm","s","charAt","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","isAbsolute","Amplify","comp","_components","getModuleName","_this","_config","addPluggable","pluggable","API","Storage","Cache","PubSub","Interactions","Pushnotification","UI","XR","endPos","JsonBuilder","JsonParser","targetPrefix","jsonVersion","builder","build","__type","Message","statusMessage","convertResponseTypes","parser","translate","struct","memberShape","translateStructure","translateMap","translateList","translateScalar","shapeMembers","hostPrefixEnabled","labels","hostPattern","operationModel","isEndpointOperation","endpointOperation","endpointDiscoveryRequired","hasEndpointDiscover","hostPrefix","hostPrefixNotation","expandHostPrefix","label","test","strictDeepEqual","second","keysSeen","key2","isFalse","trimLeft","TYPE_NUMBER","TYPE_ANY","TYPE_STRING","TYPE_ARRAY","TYPE_OBJECT","TYPE_EXPREF","TYPE_ARRAY_NUMBER","TYPE_ARRAY_STRING","basicTokens",".","*",",",":","{","}","]","(",")","@","operatorStartToken","<",">","=","!","skipChars"," ","\t","\n","isNum","Lexer","tokenize","identifier","token","tokens","_current","_consumeUnquotedIdentifier","_consumeNumber","_consumeLBracket","_consumeQuotedIdentifier","_consumeRawStringLiteral","literal","_consumeLiteral","_consumeOperator","maxLength","current","startingChar","literalString","_looksLikeJSON","ex","bindingPower","TreeInterpreter","runtime","Runtime","interpreter","_interpreter","functionTable","_func","_functionAbs","_signature","avg","_functionAvg","_functionCeil","contains","_functionContains","ends_with","_functionEndsWith","_functionFloor","_functionLength","_functionMap","_functionMax","_functionMerge","variadic","max_by","_functionMaxBy","sum","_functionSum","starts_with","_functionStartsWith","_functionMin","min_by","_functionMinBy","_functionType","_functionKeys","_functionValues","_functionSort","sort_by","_functionSortBy","_functionJoin","_functionReverse","to_array","_functionToArray","to_string","_functionToString","to_number","_functionToNumber","not_null","_functionNotNull","expression","_loadTokens","ast","_lookahead","t","_lookaheadToken","rbp","leftToken","_advance","left","nud","currentToken","led","number","right","Not","_parseProjectionRHS","Star","_parseMultiselectHash","Flatten","_parseIndexExpression","_projectIfSlice","_parseMultiselectList","Expref","_match","_errorToken","tokenName","Dot","_parseDotRHS","Pipe","Or","And","condition","Filter","_parseComparator","tokenType","_parseSliceExpression","indexExpr","comparator","lookahead","expressions","keyToken","keyName","pairs","identifierTypes","visit","matched","collected","sliceParams","computed","computeSliceParams","stop","objValues","finalResults","original","merged","resolvedArgs","callFunction","refNode","jmespathType","arrayLength","stepValueNegative","capSliceRange","actualValue","functionEntry","_validateArgs","signature","pluralized","currentSpec","actualType","typeMatched","_getTypeName","_typeMatches","expected","argValue","searchStr","suffix","originalStr","reversedStr","reversedArray","inputArray","mapped","exprefNode","elements","maxElement","localeCompare","minElement","listToSum","joinChar","convertedValue","sortedArray","requiredType","decorated","exprA","exprB","maxRecord","resolvedArray","keyFunction","createKeyFunction","maxNumber","minRecord","minNumber","allowedTypes","msg","compile","dataMemory","setItem","getItem","removeItem","clear","storageWindow","localStorage","exception","getStorage","CacheList_1","CacheList","nativeMatches","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","element","selector","nodes","parentNode","querySelectorAll","nodeType","H","K","isPrime","sqrtN","sqrt","factor","getFractionalBits","nPrime","SHA256","_hash","M","d","g","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","HmacSHA256","defined","quot","tag","attribute","p1","$entries","Typed","TypedArrayConstructors","QueryParamSerializer","Version","apiVersion","Action","serialize","Code","Errors","origRules","tmp","_XAMZRequestId","requestIdShape","memoize","factory","nameTr","iterable","id","applyContentTypeHeader","isBinary","payloadShape","populateBody","isEventStream","streamsApiVersion","rootElement","toXML","endpointPrefix","signingName","globalEndpoint","signatureVersion","serviceAbbreviation","serviceFullName","serviceId","endpointoperation","paginator","waiters","waiter","requestUri","authtype","endpointdiscovery","errors","idempotentMembers","isIdempotent","topLevelShape","hasEventStream","input_token","limit_key","more_results","output_token","result_key","_events","eventName","toHead","onAsync","_isAsync","position","eventArgs","doneCallback","count","callListeners","prevError","callNextListener","_haltHandlersOnError","addListeners","callbacks","addNamedListener","addNamedAsyncListener","addNamedListeners","expired","expireTime","refreshCallbacks","creds","credentials","accessKeyId","secretAccessKey","sessionToken","expiryWindow","needsRefresh","currentTime","adjustedTime","refresh","coalesceRefresh","sync","load","getPromise","refreshPromise","CredentialProviderChain","providers","defaultProviders","resolveCallbacks","resolveNext","provider","getErr","resolvePromise","Endpoint","sslEnabled","HttpRequest","region","_userAgent","setUserAgent","getUserAgentHeaderName","appendToUserAgent","agentPartial","getUserAgent","endpointStr","newEndpoint","HttpResponse","createUnbufferedStream","singleton","spaces","space","ltrim","rtrim","exporter","ALIAS","exp","FORCE","TYPE","gOPS","anObject","Reflect","ownKeys","getSymbols","V3","RequestSigner","addAuthorization","datetime","authorization","signedHeaders","headersToSign","canonicalHeaders","stringToSign","v1","getRandomValues","bind","msCrypto","rnds8","rnds","byteToHex","bth","pv","GoogleOAuth_1","FacebookOAuth_1","packageInfo","product","isReactNative","MobileAnalytics","Pinpoint","cache_1","uuid_1","AMPLIFY_SYMBOL","for","dispatchAnalyticsEvent","dispatch","BUFFER_SIZE","FLUSH_SIZE","FLUSH_INTERVAL","RESEND_LIMIT","AWSPinpointProvider","_endpointGenerating","_buffer","bufferSize","flushSize","flushInterval","resendLimit","_clientInfo","clientInfo","_setupTimer","_timer","clearInterval","setInterval","_sendFromBuffer","_putToBuffer","appId","success","_startSession","_b","sent","_stopSession","_updateEndpoint","_recordCustomEvent","resendLimits","getCategory","category","getProviderName","providerName","conf","cacheKey","_getEndpointId","endpointId","_getCredentials","_generateSession","eventId","_send","_sessionId","_sessionStartTimestamp","session","Id","StartTimestamp","stopTimestamp","Duration","StopTimestamp","_generateBatchItemContext","eventParams","ApplicationId","EventsRequest","BatchItem","endpointObj","EventType","Timestamp","Attributes","Metrics","Session","_pinpointPutEvents","rej","pinpointClient","putEvents","send","_initClients","_endpointRequest","update_params","EndpointId","EndpointRequest","_removeUnusedEndpoints","User","UserId","userId","getUserEndpoints","endpoints","EndpointsResponse","endpointToBeDeleted","timeStamp1","timeStamp2","mobileAnalytics","identityId","customizeRequests","clientContext","defaultEndpointConfig","demographicByClientInfo","appVersion","make","modelVersion","demographicByClientContext","clientId","appTitle","appVersionName","appVersionCode","appPackageName","__rest","channelType","address","__assign","effectiveDate","demographic","user","userAttributes","shear","Utils_1","StorageCache","cacheCurSizeKey","keyPrefix","checkConfig","isInteger","capacityInBytes","defaultConfig","itemMaxSize","defaultTTL","defaultPriority","warningThreshold","fillCacheItem","getCurrTime","visitedTime","priority","expires","byteSize","getByteLength","matches_1","parents_1","shouldCheckSelf","parent_1","parentElements","ele","isFederatedSignInOptions","isFederatedSignInOptionsCustom","isCognitoHostedOpts","oauth","redirectSignIn","isUsernamePasswordOpts","username","superInit","typedArray","Int8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint32Array","Float32Array","Float64Array","typedArrayByteLength","Base64","_map","base64Chars","triplet","paddingChar","base64Str","base64StrLength","reverseMap","_reverseMap","paddingIndex","bits1","bits2","parseLoop","ATTRIBUTE_NAMES","BASE","HEAD","REACT_TAG_MAP","VALID_TAG_NAMES","TAG_PROPERTIES","CHARSET","CSS_TEXT","HREF","HTTPEQUIV","INNER_HTML","ITEM_PROP","PROPERTY","REL","SRC","accesskey","charset","class","contenteditable","contextmenu","http-equiv","itemprop","tabindex","HELMET_PROPS","DEFAULT_TITLE","DEFER","ENCODE_SPECIAL_CHARACTERS","ON_CHANGE_CLIENT_STATE","TITLE_TEMPLATE","HTML_TAG_MAP","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","dbits","AuthenticationDetails","ValidationData","Username","Password","AuthParameters","validationData","authParameters","password","getUsername","getPassword","getValidationData","getAuthParameters","BigInteger","nbi","inBrowser","appName","am","w","xl","xh","DB","DM","DV","FV","F1","F2","rr","vv","BI_RM","BI_RC","int2char","intAt","nbv","fromInt","nbits","Montgomery","mp","invDigit","mpl","mph","um","mt2","convert","dlShiftTo","divRemTo","compareTo","ZERO","subTo","revert","copyTo","u0","drShiftTo","mulTo","multiplyTo","sqrTo","squareTo","mi","sh","lShiftTo","bs","cbs","bm","ds","rShiftTo","q","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","ONE","qd","addTo","negate","km","bitLength","mod","add","subtract","multiply","divide","modPow","z","k1","g2","is1","r2","randomBytes","initN","AuthenticationHelper","PoolName","N","hexHash","smallAValue","generateRandomSmallA","getLargeAValue","infoBits","poolName","getSmallAValue","largeAValue","calculateA","hexRandom","getRandomPassword","randomPassword","getSaltDevices","SaltToHashDevices","getVerifierDevices","verifierDevices","generateHashDevice","deviceGroupKey","combinedString","hashedString","padHex","verifierDevicesNotPadded","_this3","A","calculateU","B","UHexHash","hashHex","computehkdf","ikm","salt","infoBitsWordArray","ikmWordArray","saltWordArray","prk","getPasswordAuthenticationKey","serverBValue","_this4","UValue","usernamePassword","usernamePasswordHash","xValue","calculateS","sValue","hkdf","_this5","gModPowXN","err2","getNewPasswordRequiredChallengeUserAttributePrefix","bigInt","hashStr","CognitoJwtToken","jwtToken","decodePayload","getJwtToken","getExpiration","getIssuedAt","iat","CognitoAccessToken","_CognitoJwtToken","AccessToken","CognitoIdToken","IdToken","CognitoRefreshToken","RefreshToken","getToken","CognitoUserSession","ClockDrift","idToken","refreshToken","accessToken","clockDrift","calculateClockDrift","getIdToken","getRefreshToken","getAccessToken","getClockDrift","isValid","adjusted","monthNames","weekNames","DateHelper","getNowString","now","weekDay","getUTCDay","month","getUTCMonth","day","getUTCDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","getUTCFullYear","CognitoUserAttribute","Name","Value","getValue","setValue","getName","setName","Pool","pool","client","signInUserSession","authenticationFlowType","storage","getClientId","userDataKey","setSignInUserSession","clearCachedUserData","cacheTokens","getSignInUserSession","getAuthenticationFlowType","setAuthenticationFlowType","initiateAuth","authDetails","USERNAME","jsonReq","AuthFlow","ClientId","ClientMetadata","getUserContextData","UserContextData","onFailure","challengeName","ChallengeName","challengeParameters","ChallengeParameters","customChallenge","getCognitoUserSession","AuthenticationResult","onSuccess","authenticateUser","authenticateUserPlainUsernamePassword","authenticateUserDefaultAuth","authenticationHelper","getUserPoolId","dateHelper","deviceKey","DEVICE_KEY","errOnAValue","aValue","SRP_A","CHALLENGE_NAME","USER_ID_FOR_SRP","SRP_B","SALT","getCachedDeviceKeyAndPassword","errOnHkdf","dateNow","SECRET_BLOCK","signatureString","challengeResponses","PASSWORD_CLAIM_SECRET_BLOCK","TIMESTAMP","PASSWORD_CLAIM_SIGNATURE","jsonReqResp","ChallengeResponses","respondToAuthChallenge","challenge","challengeCallback","errChallenge","dataChallenge","clearCachedDeviceKeyAndPassword","errAuthenticate","dataAuthenticate","authenticateUserInternal","PASSWORD","authResult","mfaRequired","selectMFAType","mfaSetup","totpRequired","rawRequiredAttributes","requiredAttributes","userAttributesPrefix","newPasswordRequired","newDeviceMetadata","NewDeviceMetadata","DeviceGroupKey","DeviceKey","errGenHash","deviceSecretVerifierConfig","Salt","PasswordVerifier","DeviceSecretVerifierConfig","DeviceName","errConfirm","dataConfirm","cacheDeviceKeyAndPassword","UserConfirmationNecessary","getDeviceResponse","completeNewPasswordChallenge","newPassword","requiredAttributeData","finalUserAttributes","NEW_PASSWORD","_this6","errAValue","errHkdf","confirmRegistration","confirmationCode","forceAliasCreation","ConfirmationCode","ForceAliasCreation","sendCustomChallengeAnswer","answerChallenge","_this7","ANSWER","sendMFACode","mfaType","_this8","SMS_MFA_CODE","mfaTypeSelection","SOFTWARE_TOKEN_MFA_CODE","changePassword","oldUserPassword","newUserPassword","PreviousPassword","ProposedPassword","enableMFA","mfaOptions","DeliveryMedium","AttributeName","MFAOptions","setUserMfaPreference","smsMfaSettings","softwareTokenMfaSettings","SMSMfaSettings","SoftwareTokenMfaSettings","disableMFA","deleteUser","_this9","clearCachedUser","updateAttributes","UserAttributes","getUserAttributes","userData","attributeList","userAttribute","getMFAOptions","getUserData","_this10","bypassCache","latestUserData","cacheUserData","refreshSession","refreshError","deleteAttributes","UserAttributeNames","resendConfirmationCode","getSession","idTokenKey","accessTokenKey","refreshTokenKey","clockDriftKey","cachedSession","_this11","REFRESH_TOKEN","lastUserKey","deviceKeyKey","authenticationResult","clearCachedTokens","randomPasswordKey","deviceGroupKeyKey","forgotPassword","inputVerificationCode","confirmPassword","getAttributeVerificationCode","attributeName","verifyAttribute","getDevice","forgetSpecificDevice","forgetDevice","_this12","setDeviceStatusRemembered","DeviceRememberedStatus","setDeviceStatusNotRemembered","listDevices","paginationToken","Limit","PaginationToken","globalSignOut","_this13","signOut","sendMFASelectionAnswer","_this14","associateSoftwareToken","_this15","associateSecretCode","SecretCode","verifySoftwareToken","totpCode","friendlyDeviceName","_this16","UserCode","FriendlyDeviceName","errRespond","dataRespond","UserAgent","Client","Content-Type","X-Amz-Target","X-Amz-User-Agent","mode","cache","response","fetch","json","ok","_error","status","CognitoUserPool","UserPoolId","AdvancedSecurityDataCollectionFlag","userPoolId","advancedSecurityDataCollectionFlag","signUp","cognitoUser","returnData","userConfirmed","UserConfirmed","userSub","UserSub","codeDeliveryDetails","CodeDeliveryDetails","getCurrentUser","lastAuthUser","AmazonCognitoAdvancedSecurityData","amazonCognitoAdvancedSecurityDataConst","advancedSecurityData","getData","EncodedData","domain","secure","Cookies","cookies","__webpack_exports__","es_AuthenticationDetails","es_AuthenticationHelper","es_CognitoAccessToken","es_CognitoIdToken","es_CognitoRefreshToken","es_CognitoUser","es_CognitoUserAttribute","es_CognitoUserPool","es_CognitoUserSession","es_CookieStorage","es_DateHelper","AWSPinpointProvider_1","trackers_1","trackers","pageView","PageViewTracker","EventTracker","SessionTracker","_pluggables","_disabled","_trackers","amplifyConfig","parseMobilehubConfig","providerConfig","disabled","getPluggable","removePluggable","disable","startSession","_sendEvent","stopSession","isAnalyticsConfigured","errMsg","trackerType","tracker","DESCRIPTORS","getKeys","toIObject","isEnum","isEntries","scope","Timeout","clearFn","_id","_clearFn","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","html","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","documentElement","onreadystatechange","removeChild","appendChild","addEventListener","attachEvent","task","setToStringTag","PROTOTYPE","WRONG_INDEX","BaseBuffer","log","LN2","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","eLen","eMax","eBias","rt","unpackIEEE754","nBits","unpackI32","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","intIndex","store","pack","conversion","ArrayBufferProto","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","to","inc","ucfirst","isQueryName","serializeStructure","serializeMember","memberRules","serializeList","valueName","serializeMap","XmlNode","XmlText","XmlBuilder","xml","isXmlAttribute","addAttribute","addChildNode","applyNamespaces","xmlKey","xmlValue","entry","entryKey","entryValue","serializeScalar","isRoot","xmlNamespaceUri","xmlNamespacePrefix","noEmpty","escapeAttribute","removeAttribute","hasChildren","xmlText","attributeNames","escapeElement","svc","LRU_1","CACHE_SIZE","maxSize","LRUCache","put","keyString","getKeyString","endpointRecord","populateValue","records","Expire","remove","identifiers","identifierNames","identifierName","Address","CachePeriodInMinutes","empty","LinkedListNode","nodeMap","sizeLimit","prependToList","headerNode","prev","tailNode","removeFromTail","prevNode","detachFromList","key_1","newNode","regionConfig","clientCount","loadServiceClass","ServiceClass","originalConfig","_clientId","initialize","svcConfig","Config","validateService","endpointFromTemplate","setEndpoint","addDefaultMonitoringListeners","clientSideMonitoring","_clientSideMonitoring","publisher","eventHandler","serviceConfig","apiConfig","defineServiceApi","apiVersions","getLatestServiceClass","getLatestServiceVersion","selectedVersion","defaultRetryCount","customRequestHandler","makeRequest","Request","addAllRequestListeners","attachMonitoringEmitter","makeUnauthenticatedRequest","toUnauthenticated","waitFor","state","wait","EventListeners","Core","serviceInterface","CorePost","paramValidation","VALIDATE_PARAMETERS","setupRequestListeners","apiCallEvent","monitoringEvent","Type","Region","MaxRetriesExceeded","FinalHttpStatusCode","FinalAwsException","FinalAwsExceptionMessage","FinalSdkException","FinalSdkExceptionMessage","apiAttemptEvent","Fqdn","HttpStatusCode","_unAuthenticated","AccessKey","SessionToken","XAmznRequestId","XAmzRequestId","XAmzId2","attemptFailEvent","AwsException","AwsExceptionMessage","SdkException","SdkExceptionMessage","attemptTimestamp","attemptStartRealTime","attemptLatency","callStartRealTime","callTimestamp","attemptCount","AttemptLatency","AttemptCount","latency","Latency","getSignerClass","getVersion","successfulResponse","numRetries","retryDelays","retryableError","timeoutError","networkingError","expiredCredentialsError","throttledError","clockSkewError","getSkewCorrectedDate","newServerTime","paginationConfig","throwException","defineMethods","_serviceMap","addVersions","Publisher","publisherConfig","configProvider","enabled","superclass","setApi","isApi","hasService","attachOn","baseClass","applyConfig","regionPrefix","generateRegionPrefix","derivedKeys","patterns","useDualstack","isGlobalEndpoint","PromisesDependency","extractCredentials","getCredentials","finish","credError","credentialProvider","allowUnknownKeys","loadFromPath","fileSystemCreds","FileSystemCredentials","chain","defaultValue","maxRedirects","s3ForcePathStyle","s3BucketEndpoint","s3DisableBodySigning","computeChecksums","correctClockSkew","dynamoDbCrc32","signatureCache","useAccelerateEndpoint","endpointDiscoveryEnabled","setPromisesDependency","dep","S3","ManagedUpload","DISCOVER_ENDPOINT","discoverEndpoint","addAsync","validation","ParamValidator","haltHandlersOnError","V4","getOperationAuthtype","signer","setServiceClientId","signedAt","httpResp","didCallback","errCode","executeSend","_abortCallback","numBytes","dateHeader","total","progress","loaded","redirect","redirectCount","retryDelay","willRetry","errno","delta","startTime","ansi","isTTY","censoredParams","filterSensitiveLog","inputShape","subShapeName","subShape","buildMessage","endpointDiscoveryEnabledEnvs","getCacheKey","marshallCustomIdentifiers","marshallCustomIdentifiersHelper","endpointDiscoveryId","optionalDiscoverEndpoint","endpointCache","endpointRequest","Identifiers","addApiVersionHeader","RETRY_CHECK","Endpoints","requestQueue","requiredDiscoverEndpoint","cacheKeyStr","errorParams","pendingRequests","requestContext","invalidateCachedEndpoints","isFalsy","_originalConfig","hasCustomEndpoint","isPresigned","configFile","iniLoader","loadFrom","isConfig","sharedFileConfig","AWS_PROFILE","endpoint_discovery_enabled","isEndpointDiscoveryApplicable","invalidateCachedEndpoint","getOwnPropertyDescriptors","descriptors","formatRegExp","objects","deprecate","noDeprecation","warned","throwDeprecation","traceDeprecation","console","trace","debugEnviron","debugs","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","isFunction","primitive","simple","isNumber","formatPrimitive","visibleKeys","arrayToHash","getOwnPropertyNames","isError","formatError","isDate","braces","formatProperty","formatArray","cur","numLinesEst","reduceToSingleString","ar","re","objectToString","pad","debuglog","NODE_DEBUG","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","null","regexp","isSymbol","isPrimitive","months","getHours","getMinutes","getSeconds","getMonth","inherits","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","promiseResolve","promiseReject","custom","callbackify","callbackified","maybeCb","createProperty","getDesc","$defineProperty","createDesc","superCtor","super_","TempCtor","AcceptorStateMachine","jmespath","hardErrorStates","complete","fsm","setupStates","transition","_asm","currentState","machine","Domain","domainEmitter","domainThrown","addState","Response","states","emitEvent","runTo","eachPage","wrappedCallback","hasNextPage","nextPage","eachItem","resultKey","continueIteration","isPageable","streams","PassThrough","HTTP_DATA","HTTP_ERROR","expectedLen","shouldCheckContentLength","receivedLen","checkContentLengthAndEmit","httpStream","lengthAccumulator","_write","unpipe","pipe","eventParameters","presign","Presign","sign","toGet","VALIDATE_CREDENTIALS","SIGN","buildAsGet","finalState","bindObject","inputError","fail","accept","acceptState","failState","nextPageTokens","inputTokens","inputToken","cacheNextPageTokens","moreResults","exprs","outputToken","expr","CHECK_ACCEPTORS","_waiter","acceptors","acceptorMatched","acceptor","matcher","matchers","setSuccess","setError","loadWaiterConfig","pathAll","results","numResults","pathAny","$waiter","maxAttempts","serviceClientId","getServiceClientId","V2","V3Https","SignatureVersion","SignatureMethod","AWSAccessKeyId","SecurityToken","Signature","v4Credentials","serviceName","updateForPresigned","addHeaders","credString","credentialString","X-Amz-Date","X-Amz-Algorithm","X-Amz-Credential","X-Amz-Expires","X-Amz-SignedHeaders","isSignableHeader","lowerKey","sep","signingKey","getSigningKey","hexEncodedHash","canonicalString","hexEncodedBodyHash","canonicalHeaderValues","createScope","unsignableHeaders","cachedSecret","cacheQueue","v4Identifier","shouldCache","kDate","kRegion","kService","emptyCache","subResources","acl","accelerate","analytics","cors","lifecycle","delete","inventory","logging","notification","partNumber","policy","requestPayment","replication","restore","tagging","torrent","uploadId","uploads","versionId","versioning","website","responseHeaders","response-content-type","response-content-language","response-expires","response-cache-control","response-content-disposition","response-content-encoding","canonicalizedAmzHeaders","canonicalizedResource","amzHeaders","resource","virtualHostedBucket","resources","param","subresource","secret","expiresHeader","signedUrlBuilder","signerClass","signedUrlSigner","parsedUrl","queryParams","SET_CONTENT_LENGTH","COMPUTE_SHA256","context","validateMember","validateStructure","paramName","validateType","memberContext","validateList","validateMap","validateScalar","validateRange","mapCount","validateString","validatePayload","validateNumber","validTypes","validateEnum","validatePattern","validateUri","acceptedTypes","foundInvalidType","acceptedType","vowel","castedValue","Blob","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","clockseq","seedBytes","nsecs","dt","tl","tmh","ii","Hmac","Md5","Sha1","Sha256","alg","createSign","hashUtils","hashCtor","outer","inner","BLOCK_SIZE","bufferHash","bufferFromSecret","toHash","finished","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","isLE","bytesHashed","cmn","ff","gg","hh","sourceData","hashBuffer","undecoratedLength","bitsHashed","buff","h0","h1","h2","h3","h4","block","totalLength","byte","processBlock","outView","temp","MAX_HASHABLE_LENGTH","bufferView","state0","state1","state2","state3","state4","state5","state6","state7","t1_1","t2_1","t2","root","freeGlobal","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","overflow","not-basic","invalid-input","baseMinusTMin","stringFromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","numPoints","firstTime","basic","oldi","baseMinusT","inputLength","bias","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","ucs2","toUnicode","define","__WEBPACK_AMD_DEFINE_RESULT__","webpackPolyfill","paths","eq","maxKeys","kstr","vstr","xs","stringifyPrimitive","objectKeys","ks","performance","eventMessageChunker","parseEvent","eventMessages","messages","parseMessage","parsedMessage","messageType","errorCode","errorMessage","parseError","eventType","eventModel","eventPayloadMemberName","eventHeaderNames","Int64","splitMessage","BOOLEAN_TAG","BYTE_TAG","SHORT_TAG","INT_TAG","LONG_TAG","BINARY_TAG","STRING_TAG","TIMESTAMP_TAG","UUID_TAG","parseHeaders","nameLength","binaryLength","stringLength","uuidChars","fromNumber","negative","PRELUDE_MEMBER_LENGTH","PRELUDE_LENGTH","CHECKSUM_LENGTH","MINIMUM_MESSAGE_LENGTH","expectedPreludeChecksum","expectedMessageChecksum","headersStart","headersEnd","TemporaryCredentials","masterCredentials","loadMasterCredentials","RoleArn","RoleSessionName","createClients","assumeRole","getSessionToken","credentialsFrom","AccessKeyId","SecretAccessKey","Expiration","assumeRoleWithWebIdentity","assumeRoleWithSAML","ChainableTemporaryCredentials","tokenCodeFn","SerialNumber","getTokenCode","tokenCode","TokenCode","WebIdentityCredentials","clientConfig","_clientConfig","stsConfig","CognitoIdentity","CognitoIdentityCredentials","localStorageKey","_identityId","loadCachedId","IdentityId","getId","clearIdOnNotAuthorized","getCredentialsFromSTS","getCredentialsForIdentity","clearCachedId","poolId","IdentityPoolId","loginId","LoginId","cognito","loadCredentials","SecretKey","cacheId","getOpenIdToken","WebIdentityToken","Token","webIdentityCredentials","webErr","sts","Logins","actualProviders","cognitoConfig","setStorage","SAMLCredentials","DomXmlParser","getElementByTagName","getElementsByTagName","parseXml","parseStructure","tagName","firstElementChild","nodeName","textContent","nextElementSibling","parseMap","parseList","childNodes","parseUnknown","getAttribute","text","parseScalar","xmlChild","DOMParser","parseFromString","syntaxError","errorElement","ActiveXObject","async","loadXML","EventEmitter","XHRClient","emitter","xhr","XMLHttpRequest","headersEmitted","readyState","HEADERS_RECEIVED","getAllResponseHeaders","statusText","DONE","finishRequest","upload","evt","open","xhrAsync","setRequestHeader","xhrWithCredentials","withCredentials","responseType","rawHeaders","substring","ab","responseText","ReflectOwnKeys","R","ReflectApply","receiver","getOwnPropertySymbols","NumberIsNaN","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","_addListener","prepend","existing","warning","newListener","_onceWrap","fired","wrapFn","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","setMaxListeners","getMaxListeners","doError","er","handler","originalListener","spliceOne","rawListeners","eventNames","aFunction","rApply","fApply","thisArgument","argumentsList","T","L","LOG_LEVELS","VERBOSE","DEBUG","INFO","WARN","ERROR","level","_padding","_ts","getMilliseconds","_log","_i","logger_level_name","LOG_LEVEL","info","verbose","Browser","dimension","nav","tzMatch","vendor","language","operaMatch","cfMatch","ieMatch","sMatch","awkMatch","anyMatch","browserType","timezone","browserClientInfo","width","height","innerWidth","innerHeight","missingConfig","invalidParameter","HubClass","protectedChannels","pattern_1","holder","ampSymbol","patternInfo","_toListeners","listenerName","onHubCapsule","isLegacyCallback","payloadStr_1","groups","dispatchingCapsule","_i18n","createInstance","setLanguage","lang","putVocabulariesForLanguage","vocabularies","putVocabularies","_options","_lang","_dict","getByLanguage","lang_dict","encrypt","signed_headers","canonical_request","url_info","key_val","reencoded_val","parse_service_info","credential_scope","d_str","string_to_sign","dt_str","get_signing_key","secret_key","service_info","k_date","k_region","k_service","get_signature","signing_key","str_to_sign","access_info","session_token","request_str","serviceInfo","authorization_header","access_key","get_authorization_header","signUrl","urlToSign","accessInfo","expiration","today","credentialScope","sessionTokenRequired","X-Amz-Security-Token","canonicalRequest","additionalQueryParams","X-Amz-Signature","storageConfig","AWSPinpoint","userPoolWebClientId","identityPoolId","mandatorySignIn","AWSS3","bucket","waitForInit","auth2","initialized","refreshGoogleToken","_refreshGoogleTokenImpl","ga","getAuthInstance","googleAuth","googleUser","currentUser","isSignedIn","reloadAuthResponse","authResponse","id_token","expires_at","profile","getBasicProfile","getEmail","refreshFacebookToken","_refreshFacebookTokenImpl","fb","getLoginStatus","fbResponse","expiresIn","Linking","AppState","action","AsyncStorage","_gettingCredPromise","_refreshHandlers","getCredSource","_credentials_source","refreshHandlers","_storage","_storageSync","_pickupCredentials","_setCredentialsFromAWS","_keepAlive","cred","_credentials","_isExpired","currentUserCredentials","refreshFederatedToken","federatedInfo","identity_id","_setCredentialsFromFederation","_setCredentialsForGuest","attempted","e_1","_loadCredentials","__awaiter","newCredentials","google","facebook","amazon","developer","logins","_setCredentialsFromSession","authenticated","e_2","ServiceWorkerClass","_logger","_serviceWorker","filePath","serviceWorker","registration","installing","waiting","_registration","_setupListeners","enablePush","publicKey","_publicKey","pushManager","getSubscription","subscription","subscribe","userVisibleOnly","applicationServerKey","_urlB64ToUint8Array","_subscription","base64String","repeat","rawData","atob","outputArray","BrowserStorageCache_1","BrowserStorageCache","InMemoryCache_1","InMemoryCache","StorageCache_1","_super","cacheConfig","__extends","_decreaseCurSizeInBytes","amount","curSize","getCacheCurSize","_increaseCurSizeInBytes","_refreshItem","prefixedKey","_removeItem","itemSize","_setItem","setItemErr","_sizeToPop","spaceItemNeed","cacheThresholdSpace","_isCacheFull","_findValidKeys","keyInCache","_popOutItems","sizeToPop","remainedSize","cacheItemOptions","validKeys","keysToRemove","getAllKeys","charCode","_isInteger","CacheObject","DoubleLinkedNode","keyVal","nextNode","head","tail","hashtable","insertNodeToHead","removeNode","insertItem","getLastItem","removedItem","getSize","containsKey","clearList","isHeadNode","isTailNode","cacheList","curSizeInBytes","maxPriority","listIdx","presentKeyPrio","cacheListIdx","popedItemKey","PageViewTracker_1","EventTracker_1","SessionTracker_1","MethodEmbed_1","PREV_URL_KEY","defaultOpts","getUrl","_tracker","_hasEnabled","_trackFunc","_pageViewTrackSPA","_pageViewTrackDefault","_isSameUrl","sessionStorage","customAttrs","history","pushState","removeEventListener","lists","MethodEmbed","_originalMethod","methodOverride","dom_utils_1","selectorPrefix","_delegates","selector_1","delegate","composed","useCapture","destroy","defaultAttrs","localName","closest_1","closest","delegate_1","dispatch_1","get_attributes_1","getAttributes","parents","parse_url_1","parseUrl","ancestor","delegateTarget","composedPath","evtName","init_dict","isCustom","initDict","createEvent","dispatchEvent","HTTP_PORT","HTTPS_PORT","DEFAULT_PORT","initialEventSent","_trackBeforeUnload","_envCheck","hidden","_hidden","_visibilityChange","_sendInitialEvent","AWSKinesisProvider_1","AWSKinesisProvider","Kinesis","eventsGroups","preCred","group","evts","_sendEvents","_init","streamName","Data","PartitionKey","partitionKey","_kinesis","putRecords","Records","StreamName","types_1","url_1","OAuth_1","urlListener_1","dispatchAuthEvent","userPool","cookieStorage","identityPoolRegion","_isValidAuthStorage","userPoolData","cognitoHostedUIConfig","awsCognito","cognitoAuthParams","cognitoClientId","scopes","redirectSignOut","urlOpener","_oAuthHandler","_handleAuthResponse","restOfAttrs","email","phone_number","attrs_1","confirmSignUp","createCognitoUser","resendSignUp","signIn","usernameOrSignInOpts","pw","signInWithPassword","signInWithoutPassword","authCallbacks","currentUserPoolUser","challengeParam","getPreferredMFA","_getMfaTypeFromUserData","preferredMFA","PreferredMfaSetting","mfaList","UserMFASettingList","_getUserData","setPreferredMFA","mfaMethod","totpMfaSettings","PreferredMfa","Enabled","currentMFAType","disableSMS","enableSMS","setupTOTP","secretCode","verifyTotpToken","challengeAnswer","confirmSignIn","e_3","completeNewPassword","e_4","updateUserAttributes","userSession","verifiedContact","attributesToObject","unverified","verified","currentAuthenticatedUser","federatedUser","e_5","e_6","currentSession","e_7","currentCredentials","verifyUserAttribute","verifyUserAttributeSubmit","verifyCurrentUserAttribute","verifyCurrentUserAttributeSubmit","cognitoIdentitySignOut","e_8","isSignedInHostedUI","cleanCachedItems","oldPassword","forgotPasswordSubmit","currentUserInfo","userAttrs","e_10","err_1","federatedSignIn","providerOrOptions","Cognito","customProvider","client_id","clientID","redirect_uri","redirectUri","oauthSignIn","loggedInUser","URL","currentUrl","hasCodeOrError","hasTokenOrError","handleAuthResponse","replaceState","err_2","essentialCredentials","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","__WEBPACK_AMD_DEFINE_FACTORY__","OldCookies","noConflict","converter","defaults","setMilliseconds","stringifiedAttributes","cookie","rdecode","getJSON","withConverter","urlOpener_1","oAuthStorage","OAuth","_urlOpener","launchUri","_cognitoClientId","_scopes","_generateState","setState","pkce_key","_generateRandom","setPKCE","code_challenge","_generateChallenge","response_type","identity_provider","code_challenge_method","_handleCodeFlow","pairings","accum","oAuthTokenEndpoint","code_verifier","getPKCE","oAuthTokenBody","grant_type","URLSearchParams","access_token","refresh_token","_handleImplicitFlow","urlParams","acc","error_description","_validateState","savedState","getState","returnedState","oAuthLogoutEndpoint","signout_uri","returnTo","logout_uri","oAuth","_base64URL","_bufferToString","oauth_state","private_key","ouath_pkce_key","clearAll","_interopDefault","React","React__default","ExecutionEnvironment","shallowEqual","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_Component","recordedState","componentWillMount","componentDidUpdate","componentWillUnmount","displayName","getDisplayName","canUseWorkers","Worker","canUseEventListeners","canUseViewport","screen","objA","objB","compareContext","keysA","keysB","bHasOwnProperty","valueA","valueB","keyList","hasProp","hasElementType","Element","equal","arrA","arrB","dateA","dateB","regexpA","regexpB","$$typeof","requestAnimationFrame","_typeof","_objectAssign2","clock","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","lowerCaseAttributeKey","getTagsFromPropsList","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","rafPolyfill","cafPolyfill","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","_helmetCallback","commitTagChanges","newState","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","elementTag","helmetAttributeString","helmetAttributes","attributesToRemove","attributeKeys","setAttribute","indexToSave","tags","headElement","querySelector","tagNodes","indexToDelete","newElement","styleSheet","createTextNode","existingTag","isEqualNode","generateElementAttributesAsString","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","tagContent","isSelfClosing","generateTagsAsString","initAttributes","_ref$title"],"mappings":"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","file":"1-aafb69a6a8630b587971.js","sourcesContent":["/**\n * The main AWS namespace\n */\nvar AWS = { util: require('./util') };\n\n/**\n * @api private\n * @!macro [new] nobrowser\n *   @note This feature is not supported in the browser environment of the SDK.\n */\nvar _hidden = {}; _hidden.toString(); // hack to parse macro\n\n/**\n * @api private\n */\nmodule.exports = AWS;\n\nAWS.util.update(AWS, {\n\n  /**\n   * @constant\n   */\n  VERSION: '2.474.0',\n\n  /**\n   * @api private\n   */\n  Signers: {},\n\n  /**\n   * @api private\n   */\n  Protocol: {\n    Json: require('./protocol/json'),\n    Query: require('./protocol/query'),\n    Rest: require('./protocol/rest'),\n    RestJson: require('./protocol/rest_json'),\n    RestXml: require('./protocol/rest_xml')\n  },\n\n  /**\n   * @api private\n   */\n  XML: {\n    Builder: require('./xml/builder'),\n    Parser: null // conditionally set based on environment\n  },\n\n  /**\n   * @api private\n   */\n  JSON: {\n    Builder: require('./json/builder'),\n    Parser: require('./json/parser')\n  },\n\n  /**\n   * @api private\n   */\n  Model: {\n    Api: require('./model/api'),\n    Operation: require('./model/operation'),\n    Shape: require('./model/shape'),\n    Paginator: require('./model/paginator'),\n    ResourceWaiter: require('./model/resource_waiter')\n  },\n\n  /**\n   * @api private\n   */\n  apiLoader: require('./api_loader'),\n\n  /**\n   * @api private\n   */\n  EndpointCache: require('../vendor/endpoint-cache').EndpointCache\n});\nrequire('./sequential_executor');\nrequire('./service');\nrequire('./config');\nrequire('./http');\nrequire('./event_listeners');\nrequire('./request');\nrequire('./response');\nrequire('./resource_waiter');\nrequire('./signers/request_signer');\nrequire('./param_validator');\n\n/**\n * @readonly\n * @return [AWS.SequentialExecutor] a collection of global event listeners that\n *   are attached to every sent request.\n * @see AWS.Request AWS.Request for a list of events to listen for\n * @example Logging the time taken to send a request\n *   AWS.events.on('send', function startSend(resp) {\n *     resp.startTime = new Date().getTime();\n *   }).on('complete', function calculateTime(resp) {\n *     var time = (new Date().getTime() - resp.startTime) / 1000;\n *     console.log('Request took ' + time + ' seconds');\n *   });\n *\n *   new AWS.S3().listBuckets(); // prints 'Request took 0.285 seconds'\n */\nAWS.events = new AWS.SequentialExecutor();\n\n//create endpoint cache lazily\nAWS.util.memoizedProperty(AWS, 'endpointCache', function() {\n  return new AWS.EndpointCache(AWS.config.endpointCacheSize);\n}, true);\n","/* eslint guard-for-in:0 */\nvar AWS;\n\n/**\n * A set of utility methods for use with the AWS SDK.\n *\n * @!attribute abort\n *   Return this value from an iterator function {each} or {arrayEach}\n *   to break out of the iteration.\n *   @example Breaking out of an iterator function\n *     AWS.util.each({a: 1, b: 2, c: 3}, function(key, value) {\n *       if (key == 'b') return AWS.util.abort;\n *     });\n *   @see each\n *   @see arrayEach\n * @api private\n */\nvar util = {\n  environment: 'nodejs',\n  engine: function engine() {\n    if (util.isBrowser() && typeof navigator !== 'undefined') {\n      return navigator.userAgent;\n    } else {\n      var engine = process.platform + '/' + process.version;\n      if (process.env.AWS_EXECUTION_ENV) {\n        engine += ' exec-env/' + process.env.AWS_EXECUTION_ENV;\n      }\n      return engine;\n    }\n  },\n\n  userAgent: function userAgent() {\n    var name = util.environment;\n    var agent = 'aws-sdk-' + name + '/' + require('./core').VERSION;\n    if (name === 'nodejs') agent += ' ' + util.engine();\n    return agent;\n  },\n\n  uriEscape: function uriEscape(string) {\n    var output = encodeURIComponent(string);\n    output = output.replace(/[^A-Za-z0-9_.~\\-%]+/g, escape);\n\n    // AWS percent-encodes some extra non-standard characters in a URI\n    output = output.replace(/[*]/g, function(ch) {\n      return '%' + ch.charCodeAt(0).toString(16).toUpperCase();\n    });\n\n    return output;\n  },\n\n  uriEscapePath: function uriEscapePath(string) {\n    var parts = [];\n    util.arrayEach(string.split('/'), function (part) {\n      parts.push(util.uriEscape(part));\n    });\n    return parts.join('/');\n  },\n\n  urlParse: function urlParse(url) {\n    return util.url.parse(url);\n  },\n\n  urlFormat: function urlFormat(url) {\n    return util.url.format(url);\n  },\n\n  queryStringParse: function queryStringParse(qs) {\n    return util.querystring.parse(qs);\n  },\n\n  queryParamsToString: function queryParamsToString(params) {\n    var items = [];\n    var escape = util.uriEscape;\n    var sortedKeys = Object.keys(params).sort();\n\n    util.arrayEach(sortedKeys, function(name) {\n      var value = params[name];\n      var ename = escape(name);\n      var result = ename + '=';\n      if (Array.isArray(value)) {\n        var vals = [];\n        util.arrayEach(value, function(item) { vals.push(escape(item)); });\n        result = ename + '=' + vals.sort().join('&' + ename + '=');\n      } else if (value !== undefined && value !== null) {\n        result = ename + '=' + escape(value);\n      }\n      items.push(result);\n    });\n\n    return items.join('&');\n  },\n\n  readFileSync: function readFileSync(path) {\n    if (util.isBrowser()) return null;\n    return require('fs').readFileSync(path, 'utf-8');\n  },\n\n  base64: {\n    encode: function encode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 encode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      var buf = util.buffer.toBuffer(string);\n      return buf.toString('base64');\n    },\n\n    decode: function decode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 decode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      return util.buffer.toBuffer(string, 'base64');\n    }\n\n  },\n\n  buffer: {\n    /**\n     * Buffer constructor for Node buffer and buffer pollyfill\n     */\n    toBuffer: function(data, encoding) {\n      return (typeof util.Buffer.from === 'function' && util.Buffer.from !== Uint8Array.from) ?\n        util.Buffer.from(data, encoding) : new util.Buffer(data, encoding);\n    },\n\n    alloc: function(size, fill, encoding) {\n      if (typeof size !== 'number') {\n        throw new Error('size passed to alloc must be a number.');\n      }\n      if (typeof util.Buffer.alloc === 'function') {\n        return util.Buffer.alloc(size, fill, encoding);\n      } else {\n        var buf = new util.Buffer(size);\n        if (fill !== undefined && typeof buf.fill === 'function') {\n          buf.fill(fill, undefined, undefined, encoding);\n        }\n        return buf;\n      }\n    },\n\n    toStream: function toStream(buffer) {\n      if (!util.Buffer.isBuffer(buffer)) buffer =  util.buffer.toBuffer(buffer);\n\n      var readable = new (util.stream.Readable)();\n      var pos = 0;\n      readable._read = function(size) {\n        if (pos >= buffer.length) return readable.push(null);\n\n        var end = pos + size;\n        if (end > buffer.length) end = buffer.length;\n        readable.push(buffer.slice(pos, end));\n        pos = end;\n      };\n\n      return readable;\n    },\n\n    /**\n     * Concatenates a list of Buffer objects.\n     */\n    concat: function(buffers) {\n      var length = 0,\n          offset = 0,\n          buffer = null, i;\n\n      for (i = 0; i < buffers.length; i++) {\n        length += buffers[i].length;\n      }\n\n      buffer = util.buffer.alloc(length);\n\n      for (i = 0; i < buffers.length; i++) {\n        buffers[i].copy(buffer, offset);\n        offset += buffers[i].length;\n      }\n\n      return buffer;\n    }\n  },\n\n  string: {\n    byteLength: function byteLength(string) {\n      if (string === null || string === undefined) return 0;\n      if (typeof string === 'string') string = util.buffer.toBuffer(string);\n\n      if (typeof string.byteLength === 'number') {\n        return string.byteLength;\n      } else if (typeof string.length === 'number') {\n        return string.length;\n      } else if (typeof string.size === 'number') {\n        return string.size;\n      } else if (typeof string.path === 'string') {\n        return require('fs').lstatSync(string.path).size;\n      } else {\n        throw util.error(new Error('Cannot determine length of ' + string),\n          { object: string });\n      }\n    },\n\n    upperFirst: function upperFirst(string) {\n      return string[0].toUpperCase() + string.substr(1);\n    },\n\n    lowerFirst: function lowerFirst(string) {\n      return string[0].toLowerCase() + string.substr(1);\n    }\n  },\n\n  ini: {\n    parse: function string(ini) {\n      var currentSection, map = {};\n      util.arrayEach(ini.split(/\\r?\\n/), function(line) {\n        line = line.split(/(^|\\s)[;#]/)[0]; // remove comments\n        var section = line.match(/^\\s*\\[([^\\[\\]]+)\\]\\s*$/);\n        if (section) {\n          currentSection = section[1];\n        } else if (currentSection) {\n          var item = line.match(/^\\s*(.+?)\\s*=\\s*(.+?)\\s*$/);\n          if (item) {\n            map[currentSection] = map[currentSection] || {};\n            map[currentSection][item[1]] = item[2];\n          }\n        }\n      });\n\n      return map;\n    }\n  },\n\n  fn: {\n    noop: function() {},\n    callback: function (err) { if (err) throw err; },\n\n    /**\n     * Turn a synchronous function into as \"async\" function by making it call\n     * a callback. The underlying function is called with all but the last argument,\n     * which is treated as the callback. The callback is passed passed a first argument\n     * of null on success to mimick standard node callbacks.\n     */\n    makeAsync: function makeAsync(fn, expectedArgs) {\n      if (expectedArgs && expectedArgs <= fn.length) {\n        return fn;\n      }\n\n      return function() {\n        var args = Array.prototype.slice.call(arguments, 0);\n        var callback = args.pop();\n        var result = fn.apply(null, args);\n        callback(result);\n      };\n    }\n  },\n\n  /**\n   * Date and time utility functions.\n   */\n  date: {\n\n    /**\n     * @return [Date] the current JavaScript date object. Since all\n     *   AWS services rely on this date object, you can override\n     *   this function to provide a special time value to AWS service\n     *   requests.\n     */\n    getDate: function getDate() {\n      if (!AWS) AWS = require('./core');\n      if (AWS.config.systemClockOffset) { // use offset when non-zero\n        return new Date(new Date().getTime() + AWS.config.systemClockOffset);\n      } else {\n        return new Date();\n      }\n    },\n\n    /**\n     * @return [String] the date in ISO-8601 format\n     */\n    iso8601: function iso8601(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toISOString().replace(/\\.\\d{3}Z$/, 'Z');\n    },\n\n    /**\n     * @return [String] the date in RFC 822 format\n     */\n    rfc822: function rfc822(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toUTCString();\n    },\n\n    /**\n     * @return [Integer] the UNIX timestamp value for the current time\n     */\n    unixTimestamp: function unixTimestamp(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.getTime() / 1000;\n    },\n\n    /**\n     * @param [String,number,Date] date\n     * @return [Date]\n     */\n    from: function format(date) {\n      if (typeof date === 'number') {\n        return new Date(date * 1000); // unix timestamp\n      } else {\n        return new Date(date);\n      }\n    },\n\n    /**\n     * Given a Date or date-like value, this function formats the\n     * date into a string of the requested value.\n     * @param [String,number,Date] date\n     * @param [String] formatter Valid formats are:\n     #   * 'iso8601'\n     #   * 'rfc822'\n     #   * 'unixTimestamp'\n     * @return [String]\n     */\n    format: function format(date, formatter) {\n      if (!formatter) formatter = 'iso8601';\n      return util.date[formatter](util.date.from(date));\n    },\n\n    parseTimestamp: function parseTimestamp(value) {\n      if (typeof value === 'number') { // unix timestamp (number)\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d+$/)) { // unix timestamp\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d{4}/)) { // iso8601\n        return new Date(value);\n      } else if (value.match(/^\\w{3},/)) { // rfc822\n        return new Date(value);\n      } else {\n        throw util.error(\n          new Error('unhandled timestamp format: ' + value),\n          {code: 'TimestampParserError'});\n      }\n    }\n\n  },\n\n  crypto: {\n    crc32Table: [\n     0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419,\n     0x706AF48F, 0xE963A535, 0x9E6495A3, 0x0EDB8832, 0x79DCB8A4,\n     0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07,\n     0x90BF1D91, 0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE,\n     0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7, 0x136C9856,\n     0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9,\n     0xFA0F3D63, 0x8D080DF5, 0x3B6E20C8, 0x4C69105E, 0xD56041E4,\n     0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B,\n     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3,\n     0x45DF5C75, 0xDCD60DCF, 0xABD13D59, 0x26D930AC, 0x51DE003A,\n     0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599,\n     0xB8BDA50F, 0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924,\n     0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D, 0x76DC4190,\n     0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F,\n     0x9FBFE4A5, 0xE8B8D433, 0x7807C9A2, 0x0F00F934, 0x9609A88E,\n     0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01,\n     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED,\n     0x1B01A57B, 0x8208F4C1, 0xF50FC457, 0x65B0D9C6, 0x12B7E950,\n     0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3,\n     0xFBD44C65, 0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2,\n     0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, 0x4369E96A,\n     0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5,\n     0xAA0A4C5F, 0xDD0D7CC9, 0x5005713C, 0x270241AA, 0xBE0B1010,\n     0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,\n     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17,\n     0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, 0xEDB88320, 0x9ABFB3B6,\n     0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615,\n     0x73DC1683, 0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8,\n     0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, 0xF00F9344,\n     0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB,\n     0x196C3671, 0x6E6B06E7, 0xFED41B76, 0x89D32BE0, 0x10DA7A5A,\n     0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5,\n     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1,\n     0xA6BC5767, 0x3FB506DD, 0x48B2364B, 0xD80D2BDA, 0xAF0A1B4C,\n     0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF,\n     0x4669BE79, 0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236,\n     0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, 0xC5BA3BBE,\n     0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31,\n     0x2CD99E8B, 0x5BDEAE1D, 0x9B64C2B0, 0xEC63F226, 0x756AA39C,\n     0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713,\n     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B,\n     0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, 0x86D3D2D4, 0xF1D4E242,\n     0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1,\n     0x18B74777, 0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C,\n     0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, 0xA00AE278,\n     0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7,\n     0x4969474D, 0x3E6E77DB, 0xAED16A4A, 0xD9D65ADC, 0x40DF0B66,\n     0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,\n     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605,\n     0xCDD70693, 0x54DE5729, 0x23D967BF, 0xB3667A2E, 0xC4614AB8,\n     0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B,\n     0x2D02EF8D],\n\n    crc32: function crc32(data) {\n      var tbl = util.crypto.crc32Table;\n      var crc = 0 ^ -1;\n\n      if (typeof data === 'string') {\n        data = util.buffer.toBuffer(data);\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        var code = data.readUInt8(i);\n        crc = (crc >>> 8) ^ tbl[(crc ^ code) & 0xFF];\n      }\n      return (crc ^ -1) >>> 0;\n    },\n\n    hmac: function hmac(key, string, digest, fn) {\n      if (!digest) digest = 'binary';\n      if (digest === 'buffer') { digest = undefined; }\n      if (!fn) fn = 'sha256';\n      if (typeof string === 'string') string = util.buffer.toBuffer(string);\n      return util.crypto.lib.createHmac(fn, key).update(string).digest(digest);\n    },\n\n    md5: function md5(data, digest, callback) {\n      return util.crypto.hash('md5', data, digest, callback);\n    },\n\n    sha256: function sha256(data, digest, callback) {\n      return util.crypto.hash('sha256', data, digest, callback);\n    },\n\n    hash: function(algorithm, data, digest, callback) {\n      var hash = util.crypto.createHash(algorithm);\n      if (!digest) { digest = 'binary'; }\n      if (digest === 'buffer') { digest = undefined; }\n      if (typeof data === 'string') data = util.buffer.toBuffer(data);\n      var sliceFn = util.arraySliceFn(data);\n      var isBuffer = util.Buffer.isBuffer(data);\n      //Identifying objects with an ArrayBuffer as buffers\n      if (util.isBrowser() && typeof ArrayBuffer !== 'undefined' && data && data.buffer instanceof ArrayBuffer) isBuffer = true;\n\n      if (callback && typeof data === 'object' &&\n          typeof data.on === 'function' && !isBuffer) {\n        data.on('data', function(chunk) { hash.update(chunk); });\n        data.on('error', function(err) { callback(err); });\n        data.on('end', function() { callback(null, hash.digest(digest)); });\n      } else if (callback && sliceFn && !isBuffer &&\n                 typeof FileReader !== 'undefined') {\n        // this might be a File/Blob\n        var index = 0, size = 1024 * 512;\n        var reader = new FileReader();\n        reader.onerror = function() {\n          callback(new Error('Failed to read data.'));\n        };\n        reader.onload = function() {\n          var buf = new util.Buffer(new Uint8Array(reader.result));\n          hash.update(buf);\n          index += buf.length;\n          reader._continueReading();\n        };\n        reader._continueReading = function() {\n          if (index >= data.size) {\n            callback(null, hash.digest(digest));\n            return;\n          }\n\n          var back = index + size;\n          if (back > data.size) back = data.size;\n          reader.readAsArrayBuffer(sliceFn.call(data, index, back));\n        };\n\n        reader._continueReading();\n      } else {\n        if (util.isBrowser() && typeof data === 'object' && !isBuffer) {\n          data = new util.Buffer(new Uint8Array(data));\n        }\n        var out = hash.update(data).digest(digest);\n        if (callback) callback(null, out);\n        return out;\n      }\n    },\n\n    toHex: function toHex(data) {\n      var out = [];\n      for (var i = 0; i < data.length; i++) {\n        out.push(('0' + data.charCodeAt(i).toString(16)).substr(-2, 2));\n      }\n      return out.join('');\n    },\n\n    createHash: function createHash(algorithm) {\n      return util.crypto.lib.createHash(algorithm);\n    }\n\n  },\n\n  /** @!ignore */\n\n  /* Abort constant */\n  abort: {},\n\n  each: function each(object, iterFunction) {\n    for (var key in object) {\n      if (Object.prototype.hasOwnProperty.call(object, key)) {\n        var ret = iterFunction.call(this, key, object[key]);\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  arrayEach: function arrayEach(array, iterFunction) {\n    for (var idx in array) {\n      if (Object.prototype.hasOwnProperty.call(array, idx)) {\n        var ret = iterFunction.call(this, array[idx], parseInt(idx, 10));\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  update: function update(obj1, obj2) {\n    util.each(obj2, function iterator(key, item) {\n      obj1[key] = item;\n    });\n    return obj1;\n  },\n\n  merge: function merge(obj1, obj2) {\n    return util.update(util.copy(obj1), obj2);\n  },\n\n  copy: function copy(object) {\n    if (object === null || object === undefined) return object;\n    var dupe = {};\n    // jshint forin:false\n    for (var key in object) {\n      dupe[key] = object[key];\n    }\n    return dupe;\n  },\n\n  isEmpty: function isEmpty(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  arraySliceFn: function arraySliceFn(obj) {\n    var fn = obj.slice || obj.webkitSlice || obj.mozSlice;\n    return typeof fn === 'function' ? fn : null;\n  },\n\n  isType: function isType(obj, type) {\n    // handle cross-\"frame\" objects\n    if (typeof type === 'function') type = util.typeName(type);\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n  },\n\n  typeName: function typeName(type) {\n    if (Object.prototype.hasOwnProperty.call(type, 'name')) return type.name;\n    var str = type.toString();\n    var match = str.match(/^\\s*function (.+)\\(/);\n    return match ? match[1] : str;\n  },\n\n  error: function error(err, options) {\n    var originalError = null;\n    if (typeof err.message === 'string' && err.message !== '') {\n      if (typeof options === 'string' || (options && options.message)) {\n        originalError = util.copy(err);\n        originalError.message = err.message;\n      }\n    }\n    err.message = err.message || null;\n\n    if (typeof options === 'string') {\n      err.message = options;\n    } else if (typeof options === 'object' && options !== null) {\n      util.update(err, options);\n      if (options.message)\n        err.message = options.message;\n      if (options.code || options.name)\n        err.code = options.code || options.name;\n      if (options.stack)\n        err.stack = options.stack;\n    }\n\n    if (typeof Object.defineProperty === 'function') {\n      Object.defineProperty(err, 'name', {writable: true, enumerable: false});\n      Object.defineProperty(err, 'message', {enumerable: true});\n    }\n\n    err.name = options && options.name || err.name || err.code || 'Error';\n    err.time = new Date();\n\n    if (originalError) err.originalError = originalError;\n\n    return err;\n  },\n\n  /**\n   * @api private\n   */\n  inherit: function inherit(klass, features) {\n    var newObject = null;\n    if (features === undefined) {\n      features = klass;\n      klass = Object;\n      newObject = {};\n    } else {\n      var ctor = function ConstructorWrapper() {};\n      ctor.prototype = klass.prototype;\n      newObject = new ctor();\n    }\n\n    // constructor not supplied, create pass-through ctor\n    if (features.constructor === Object) {\n      features.constructor = function() {\n        if (klass !== Object) {\n          return klass.apply(this, arguments);\n        }\n      };\n    }\n\n    features.constructor.prototype = newObject;\n    util.update(features.constructor.prototype, features);\n    features.constructor.__super__ = klass;\n    return features.constructor;\n  },\n\n  /**\n   * @api private\n   */\n  mixin: function mixin() {\n    var klass = arguments[0];\n    for (var i = 1; i < arguments.length; i++) {\n      // jshint forin:false\n      for (var prop in arguments[i].prototype) {\n        var fn = arguments[i].prototype[prop];\n        if (prop !== 'constructor') {\n          klass.prototype[prop] = fn;\n        }\n      }\n    }\n    return klass;\n  },\n\n  /**\n   * @api private\n   */\n  hideProperties: function hideProperties(obj, props) {\n    if (typeof Object.defineProperty !== 'function') return;\n\n    util.arrayEach(props, function (key) {\n      Object.defineProperty(obj, key, {\n        enumerable: false, writable: true, configurable: true });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  property: function property(obj, name, value, enumerable, isValue) {\n    var opts = {\n      configurable: true,\n      enumerable: enumerable !== undefined ? enumerable : true\n    };\n    if (typeof value === 'function' && !isValue) {\n      opts.get = value;\n    }\n    else {\n      opts.value = value; opts.writable = true;\n    }\n\n    Object.defineProperty(obj, name, opts);\n  },\n\n  /**\n   * @api private\n   */\n  memoizedProperty: function memoizedProperty(obj, name, get, enumerable) {\n    var cachedValue = null;\n\n    // build enumerable attribute for each value with lazy accessor.\n    util.property(obj, name, function() {\n      if (cachedValue === null) {\n        cachedValue = get();\n      }\n      return cachedValue;\n    }, enumerable);\n  },\n\n  /**\n   * TODO Remove in major version revision\n   * This backfill populates response data without the\n   * top-level payload name.\n   *\n   * @api private\n   */\n  hoistPayloadMember: function hoistPayloadMember(resp) {\n    var req = resp.request;\n    var operationName = req.operation;\n    var operation = req.service.api.operations[operationName];\n    var output = operation.output;\n    if (output.payload && !operation.hasEventOutput) {\n      var payloadMember = output.members[output.payload];\n      var responsePayload = resp.data[output.payload];\n      if (payloadMember.type === 'structure') {\n        util.each(responsePayload, function(key, value) {\n          util.property(resp.data, key, value, false);\n        });\n      }\n    }\n  },\n\n  /**\n   * Compute SHA-256 checksums of streams\n   *\n   * @api private\n   */\n  computeSha256: function computeSha256(body, done) {\n    if (util.isNode()) {\n      var Stream = util.stream.Stream;\n      var fs = require('fs');\n      if (typeof Stream === 'function' && body instanceof Stream) {\n        if (typeof body.path === 'string') { // assume file object\n          var settings = {};\n          if (typeof body.start === 'number') {\n            settings.start = body.start;\n          }\n          if (typeof body.end === 'number') {\n            settings.end = body.end;\n          }\n          body = fs.createReadStream(body.path, settings);\n        } else { // TODO support other stream types\n          return done(new Error('Non-file stream objects are ' +\n                                'not supported with SigV4'));\n        }\n      }\n    }\n\n    util.crypto.sha256(body, 'hex', function(err, sha) {\n      if (err) done(err);\n      else done(null, sha);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(serverTime) {\n    if (serverTime) {\n      util.property(AWS.config, 'isClockSkewed',\n        Math.abs(new Date().getTime() - serverTime) >= 300000, false);\n      return AWS.config.isClockSkewed;\n    }\n  },\n\n  applyClockOffset: function applyClockOffset(serverTime) {\n    if (serverTime)\n      AWS.config.systemClockOffset = serverTime - new Date().getTime();\n  },\n\n  /**\n   * @api private\n   */\n  extractRequestId: function extractRequestId(resp) {\n    var requestId = resp.httpResponse.headers['x-amz-request-id'] ||\n                     resp.httpResponse.headers['x-amzn-requestid'];\n\n    if (!requestId && resp.data && resp.data.ResponseMetadata) {\n      requestId = resp.data.ResponseMetadata.RequestId;\n    }\n\n    if (requestId) {\n      resp.requestId = requestId;\n    }\n\n    if (resp.error) {\n      resp.error.requestId = requestId;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  addPromises: function addPromises(constructors, PromiseDependency) {\n    var deletePromises = false;\n    if (PromiseDependency === undefined && AWS && AWS.config) {\n      PromiseDependency = AWS.config.getPromisesDependency();\n    }\n    if (PromiseDependency === undefined && typeof Promise !== 'undefined') {\n      PromiseDependency = Promise;\n    }\n    if (typeof PromiseDependency !== 'function') deletePromises = true;\n    if (!Array.isArray(constructors)) constructors = [constructors];\n\n    for (var ind = 0; ind < constructors.length; ind++) {\n      var constructor = constructors[ind];\n      if (deletePromises) {\n        if (constructor.deletePromisesFromClass) {\n          constructor.deletePromisesFromClass();\n        }\n      } else if (constructor.addPromisesToClass) {\n        constructor.addPromisesToClass(PromiseDependency);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  promisifyMethod: function promisifyMethod(methodName, PromiseDependency) {\n    return function promise() {\n      var self = this;\n      return new PromiseDependency(function(resolve, reject) {\n        self[methodName](function(err, data) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(data);\n          }\n        });\n      });\n    };\n  },\n\n  /**\n   * @api private\n   */\n  isDualstackAvailable: function isDualstackAvailable(service) {\n    if (!service) return false;\n    var metadata = require('../apis/metadata.json');\n    if (typeof service !== 'string') service = service.serviceIdentifier;\n    if (typeof service !== 'string' || !metadata.hasOwnProperty(service)) return false;\n    return !!metadata[service].dualstackAvailable;\n  },\n\n  /**\n   * @api private\n   */\n  calculateRetryDelay: function calculateRetryDelay(retryCount, retryDelayOptions) {\n    if (!retryDelayOptions) retryDelayOptions = {};\n    var customBackoff = retryDelayOptions.customBackoff || null;\n    if (typeof customBackoff === 'function') {\n      return customBackoff(retryCount);\n    }\n    var base = typeof retryDelayOptions.base === 'number' ? retryDelayOptions.base : 100;\n    var delay = Math.random() * (Math.pow(2, retryCount) * base);\n    return delay;\n  },\n\n  /**\n   * @api private\n   */\n  handleRequestWithRetries: function handleRequestWithRetries(httpRequest, options, cb) {\n    if (!options) options = {};\n    var http = AWS.HttpClient.getInstance();\n    var httpOptions = options.httpOptions || {};\n    var retryCount = 0;\n\n    var errCallback = function(err) {\n      var maxRetries = options.maxRetries || 0;\n      if (err && err.code === 'TimeoutError') err.retryable = true;\n      if (err && err.retryable && retryCount < maxRetries) {\n        retryCount++;\n        var delay = util.calculateRetryDelay(retryCount, options.retryDelayOptions);\n        setTimeout(sendRequest, delay + (err.retryAfter || 0));\n      } else {\n        cb(err);\n      }\n    };\n\n    var sendRequest = function() {\n      var data = '';\n      http.handleRequest(httpRequest, httpOptions, function(httpResponse) {\n        httpResponse.on('data', function(chunk) { data += chunk.toString(); });\n        httpResponse.on('end', function() {\n          var statusCode = httpResponse.statusCode;\n          if (statusCode < 300) {\n            cb(null, data);\n          } else {\n            var retryAfter = parseInt(httpResponse.headers['retry-after'], 10) * 1000 || 0;\n            var err = util.error(new Error(),\n              { retryable: statusCode >= 500 || statusCode === 429 }\n            );\n            if (retryAfter && err.retryable) err.retryAfter = retryAfter;\n            errCallback(err);\n          }\n        });\n      }, errCallback);\n    };\n\n    AWS.util.defer(sendRequest);\n  },\n\n  /**\n   * @api private\n   */\n  uuid: {\n    v4: function uuidV4() {\n      return require('uuid').v4();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  convertPayloadToString: function convertPayloadToString(resp) {\n    var req = resp.request;\n    var operation = req.operation;\n    var rules = req.service.api.operations[operation].output || {};\n    if (rules.payload && resp.data[rules.payload]) {\n      resp.data[rules.payload] = resp.data[rules.payload].toString();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  defer: function defer(callback) {\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n      process.nextTick(callback);\n    } else if (typeof setImmediate === 'function') {\n      setImmediate(callback);\n    } else {\n      setTimeout(callback, 0);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getRequestPayloadShape: function getRequestPayloadShape(req) {\n    var operations = req.service.api.operations;\n    if (!operations) return undefined;\n    var operation = (operations || {})[req.operation];\n    if (!operation || !operation.input || !operation.input.payload) return undefined;\n    return operation.input.members[operation.input.payload];\n  },\n\n  /**\n   * @api private\n   */\n  defaultProfile: 'default',\n\n  /**\n   * @api private\n   */\n  configOptInEnv: 'AWS_SDK_LOAD_CONFIG',\n\n  /**\n   * @api private\n   */\n  sharedCredentialsFileEnv: 'AWS_SHARED_CREDENTIALS_FILE',\n\n  /**\n   * @api private\n   */\n  sharedConfigFileEnv: 'AWS_CONFIG_FILE',\n\n  /**\n   * @api private\n   */\n  imdsDisabledEnv: 'AWS_EC2_METADATA_DISABLED'\n};\n\n/**\n * @api private\n */\nmodule.exports = util;\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@aws-amplify/core\");\nvar BrowserStorageCache_1 = require(\"./BrowserStorageCache\");\nexports.BrowserStorageCache = BrowserStorageCache_1.default;\nvar InMemoryCache_1 = require(\"./InMemoryCache\");\nexports.InMemoryCache = InMemoryCache_1.default;\nexports.default = BrowserStorageCache_1.default;\ncore_1.default.register(BrowserStorageCache_1.default);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./ConsoleLogger\"));\n//# sourceMappingURL=index.js.map","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));","var util = require('./util');\n\n// browser specific modules\nutil.crypto.lib = require('./browserCryptoLib');\nutil.Buffer = require('buffer/').Buffer;\nutil.url = require('url/');\nutil.querystring = require('querystring/');\nutil.realClock = require('./realclock/browserClock');\nutil.environment = 'js';\nutil.createEventStream = require('./event-stream/buffered-create-event-stream').createEventStream;\nutil.isBrowser = function() { return true; };\nutil.isNode = function() { return false; };\n\nvar AWS = require('./core');\n\n/**\n * @api private\n */\nmodule.exports = AWS;\n\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nrequire('./credentials/temporary_credentials');\nrequire('./credentials/chainable_temporary_credentials');\nrequire('./credentials/web_identity_credentials');\nrequire('./credentials/cognito_identity_credentials');\nrequire('./credentials/saml_credentials');\n\n// Load the DOMParser XML parser\nAWS.XML.Parser = require('./xml/browser_parser');\n\n// Load the XHR HttpClient\nrequire('./http/xhr');\n\nif (typeof process === 'undefined') {\n  process = {\n    browser: true\n  };\n}\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MIME_MAP = [\n    { type: 'text/plain', ext: 'txt' },\n    { type: 'text/html', ext: 'html' },\n    { type: 'text/javascript', ext: 'js' },\n    { type: 'text/css', ext: 'css' },\n    { type: 'text/csv', ext: 'csv' },\n    { type: 'text/yaml', ext: 'yml' },\n    { type: 'text/yaml', ext: 'yaml' },\n    { type: 'text/calendar', ext: 'ics' },\n    { type: 'text/calendar', ext: 'ical' },\n    { type: 'image/png', ext: 'png' },\n    { type: 'image/gif', ext: 'gif' },\n    { type: 'image/jpeg', ext: 'jpg' },\n    { type: 'image/jpeg', ext: 'jpeg' },\n    { type: 'image/bmp', ext: 'bmp' },\n    { type: 'image/x-icon', ext: 'ico' },\n    { type: 'image/tiff', ext: 'tif' },\n    { type: 'image/tiff', ext: 'tiff' },\n    { type: 'image/svg+xml', ext: 'svg' },\n    { type: 'application/json', ext: 'json' },\n    { type: 'application/xml', ext: 'xml' },\n    { type: 'application/x-sh', ext: 'sh' },\n    { type: 'application/zip', ext: 'zip' },\n    { type: 'application/x-rar-compressed', ext: 'rar' },\n    { type: 'application/x-tar', ext: 'tar' },\n    { type: 'application/x-bzip', ext: 'bz' },\n    { type: 'application/x-bzip2', ext: 'bz2' },\n    { type: 'application/pdf', ext: 'pdf' },\n    { type: 'application/java-archive', ext: 'jar' },\n    { type: 'application/msword', ext: 'doc' },\n    { type: 'application/vnd.ms-excel', ext: 'xls' },\n    { type: 'application/vnd.ms-excel', ext: 'xlsx' },\n    { type: 'message/rfc822', ext: 'eml' }\n];\nvar JS = /** @class */ (function () {\n    function JS() {\n    }\n    JS.isEmpty = function (obj) {\n        return Object.keys(obj).length === 0;\n    };\n    JS.sortByField = function (list, field, dir) {\n        if (!list || !list.sort) {\n            return false;\n        }\n        var dirX = (dir && dir === 'desc') ? -1 : 1;\n        list.sort(function (a, b) {\n            var a_val = a[field];\n            var b_val = b[field];\n            if (typeof b_val === 'undefined') {\n                return (typeof a_val === 'undefined') ? 0 : 1 * dirX;\n            }\n            if (typeof a_val === 'undefined') {\n                return -1 * dirX;\n            }\n            if (a_val < b_val) {\n                return -1 * dirX;\n            }\n            if (a_val > b_val) {\n                return 1 * dirX;\n            }\n            return 0;\n        });\n        return true;\n    };\n    JS.objectLessAttributes = function (obj, less) {\n        var ret = Object.assign({}, obj);\n        if (less) {\n            if (typeof less === 'string') {\n                delete ret[less];\n            }\n            else {\n                less.forEach(function (attr) {\n                    delete ret[attr];\n                });\n            }\n        }\n        return ret;\n    };\n    JS.filenameToContentType = function (filename, defVal) {\n        if (defVal === void 0) { defVal = 'application/octet-stream'; }\n        var name = filename.toLowerCase();\n        var filtered = MIME_MAP.filter(function (mime) { return name.endsWith('.' + mime.ext); });\n        return filtered.length > 0 ? filtered[0].type : defVal;\n    };\n    JS.isTextFile = function (contentType) {\n        var type = contentType.toLowerCase();\n        if (type.startsWith('text/')) {\n            return true;\n        }\n        return ('application/json' === type ||\n            'application/xml' === type ||\n            'application/sh' === type);\n    };\n    /**\n     * generate random string\n     */\n    JS.generateRandomString = function () {\n        var result = '';\n        var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n        for (var i = 32; i > 0; i -= 1) {\n            result += chars[Math.floor(Math.random() * chars.length)];\n        }\n        return result;\n    };\n    JS.makeQuerablePromise = function (promise) {\n        if (promise.isResolved)\n            return promise;\n        var isPending = true;\n        var isRejected = false;\n        var isFullfilled = false;\n        var result = promise.then(function (data) {\n            isFullfilled = true;\n            isPending = false;\n            return data;\n        }, function (e) {\n            isRejected = true;\n            isPending = false;\n            throw e;\n        });\n        result.isFullfilled = function () { return isFullfilled; };\n        result.isPending = function () { return isPending; };\n        result.isRejected = function () { return isRejected; };\n        return result;\n    };\n    JS.browserOrNode = function () {\n        var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n        var isNode = typeof process !== 'undefined' &&\n            process.versions != null &&\n            process.versions.node != null;\n        return {\n            isBrowser: isBrowser,\n            isNode: isNode\n        };\n    };\n    /**\n     * transfer the first letter of the keys to lowercase\n     * @param {Object} obj - the object need to be transferred\n     * @param {Array} whiteListForItself - whitelist itself from being transferred\n     * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n     */\n    JS.transferKeyToLowerCase = function (obj, whiteListForItself, whiteListForChildren) {\n        if (whiteListForItself === void 0) { whiteListForItself = []; }\n        if (whiteListForChildren === void 0) { whiteListForChildren = []; }\n        if (!JS.isStrictObject(obj))\n            return obj;\n        var ret = {};\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                var transferedKey = whiteListForItself.includes(key) ?\n                    key : key[0].toLowerCase() + key.slice(1);\n                ret[transferedKey] = whiteListForChildren.includes(key) ?\n                    obj[key]\n                    :\n                        JS.transferKeyToLowerCase(obj[key], whiteListForItself, whiteListForChildren);\n            }\n        }\n        return ret;\n    };\n    /**\n     * transfer the first letter of the keys to lowercase\n     * @param {Object} obj - the object need to be transferred\n     * @param {Array} whiteListForItself - whitelist itself from being transferred\n     * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n     */\n    JS.transferKeyToUpperCase = function (obj, whiteListForItself, whiteListForChildren) {\n        if (whiteListForItself === void 0) { whiteListForItself = []; }\n        if (whiteListForChildren === void 0) { whiteListForChildren = []; }\n        if (!JS.isStrictObject(obj))\n            return obj;\n        var ret = {};\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                var transferedKey = whiteListForItself.includes(key) ?\n                    key : key[0].toUpperCase() + key.slice(1);\n                ret[transferedKey] = whiteListForChildren.includes(key) ?\n                    obj[key]\n                    :\n                        JS.transferKeyToUpperCase(obj[key], whiteListForItself, whiteListForChildren);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Return true if the object is a strict object\n     * which means it's not Array, Function, Number, String, Boolean or Null\n     * @param obj the Object\n     */\n    JS.isStrictObject = function (obj) {\n        return ((obj instanceof Object) &&\n            !(obj instanceof Array) &&\n            !(obj instanceof Function) &&\n            !(obj instanceof Number) &&\n            !(obj instanceof String) &&\n            !(obj instanceof Boolean));\n    };\n    return JS;\n}());\nexports.default = JS;\n//# sourceMappingURL=JS.js.map","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var Collection = require('./collection');\n\nvar util = require('../util');\n\nfunction property(obj, name, value) {\n  if (value !== null && value !== undefined) {\n    util.property.apply(this, arguments);\n  }\n}\n\nfunction memoizedProperty(obj, name) {\n  if (!obj.constructor.prototype[name]) {\n    util.memoizedProperty.apply(this, arguments);\n  }\n}\n\nfunction Shape(shape, options, memberName) {\n  options = options || {};\n\n  property(this, 'shape', shape.shape);\n  property(this, 'api', options.api, false);\n  property(this, 'type', shape.type);\n  property(this, 'enum', shape.enum);\n  property(this, 'min', shape.min);\n  property(this, 'max', shape.max);\n  property(this, 'pattern', shape.pattern);\n  property(this, 'location', shape.location || this.location || 'body');\n  property(this, 'name', this.name || shape.xmlName || shape.queryName ||\n    shape.locationName || memberName);\n  property(this, 'isStreaming', shape.streaming || this.isStreaming || false);\n  property(this, 'requiresLength', shape.requiresLength, false);\n  property(this, 'isComposite', shape.isComposite || false);\n  property(this, 'isShape', true, false);\n  property(this, 'isQueryName', Boolean(shape.queryName), false);\n  property(this, 'isLocationName', Boolean(shape.locationName), false);\n  property(this, 'isIdempotent', shape.idempotencyToken === true);\n  property(this, 'isJsonValue', shape.jsonvalue === true);\n  property(this, 'isSensitive', shape.sensitive === true || shape.prototype && shape.prototype.sensitive === true);\n  property(this, 'isEventStream', Boolean(shape.eventstream), false);\n  property(this, 'isEvent', Boolean(shape.event), false);\n  property(this, 'isEventPayload', Boolean(shape.eventpayload), false);\n  property(this, 'isEventHeader', Boolean(shape.eventheader), false);\n  property(this, 'isTimestampFormatSet', Boolean(shape.timestampFormat) || shape.prototype && shape.prototype.isTimestampFormatSet === true, false);\n  property(this, 'endpointDiscoveryId', Boolean(shape.endpointdiscoveryid), false);\n  property(this, 'hostLabel', Boolean(shape.hostLabel), false);\n\n  if (options.documentation) {\n    property(this, 'documentation', shape.documentation);\n    property(this, 'documentationUrl', shape.documentationUrl);\n  }\n\n  if (shape.xmlAttribute) {\n    property(this, 'isXmlAttribute', shape.xmlAttribute || false);\n  }\n\n  // type conversion and parsing\n  property(this, 'defaultValue', null);\n  this.toWireFormat = function(value) {\n    if (value === null || value === undefined) return '';\n    return value;\n  };\n  this.toType = function(value) { return value; };\n}\n\n/**\n * @api private\n */\nShape.normalizedTypes = {\n  character: 'string',\n  double: 'float',\n  long: 'integer',\n  short: 'integer',\n  biginteger: 'integer',\n  bigdecimal: 'float',\n  blob: 'binary'\n};\n\n/**\n * @api private\n */\nShape.types = {\n  'structure': StructureShape,\n  'list': ListShape,\n  'map': MapShape,\n  'boolean': BooleanShape,\n  'timestamp': TimestampShape,\n  'float': FloatShape,\n  'integer': IntegerShape,\n  'string': StringShape,\n  'base64': Base64Shape,\n  'binary': BinaryShape\n};\n\nShape.resolve = function resolve(shape, options) {\n  if (shape.shape) {\n    var refShape = options.api.shapes[shape.shape];\n    if (!refShape) {\n      throw new Error('Cannot find shape reference: ' + shape.shape);\n    }\n\n    return refShape;\n  } else {\n    return null;\n  }\n};\n\nShape.create = function create(shape, options, memberName) {\n  if (shape.isShape) return shape;\n\n  var refShape = Shape.resolve(shape, options);\n  if (refShape) {\n    var filteredKeys = Object.keys(shape);\n    if (!options.documentation) {\n      filteredKeys = filteredKeys.filter(function(name) {\n        return !name.match(/documentation/);\n      });\n    }\n\n    // create an inline shape with extra members\n    var InlineShape = function() {\n      refShape.constructor.call(this, shape, options, memberName);\n    };\n    InlineShape.prototype = refShape;\n    return new InlineShape();\n  } else {\n    // set type if not set\n    if (!shape.type) {\n      if (shape.members) shape.type = 'structure';\n      else if (shape.member) shape.type = 'list';\n      else if (shape.key) shape.type = 'map';\n      else shape.type = 'string';\n    }\n\n    // normalize types\n    var origType = shape.type;\n    if (Shape.normalizedTypes[shape.type]) {\n      shape.type = Shape.normalizedTypes[shape.type];\n    }\n\n    if (Shape.types[shape.type]) {\n      return new Shape.types[shape.type](shape, options, memberName);\n    } else {\n      throw new Error('Unrecognized shape type: ' + origType);\n    }\n  }\n};\n\nfunction CompositeShape(shape) {\n  Shape.apply(this, arguments);\n  property(this, 'isComposite', true);\n\n  if (shape.flattened) {\n    property(this, 'flattened', shape.flattened || false);\n  }\n}\n\nfunction StructureShape(shape, options) {\n  var self = this;\n  var requiredMap = null, firstInit = !this.isShape;\n\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'members', {});\n    property(this, 'memberNames', []);\n    property(this, 'required', []);\n    property(this, 'isRequired', function() { return false; });\n  }\n\n  if (shape.members) {\n    property(this, 'members', new Collection(shape.members, options, function(name, member) {\n      return Shape.create(member, options, name);\n    }));\n    memoizedProperty(this, 'memberNames', function() {\n      return shape.xmlOrder || Object.keys(shape.members);\n    });\n\n    if (shape.event) {\n      memoizedProperty(this, 'eventPayloadMemberName', function() {\n        var members = self.members;\n        var memberNames = self.memberNames;\n        // iterate over members to find ones that are event payloads\n        for (var i = 0, iLen = memberNames.length; i < iLen; i++) {\n          if (members[memberNames[i]].isEventPayload) {\n            return memberNames[i];\n          }\n        }\n      });\n\n      memoizedProperty(this, 'eventHeaderMemberNames', function() {\n        var members = self.members;\n        var memberNames = self.memberNames;\n        var eventHeaderMemberNames = [];\n        // iterate over members to find ones that are event headers\n        for (var i = 0, iLen = memberNames.length; i < iLen; i++) {\n          if (members[memberNames[i]].isEventHeader) {\n            eventHeaderMemberNames.push(memberNames[i]);\n          }\n        }\n        return eventHeaderMemberNames;\n      });\n    }\n  }\n\n  if (shape.required) {\n    property(this, 'required', shape.required);\n    property(this, 'isRequired', function(name) {\n      if (!requiredMap) {\n        requiredMap = {};\n        for (var i = 0; i < shape.required.length; i++) {\n          requiredMap[shape.required[i]] = true;\n        }\n      }\n\n      return requiredMap[name];\n    }, false, true);\n  }\n\n  property(this, 'resultWrapper', shape.resultWrapper || null);\n\n  if (shape.payload) {\n    property(this, 'payload', shape.payload);\n  }\n\n  if (typeof shape.xmlNamespace === 'string') {\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace);\n  } else if (typeof shape.xmlNamespace === 'object') {\n    property(this, 'xmlNamespacePrefix', shape.xmlNamespace.prefix);\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace.uri);\n  }\n}\n\nfunction ListShape(shape, options) {\n  var self = this, firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return []; });\n  }\n\n  if (shape.member) {\n    memoizedProperty(this, 'member', function() {\n      return Shape.create(shape.member, options);\n    });\n  }\n\n  if (this.flattened) {\n    var oldName = this.name;\n    memoizedProperty(this, 'name', function() {\n      return self.member.name || oldName;\n    });\n  }\n}\n\nfunction MapShape(shape, options) {\n  var firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'key', Shape.create({type: 'string'}, options));\n    property(this, 'value', Shape.create({type: 'string'}, options));\n  }\n\n  if (shape.key) {\n    memoizedProperty(this, 'key', function() {\n      return Shape.create(shape.key, options);\n    });\n  }\n  if (shape.value) {\n    memoizedProperty(this, 'value', function() {\n      return Shape.create(shape.value, options);\n    });\n  }\n}\n\nfunction TimestampShape(shape) {\n  var self = this;\n  Shape.apply(this, arguments);\n\n  if (shape.timestampFormat) {\n    property(this, 'timestampFormat', shape.timestampFormat);\n  } else if (self.isTimestampFormatSet && this.timestampFormat) {\n    property(this, 'timestampFormat', this.timestampFormat);\n  } else if (this.location === 'header') {\n    property(this, 'timestampFormat', 'rfc822');\n  } else if (this.location === 'querystring') {\n    property(this, 'timestampFormat', 'iso8601');\n  } else if (this.api) {\n    switch (this.api.protocol) {\n      case 'json':\n      case 'rest-json':\n        property(this, 'timestampFormat', 'unixTimestamp');\n        break;\n      case 'rest-xml':\n      case 'query':\n      case 'ec2':\n        property(this, 'timestampFormat', 'iso8601');\n        break;\n    }\n  }\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    if (typeof value.toUTCString === 'function') return value;\n    return typeof value === 'string' || typeof value === 'number' ?\n           util.date.parseTimestamp(value) : null;\n  };\n\n  this.toWireFormat = function(value) {\n    return util.date.format(value, self.timestampFormat);\n  };\n}\n\nfunction StringShape() {\n  Shape.apply(this, arguments);\n\n  var nullLessProtocols = ['rest-xml', 'query', 'ec2'];\n  this.toType = function(value) {\n    value = this.api && nullLessProtocols.indexOf(this.api.protocol) > -1 ?\n      value || '' : value;\n    if (this.isJsonValue) {\n      return JSON.parse(value);\n    }\n\n    return value && typeof value.toString === 'function' ?\n      value.toString() : value;\n  };\n\n  this.toWireFormat = function(value) {\n    return this.isJsonValue ? JSON.stringify(value) : value;\n  };\n}\n\nfunction FloatShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseFloat(value);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction IntegerShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseInt(value, 10);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction BinaryShape() {\n  Shape.apply(this, arguments);\n  this.toType = function(value) {\n    var buf = util.base64.decode(value);\n    if (this.isSensitive && util.isNode() && typeof util.Buffer.alloc === 'function') {\n  /* Node.js can create a Buffer that is not isolated.\n   * i.e. buf.byteLength !== buf.buffer.byteLength\n   * This means that the sensitive data is accessible to anyone with access to buf.buffer.\n   * If this is the node shared Buffer, then other code within this process _could_ find this secret.\n   * Copy sensitive data to an isolated Buffer and zero the sensitive data.\n   * While this is safe to do here, copying this code somewhere else may produce unexpected results.\n   */\n      var secureBuf = util.Buffer.alloc(buf.length, buf);\n      buf.fill(0);\n      buf = secureBuf;\n    }\n    return buf;\n  };\n  this.toWireFormat = util.base64.encode;\n}\n\nfunction Base64Shape() {\n  BinaryShape.apply(this, arguments);\n}\n\nfunction BooleanShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (typeof value === 'boolean') return value;\n    if (value === null || value === undefined) return null;\n    return value === 'true';\n  };\n}\n\n/**\n * @api private\n */\nShape.shapes = {\n  StructureShape: StructureShape,\n  ListShape: ListShape,\n  MapShape: MapShape,\n  StringShape: StringShape,\n  BooleanShape: BooleanShape,\n  Base64Shape: Base64Shape\n};\n\n/**\n * @api private\n */\nmodule.exports = Shape;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['sts'] = {};\nAWS.STS = Service.defineService('sts', ['2011-06-15']);\nrequire('../lib/services/sts');\nObject.defineProperty(apiLoader.services['sts'], '2011-06-15', {\n  get: function get() {\n    var model = require('../apis/sts-2011-06-15.min.json');\n    model.paginators = require('../apis/sts-2011-06-15.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.STS;\n","exports.__esModule = true;\nexports.Helmet = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactSideEffect = require(\"react-side-effect\");\n\nvar _reactSideEffect2 = _interopRequireDefault(_reactSideEffect);\n\nvar _reactFastCompare = require(\"react-fast-compare\");\n\nvar _reactFastCompare2 = _interopRequireDefault(_reactFastCompare);\n\nvar _HelmetUtils = require(\"./HelmetUtils.js\");\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        _inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            _classCallCheck(this, HelmetWrapper);\n\n            return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !(0, _reactFastCompare2.default)(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case _HelmetConstants.TAG_NAMES.SCRIPT:\n                case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case _HelmetConstants.TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _extends2;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_extends2 = {}, _extends2[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _extends2));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _extends3, _extends4;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case _HelmetConstants.TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_extends3 = {}, _extends3[child.type] = nestedChildren, _extends3.titleAttributes = _extends({}, newChildProps), _extends3));\n\n                case _HelmetConstants.TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case _HelmetConstants.TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_extends4 = {}, _extends4[child.type] = _extends({}, newChildProps), _extends4));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _extends5;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_extends5 = {}, _extends5[arrayChildName] = arrayTypeChildren[arrayChildName], _extends5));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!_HelmetConstants.VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return (0, _HelmetUtils.warn)(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return (0, _HelmetUtils.warn)(\"Only elements types \" + _HelmetConstants.VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            _react2.default.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = _objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = (0, _HelmetUtils.convertReactPropstoHtmlAttributes)(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case _HelmetConstants.TAG_NAMES.LINK:\n                    case _HelmetConstants.TAG_NAMES.META:\n                    case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n                    case _HelmetConstants.TAG_NAMES.SCRIPT:\n                    case _HelmetConstants.TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = _objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return _react2.default.createElement(Component, newProps);\n        };\n\n        _createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Don’t use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n\n        return HelmetWrapper;\n    }(_react2.default.Component), _class.propTypes = {\n        base: _propTypes2.default.object,\n        bodyAttributes: _propTypes2.default.object,\n        children: _propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.node), _propTypes2.default.node]),\n        defaultTitle: _propTypes2.default.string,\n        defer: _propTypes2.default.bool,\n        encodeSpecialCharacters: _propTypes2.default.bool,\n        htmlAttributes: _propTypes2.default.object,\n        link: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        meta: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        noscript: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        onChangeClientState: _propTypes2.default.func,\n        script: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        style: _propTypes2.default.arrayOf(_propTypes2.default.object),\n        title: _propTypes2.default.string,\n        titleAttributes: _propTypes2.default.object,\n        titleTemplate: _propTypes2.default.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = (0, _HelmetUtils.mapStateOnServer)({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = (0, _reactSideEffect2.default)(_HelmetUtils.reducePropsToState, _HelmetUtils.handleClientStateChange, _HelmetUtils.mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexports.Helmet = HelmetExport;\nexports.default = HelmetExport;","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// import * as S3 from 'aws-sdk/clients/s3';\nvar AWS = require(\"aws-sdk/global\");\nexports.AWS = AWS;\n//# sourceMappingURL=Facet.js.map","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","var util = require('../util');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction populateMethod(req) {\n  req.httpRequest.method = req.service.api.operations[req.operation].httpMethod;\n}\n\nfunction generateURI(endpointPath, operationPath, input, params) {\n  var uri = [endpointPath, operationPath].join('/');\n  uri = uri.replace(/\\/+/g, '/');\n\n  var queryString = {}, queryStringSet = false;\n  util.each(input.members, function (name, member) {\n    var paramValue = params[name];\n    if (paramValue === null || paramValue === undefined) return;\n    if (member.location === 'uri') {\n      var regex = new RegExp('\\\\{' + member.name + '(\\\\+)?\\\\}');\n      uri = uri.replace(regex, function(_, plus) {\n        var fn = plus ? util.uriEscapePath : util.uriEscape;\n        return fn(String(paramValue));\n      });\n    } else if (member.location === 'querystring') {\n      queryStringSet = true;\n\n      if (member.type === 'list') {\n        queryString[member.name] = paramValue.map(function(val) {\n          return util.uriEscape(member.member.toWireFormat(val).toString());\n        });\n      } else if (member.type === 'map') {\n        util.each(paramValue, function(key, value) {\n          if (Array.isArray(value)) {\n            queryString[key] = value.map(function(val) {\n              return util.uriEscape(String(val));\n            });\n          } else {\n            queryString[key] = util.uriEscape(String(value));\n          }\n        });\n      } else {\n        queryString[member.name] = util.uriEscape(member.toWireFormat(paramValue).toString());\n      }\n    }\n  });\n\n  if (queryStringSet) {\n    uri += (uri.indexOf('?') >= 0 ? '&' : '?');\n    var parts = [];\n    util.arrayEach(Object.keys(queryString).sort(), function(key) {\n      if (!Array.isArray(queryString[key])) {\n        queryString[key] = [queryString[key]];\n      }\n      for (var i = 0; i < queryString[key].length; i++) {\n        parts.push(util.uriEscape(String(key)) + '=' + queryString[key][i]);\n      }\n    });\n    uri += parts.join('&');\n  }\n\n  return uri;\n}\n\nfunction populateURI(req) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  var uri = generateURI(req.httpRequest.endpoint.path, operation.httpPath, input, req.params);\n  req.httpRequest.path = uri;\n}\n\nfunction populateHeaders(req) {\n  var operation = req.service.api.operations[req.operation];\n  util.each(operation.input.members, function (name, member) {\n    var value = req.params[name];\n    if (value === null || value === undefined) return;\n\n    if (member.location === 'headers' && member.type === 'map') {\n      util.each(value, function(key, memberValue) {\n        req.httpRequest.headers[member.name + key] = memberValue;\n      });\n    } else if (member.location === 'header') {\n      value = member.toWireFormat(value).toString();\n      if (member.isJsonValue) {\n        value = util.base64.encode(value);\n      }\n      req.httpRequest.headers[member.name] = value;\n    }\n  });\n}\n\nfunction buildRequest(req) {\n  populateMethod(req);\n  populateURI(req);\n  populateHeaders(req);\n  populateHostPrefix(req);\n}\n\nfunction extractError() {\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var data = {};\n  var r = resp.httpResponse;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  // normalize headers names to lower-cased keys for matching\n  var headers = {};\n  util.each(r.headers, function (k, v) {\n    headers[k.toLowerCase()] = v;\n  });\n\n  util.each(output.members, function(name, member) {\n    var header = (member.name || name).toLowerCase();\n    if (member.location === 'headers' && member.type === 'map') {\n      data[name] = {};\n      var location = member.isLocationName ? member.name : '';\n      var pattern = new RegExp('^' + location + '(.+)', 'i');\n      util.each(r.headers, function (k, v) {\n        var result = k.match(pattern);\n        if (result !== null) {\n          data[name][result[1]] = v;\n        }\n      });\n    } else if (member.location === 'header') {\n      if (headers[header] !== undefined) {\n        var value = member.isJsonValue ?\n          util.base64.decode(headers[header]) :\n          headers[header];\n        data[name] = member.toType(value);\n      }\n    } else if (member.location === 'statusCode') {\n      data[name] = parseInt(r.statusCode, 10);\n    }\n  });\n\n  resp.data = data;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData,\n  generateURI: generateURI\n};\n","var Buffer = require('buffer/').Buffer;\n\n/**\n * This is a polyfill for the static method `isView` of `ArrayBuffer`, which is\n * e.g. missing in IE 10.\n *\n * @api private\n */\nif (\n    typeof ArrayBuffer !== 'undefined' &&\n    typeof ArrayBuffer.isView === 'undefined'\n) {\n    ArrayBuffer.isView = function(arg) {\n        return viewStrings.indexOf(Object.prototype.toString.call(arg)) > -1;\n    };\n}\n\n/**\n * @api private\n */\nvar viewStrings = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]',\n    '[object DataView]',\n];\n\n/**\n * @api private\n */\nfunction isEmptyData(data) {\n    if (typeof data === 'string') {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\n\n/**\n * @api private\n */\nfunction convertToBuffer(data) {\n    if (typeof data === 'string') {\n        data = new Buffer(data, 'utf8');\n    }\n\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n\n    return new Uint8Array(data);\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = {\n    isEmptyData: isEmptyData,\n    convertToBuffer: convertToBuffer,\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"./Logger\");\nvar logger = new Logger_1.ConsoleLogger('Amplify');\nvar Amplify = /** @class */ (function () {\n    function Amplify() {\n    }\n    Amplify.register = function (comp) {\n        logger.debug('component registered in amplify', comp);\n        this._components.push(comp);\n        if (typeof comp.getModuleName === 'function') {\n            Amplify[comp.getModuleName()] = comp;\n        }\n        else {\n            logger.debug('no getModuleName method for component', comp);\n        }\n    };\n    Amplify.configure = function (config) {\n        var _this = this;\n        if (!config)\n            return this._config;\n        this._config = Object.assign(this._config, config);\n        logger.debug('amplify config', this._config);\n        this._components.map(function (comp) {\n            comp.configure(_this._config);\n        });\n        return this._config;\n    };\n    Amplify.addPluggable = function (pluggable) {\n        if (pluggable && pluggable['getCategory'] && typeof pluggable['getCategory'] === 'function') {\n            this._components.map(function (comp) {\n                if (comp['addPluggable'] && typeof comp['addPluggable'] === 'function') {\n                    comp.addPluggable(pluggable);\n                }\n            });\n        }\n    };\n    Amplify._components = [];\n    Amplify._config = {};\n    // for backward compatibility to avoid breaking change\n    // if someone is using like Amplify.Auth\n    Amplify.Auth = null;\n    Amplify.Analytics = null;\n    Amplify.API = null;\n    Amplify.Storage = null;\n    Amplify.I18n = null;\n    Amplify.Cache = null;\n    Amplify.PubSub = null;\n    Amplify.Interactions = null;\n    Amplify.Pushnotification = null;\n    Amplify.UI = null;\n    Amplify.XR = null;\n    Amplify.Logger = Logger_1.ConsoleLogger;\n    Amplify.ServiceWorker = null;\n    return Amplify;\n}());\nexports.default = Amplify;\n//# sourceMappingURL=Amplify.js.map","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var util = require('../util');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction buildRequest(req) {\n  var httpRequest = req.httpRequest;\n  var api = req.service.api;\n  var target = api.targetPrefix + '.' + api.operations[req.operation].name;\n  var version = api.jsonVersion || '1.0';\n  var input = api.operations[req.operation].input;\n  var builder = new JsonBuilder();\n\n  if (version === 1) version = '1.0';\n  httpRequest.body = builder.build(req.params || {}, input);\n  httpRequest.headers['Content-Type'] = 'application/x-amz-json-' + version;\n  httpRequest.headers['X-Amz-Target'] = target;\n\n  populateHostPrefix(req);\n}\n\nfunction extractError(resp) {\n  var error = {};\n  var httpResponse = resp.httpResponse;\n\n  error.code = httpResponse.headers['x-amzn-errortype'] || 'UnknownError';\n  if (typeof error.code === 'string') {\n    error.code = error.code.split(':')[0];\n  }\n\n  if (httpResponse.body.length > 0) {\n    try {\n      var e = JSON.parse(httpResponse.body.toString());\n      if (e.__type || e.code) {\n        error.code = (e.__type || e.code).split('#').pop();\n      }\n      if (error.code === 'RequestEntityTooLarge') {\n        error.message = 'Request body must be less than 1 MB';\n      } else {\n        error.message = (e.message || e.Message || null);\n      }\n    } catch (e) {\n      error.statusCode = httpResponse.statusCode;\n      error.message = httpResponse.statusMessage;\n    }\n  } else {\n    error.statusCode = httpResponse.statusCode;\n    error.message = httpResponse.statusCode.toString();\n  }\n\n  resp.error = util.error(new Error(), error);\n}\n\nfunction extractData(resp) {\n  var body = resp.httpResponse.body.toString() || '{}';\n  if (resp.request.service.config.convertResponseTypes === false) {\n    resp.data = JSON.parse(body);\n  } else {\n    var operation = resp.request.service.api.operations[resp.request.operation];\n    var shape = operation.output || {};\n    var parser = new JsonParser();\n    resp.data = parser.parse(body, shape);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var util = require('../util');\n\nfunction JsonBuilder() { }\n\nJsonBuilder.prototype.build = function(value, shape) {\n  return JSON.stringify(translate(value, shape));\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined || value === null) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  var struct = {};\n  util.each(structure, function(name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      if (memberShape.location !== 'body') return;\n      var locationName = memberShape.isLocationName ? memberShape.name : name;\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[locationName] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result !== undefined) out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result !== undefined) out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toWireFormat(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonBuilder;\n","var util = require('../util');\n\nfunction JsonParser() { }\n\nJsonParser.prototype.parse = function(value, shape) {\n  return translate(JSON.parse(value), shape);\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  if (structure == null) return undefined;\n\n  var struct = {};\n  var shapeMembers = shape.members;\n  util.each(shapeMembers, function(name, memberShape) {\n    var locationName = memberShape.isLocationName ? memberShape.name : name;\n    if (Object.prototype.hasOwnProperty.call(structure, locationName)) {\n      var value = structure[locationName];\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[name] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  if (list == null) return undefined;\n\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result === undefined) out.push(null);\n    else out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  if (map == null) return undefined;\n\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result === undefined) out[key] = null;\n    else out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toType(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonParser;\n","var util =  require('../util');\nvar AWS = require('../core');\n\n/**\n * Prepend prefix defined by API model to endpoint that's already\n * constructed. This feature does not apply to operations using\n * endpoint discovery and can be disabled.\n * @api private\n */\nfunction populateHostPrefix(request)  {\n  var enabled = request.service.config.hostPrefixEnabled;\n  if (!enabled) return request;\n  var operationModel = request.service.api.operations[request.operation];\n  //don't marshal host prefix when operation has endpoint discovery traits\n  if (hasEndpointDiscover(request)) return request;\n  if (operationModel.endpoint && operationModel.endpoint.hostPrefix) {\n    var hostPrefixNotation = operationModel.endpoint.hostPrefix;\n    var hostPrefix = expandHostPrefix(hostPrefixNotation, request.params, operationModel.input);\n    prependEndpointPrefix(request.httpRequest.endpoint, hostPrefix);\n    validateHostname(request.httpRequest.endpoint.hostname);\n  }\n  return request;\n}\n\n/**\n * @api private\n */\nfunction hasEndpointDiscover(request) {\n  var api = request.service.api;\n  var operationModel = api.operations[request.operation];\n  var isEndpointOperation = api.endpointOperation && (api.endpointOperation === util.string.lowerFirst(operationModel.name));\n  return (operationModel.endpointDiscoveryRequired !== 'NULL' || isEndpointOperation === true);\n}\n\n/**\n * @api private\n */\nfunction expandHostPrefix(hostPrefixNotation, params, shape) {\n  util.each(shape.members, function(name, member) {\n    if (member.hostLabel === true) {\n      if (typeof params[name] !== 'string' || params[name] === '') {\n        throw util.error(new Error(), {\n          message: 'Parameter ' + name + ' should be a non-empty string.',\n          code: 'InvalidParameter'\n        });\n      }\n      var regex = new RegExp('\\\\{' + name + '\\\\}', 'g');\n      hostPrefixNotation = hostPrefixNotation.replace(regex, params[name]);\n    }\n  });\n  return hostPrefixNotation;\n}\n\n/**\n * @api private\n */\nfunction prependEndpointPrefix(endpoint, prefix) {\n  if (endpoint.host) {\n    endpoint.host = prefix + endpoint.host;\n  }\n  if (endpoint.hostname) {\n    endpoint.hostname = prefix + endpoint.hostname;\n  }\n}\n\n/**\n * @api private\n */\nfunction validateHostname(hostname) {\n  var labels = hostname.split('.');\n  //Reference: https://tools.ietf.org/html/rfc1123#section-2\n  var hostPattern = /^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9]$/;\n  util.arrayEach(labels, function(label) {\n    if (!label.length || label.length < 1 || label.length > 63) {\n      throw util.error(new Error(), {\n        code: 'ValidationError',\n        message: 'Hostname label length should be between 1 to 63 characters, inclusive.'\n      });\n    }\n    if (!hostPattern.test(label)) {\n      throw AWS.util.error(new Error(),\n        {code: 'ValidationError', message: label + ' is not hostname compatible.'});\n    }\n  });\n}\n\nmodule.exports = {\n  populateHostPrefix: populateHostPrefix\n};\n","(function(exports) {\n  \"use strict\";\n\n  function isArray(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Array]\";\n    } else {\n      return false;\n    }\n  }\n\n  function isObject(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Object]\";\n    } else {\n      return false;\n    }\n  }\n\n  function strictDeepEqual(first, second) {\n    // Check the scalar case first.\n    if (first === second) {\n      return true;\n    }\n\n    // Check if they are the same type.\n    var firstType = Object.prototype.toString.call(first);\n    if (firstType !== Object.prototype.toString.call(second)) {\n      return false;\n    }\n    // We know that first and second have the same type so we can just check the\n    // first type from now on.\n    if (isArray(first) === true) {\n      // Short circuit if they're not the same length;\n      if (first.length !== second.length) {\n        return false;\n      }\n      for (var i = 0; i < first.length; i++) {\n        if (strictDeepEqual(first[i], second[i]) === false) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (isObject(first) === true) {\n      // An object is equal if it has the same key/value pairs.\n      var keysSeen = {};\n      for (var key in first) {\n        if (hasOwnProperty.call(first, key)) {\n          if (strictDeepEqual(first[key], second[key]) === false) {\n            return false;\n          }\n          keysSeen[key] = true;\n        }\n      }\n      // Now check that there aren't any keys in second that weren't\n      // in first.\n      for (var key2 in second) {\n        if (hasOwnProperty.call(second, key2)) {\n          if (keysSeen[key2] !== true) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  function isFalse(obj) {\n    // From the spec:\n    // A false value corresponds to the following values:\n    // Empty list\n    // Empty object\n    // Empty string\n    // False boolean\n    // null value\n\n    // First check the scalar values.\n    if (obj === \"\" || obj === false || obj === null) {\n        return true;\n    } else if (isArray(obj) && obj.length === 0) {\n        // Check for an empty array.\n        return true;\n    } else if (isObject(obj)) {\n        // Check for an empty object.\n        for (var key in obj) {\n            // If there are any keys, then\n            // the object is not empty so the object\n            // is not false.\n            if (obj.hasOwnProperty(key)) {\n              return false;\n            }\n        }\n        return true;\n    } else {\n        return false;\n    }\n  }\n\n  function objValues(obj) {\n    var keys = Object.keys(obj);\n    var values = [];\n    for (var i = 0; i < keys.length; i++) {\n      values.push(obj[keys[i]]);\n    }\n    return values;\n  }\n\n  function merge(a, b) {\n      var merged = {};\n      for (var key in a) {\n          merged[key] = a[key];\n      }\n      for (var key2 in b) {\n          merged[key2] = b[key2];\n      }\n      return merged;\n  }\n\n  var trimLeft;\n  if (typeof String.prototype.trimLeft === \"function\") {\n    trimLeft = function(str) {\n      return str.trimLeft();\n    };\n  } else {\n    trimLeft = function(str) {\n      return str.match(/^\\s*(.*)/)[1];\n    };\n  }\n\n  // Type constants used to define functions.\n  var TYPE_NUMBER = 0;\n  var TYPE_ANY = 1;\n  var TYPE_STRING = 2;\n  var TYPE_ARRAY = 3;\n  var TYPE_OBJECT = 4;\n  var TYPE_BOOLEAN = 5;\n  var TYPE_EXPREF = 6;\n  var TYPE_NULL = 7;\n  var TYPE_ARRAY_NUMBER = 8;\n  var TYPE_ARRAY_STRING = 9;\n\n  var TOK_EOF = \"EOF\";\n  var TOK_UNQUOTEDIDENTIFIER = \"UnquotedIdentifier\";\n  var TOK_QUOTEDIDENTIFIER = \"QuotedIdentifier\";\n  var TOK_RBRACKET = \"Rbracket\";\n  var TOK_RPAREN = \"Rparen\";\n  var TOK_COMMA = \"Comma\";\n  var TOK_COLON = \"Colon\";\n  var TOK_RBRACE = \"Rbrace\";\n  var TOK_NUMBER = \"Number\";\n  var TOK_CURRENT = \"Current\";\n  var TOK_EXPREF = \"Expref\";\n  var TOK_PIPE = \"Pipe\";\n  var TOK_OR = \"Or\";\n  var TOK_AND = \"And\";\n  var TOK_EQ = \"EQ\";\n  var TOK_GT = \"GT\";\n  var TOK_LT = \"LT\";\n  var TOK_GTE = \"GTE\";\n  var TOK_LTE = \"LTE\";\n  var TOK_NE = \"NE\";\n  var TOK_FLATTEN = \"Flatten\";\n  var TOK_STAR = \"Star\";\n  var TOK_FILTER = \"Filter\";\n  var TOK_DOT = \"Dot\";\n  var TOK_NOT = \"Not\";\n  var TOK_LBRACE = \"Lbrace\";\n  var TOK_LBRACKET = \"Lbracket\";\n  var TOK_LPAREN= \"Lparen\";\n  var TOK_LITERAL= \"Literal\";\n\n  // The \"&\", \"[\", \"<\", \">\" tokens\n  // are not in basicToken because\n  // there are two token variants\n  // (\"&&\", \"[?\", \"<=\", \">=\").  This is specially handled\n  // below.\n\n  var basicTokens = {\n    \".\": TOK_DOT,\n    \"*\": TOK_STAR,\n    \",\": TOK_COMMA,\n    \":\": TOK_COLON,\n    \"{\": TOK_LBRACE,\n    \"}\": TOK_RBRACE,\n    \"]\": TOK_RBRACKET,\n    \"(\": TOK_LPAREN,\n    \")\": TOK_RPAREN,\n    \"@\": TOK_CURRENT\n  };\n\n  var operatorStartToken = {\n      \"<\": true,\n      \">\": true,\n      \"=\": true,\n      \"!\": true\n  };\n\n  var skipChars = {\n      \" \": true,\n      \"\\t\": true,\n      \"\\n\": true\n  };\n\n\n  function isAlpha(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             ch === \"_\";\n  }\n\n  function isNum(ch) {\n      return (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"-\";\n  }\n  function isAlphaNum(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"_\";\n  }\n\n  function Lexer() {\n  }\n  Lexer.prototype = {\n      tokenize: function(stream) {\n          var tokens = [];\n          this._current = 0;\n          var start;\n          var identifier;\n          var token;\n          while (this._current < stream.length) {\n              if (isAlpha(stream[this._current])) {\n                  start = this._current;\n                  identifier = this._consumeUnquotedIdentifier(stream);\n                  tokens.push({type: TOK_UNQUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (basicTokens[stream[this._current]] !== undefined) {\n                  tokens.push({type: basicTokens[stream[this._current]],\n                              value: stream[this._current],\n                              start: this._current});\n                  this._current++;\n              } else if (isNum(stream[this._current])) {\n                  token = this._consumeNumber(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"[\") {\n                  // No need to increment this._current.  This happens\n                  // in _consumeLBracket\n                  token = this._consumeLBracket(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"\\\"\") {\n                  start = this._current;\n                  identifier = this._consumeQuotedIdentifier(stream);\n                  tokens.push({type: TOK_QUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"'\") {\n                  start = this._current;\n                  identifier = this._consumeRawStringLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"`\") {\n                  start = this._current;\n                  var literal = this._consumeLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: literal,\n                               start: start});\n              } else if (operatorStartToken[stream[this._current]] !== undefined) {\n                  tokens.push(this._consumeOperator(stream));\n              } else if (skipChars[stream[this._current]] !== undefined) {\n                  // Ignore whitespace.\n                  this._current++;\n              } else if (stream[this._current] === \"&\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"&\") {\n                      this._current++;\n                      tokens.push({type: TOK_AND, value: \"&&\", start: start});\n                  } else {\n                      tokens.push({type: TOK_EXPREF, value: \"&\", start: start});\n                  }\n              } else if (stream[this._current] === \"|\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"|\") {\n                      this._current++;\n                      tokens.push({type: TOK_OR, value: \"||\", start: start});\n                  } else {\n                      tokens.push({type: TOK_PIPE, value: \"|\", start: start});\n                  }\n              } else {\n                  var error = new Error(\"Unknown character:\" + stream[this._current]);\n                  error.name = \"LexerError\";\n                  throw error;\n              }\n          }\n          return tokens;\n      },\n\n      _consumeUnquotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          while (this._current < stream.length && isAlphaNum(stream[this._current])) {\n              this._current++;\n          }\n          return stream.slice(start, this._current);\n      },\n\n      _consumeQuotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"\\\"\" && this._current < maxLength) {\n              // You can escape a double quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"\\\"\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          return JSON.parse(stream.slice(start, this._current));\n      },\n\n      _consumeRawStringLiteral: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"'\" && this._current < maxLength) {\n              // You can escape a single quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"'\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          var literal = stream.slice(start + 1, this._current - 1);\n          return literal.replace(\"\\\\'\", \"'\");\n      },\n\n      _consumeNumber: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (isNum(stream[this._current]) && this._current < maxLength) {\n              this._current++;\n          }\n          var value = parseInt(stream.slice(start, this._current));\n          return {type: TOK_NUMBER, value: value, start: start};\n      },\n\n      _consumeLBracket: function(stream) {\n          var start = this._current;\n          this._current++;\n          if (stream[this._current] === \"?\") {\n              this._current++;\n              return {type: TOK_FILTER, value: \"[?\", start: start};\n          } else if (stream[this._current] === \"]\") {\n              this._current++;\n              return {type: TOK_FLATTEN, value: \"[]\", start: start};\n          } else {\n              return {type: TOK_LBRACKET, value: \"[\", start: start};\n          }\n      },\n\n      _consumeOperator: function(stream) {\n          var start = this._current;\n          var startingChar = stream[start];\n          this._current++;\n          if (startingChar === \"!\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_NE, value: \"!=\", start: start};\n              } else {\n                return {type: TOK_NOT, value: \"!\", start: start};\n              }\n          } else if (startingChar === \"<\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_LTE, value: \"<=\", start: start};\n              } else {\n                  return {type: TOK_LT, value: \"<\", start: start};\n              }\n          } else if (startingChar === \">\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_GTE, value: \">=\", start: start};\n              } else {\n                  return {type: TOK_GT, value: \">\", start: start};\n              }\n          } else if (startingChar === \"=\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_EQ, value: \"==\", start: start};\n              }\n          }\n      },\n\n      _consumeLiteral: function(stream) {\n          this._current++;\n          var start = this._current;\n          var maxLength = stream.length;\n          var literal;\n          while(stream[this._current] !== \"`\" && this._current < maxLength) {\n              // You can escape a literal char or you can escape the escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"`\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          var literalString = trimLeft(stream.slice(start, this._current));\n          literalString = literalString.replace(\"\\\\`\", \"`\");\n          if (this._looksLikeJSON(literalString)) {\n              literal = JSON.parse(literalString);\n          } else {\n              // Try to JSON parse it as \"<literal>\"\n              literal = JSON.parse(\"\\\"\" + literalString + \"\\\"\");\n          }\n          // +1 gets us to the ending \"`\", +1 to move on to the next char.\n          this._current++;\n          return literal;\n      },\n\n      _looksLikeJSON: function(literalString) {\n          var startingChars = \"[{\\\"\";\n          var jsonLiterals = [\"true\", \"false\", \"null\"];\n          var numberLooking = \"-0123456789\";\n\n          if (literalString === \"\") {\n              return false;\n          } else if (startingChars.indexOf(literalString[0]) >= 0) {\n              return true;\n          } else if (jsonLiterals.indexOf(literalString) >= 0) {\n              return true;\n          } else if (numberLooking.indexOf(literalString[0]) >= 0) {\n              try {\n                  JSON.parse(literalString);\n                  return true;\n              } catch (ex) {\n                  return false;\n              }\n          } else {\n              return false;\n          }\n      }\n  };\n\n      var bindingPower = {};\n      bindingPower[TOK_EOF] = 0;\n      bindingPower[TOK_UNQUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_QUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_RBRACKET] = 0;\n      bindingPower[TOK_RPAREN] = 0;\n      bindingPower[TOK_COMMA] = 0;\n      bindingPower[TOK_RBRACE] = 0;\n      bindingPower[TOK_NUMBER] = 0;\n      bindingPower[TOK_CURRENT] = 0;\n      bindingPower[TOK_EXPREF] = 0;\n      bindingPower[TOK_PIPE] = 1;\n      bindingPower[TOK_OR] = 2;\n      bindingPower[TOK_AND] = 3;\n      bindingPower[TOK_EQ] = 5;\n      bindingPower[TOK_GT] = 5;\n      bindingPower[TOK_LT] = 5;\n      bindingPower[TOK_GTE] = 5;\n      bindingPower[TOK_LTE] = 5;\n      bindingPower[TOK_NE] = 5;\n      bindingPower[TOK_FLATTEN] = 9;\n      bindingPower[TOK_STAR] = 20;\n      bindingPower[TOK_FILTER] = 21;\n      bindingPower[TOK_DOT] = 40;\n      bindingPower[TOK_NOT] = 45;\n      bindingPower[TOK_LBRACE] = 50;\n      bindingPower[TOK_LBRACKET] = 55;\n      bindingPower[TOK_LPAREN] = 60;\n\n  function Parser() {\n  }\n\n  Parser.prototype = {\n      parse: function(expression) {\n          this._loadTokens(expression);\n          this.index = 0;\n          var ast = this.expression(0);\n          if (this._lookahead(0) !== TOK_EOF) {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\n                  \"Unexpected token type: \" + t.type + \", value: \" + t.value);\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return ast;\n      },\n\n      _loadTokens: function(expression) {\n          var lexer = new Lexer();\n          var tokens = lexer.tokenize(expression);\n          tokens.push({type: TOK_EOF, value: \"\", start: expression.length});\n          this.tokens = tokens;\n      },\n\n      expression: function(rbp) {\n          var leftToken = this._lookaheadToken(0);\n          this._advance();\n          var left = this.nud(leftToken);\n          var currentToken = this._lookahead(0);\n          while (rbp < bindingPower[currentToken]) {\n              this._advance();\n              left = this.led(currentToken, left);\n              currentToken = this._lookahead(0);\n          }\n          return left;\n      },\n\n      _lookahead: function(number) {\n          return this.tokens[this.index + number].type;\n      },\n\n      _lookaheadToken: function(number) {\n          return this.tokens[this.index + number];\n      },\n\n      _advance: function() {\n          this.index++;\n      },\n\n      nud: function(token) {\n        var left;\n        var right;\n        var expression;\n        switch (token.type) {\n          case TOK_LITERAL:\n            return {type: \"Literal\", value: token.value};\n          case TOK_UNQUOTEDIDENTIFIER:\n            return {type: \"Field\", name: token.value};\n          case TOK_QUOTEDIDENTIFIER:\n            var node = {type: \"Field\", name: token.value};\n            if (this._lookahead(0) === TOK_LPAREN) {\n                throw new Error(\"Quoted identifier not allowed for function names.\");\n            } else {\n                return node;\n            }\n            break;\n          case TOK_NOT:\n            right = this.expression(bindingPower.Not);\n            return {type: \"NotExpression\", children: [right]};\n          case TOK_STAR:\n            left = {type: \"Identity\"};\n            right = null;\n            if (this._lookahead(0) === TOK_RBRACKET) {\n                // This can happen in a multiselect,\n                // [a, b, *]\n                right = {type: \"Identity\"};\n            } else {\n                right = this._parseProjectionRHS(bindingPower.Star);\n            }\n            return {type: \"ValueProjection\", children: [left, right]};\n          case TOK_FILTER:\n            return this.led(token.type, {type: \"Identity\"});\n          case TOK_LBRACE:\n            return this._parseMultiselectHash();\n          case TOK_FLATTEN:\n            left = {type: TOK_FLATTEN, children: [{type: \"Identity\"}]};\n            right = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [left, right]};\n          case TOK_LBRACKET:\n            if (this._lookahead(0) === TOK_NUMBER || this._lookahead(0) === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice({type: \"Identity\"}, right);\n            } else if (this._lookahead(0) === TOK_STAR &&\n                       this._lookahead(1) === TOK_RBRACKET) {\n                this._advance();\n                this._advance();\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\",\n                        children: [{type: \"Identity\"}, right]};\n            } else {\n                return this._parseMultiselectList();\n            }\n            break;\n          case TOK_CURRENT:\n            return {type: TOK_CURRENT};\n          case TOK_EXPREF:\n            expression = this.expression(bindingPower.Expref);\n            return {type: \"ExpressionReference\", children: [expression]};\n          case TOK_LPAREN:\n            var args = [];\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            return args[0];\n          default:\n            this._errorToken(token);\n        }\n      },\n\n      led: function(tokenName, left) {\n        var right;\n        switch(tokenName) {\n          case TOK_DOT:\n            var rbp = bindingPower.Dot;\n            if (this._lookahead(0) !== TOK_STAR) {\n                right = this._parseDotRHS(rbp);\n                return {type: \"Subexpression\", children: [left, right]};\n            } else {\n                // Creating a projection.\n                this._advance();\n                right = this._parseProjectionRHS(rbp);\n                return {type: \"ValueProjection\", children: [left, right]};\n            }\n            break;\n          case TOK_PIPE:\n            right = this.expression(bindingPower.Pipe);\n            return {type: TOK_PIPE, children: [left, right]};\n          case TOK_OR:\n            right = this.expression(bindingPower.Or);\n            return {type: \"OrExpression\", children: [left, right]};\n          case TOK_AND:\n            right = this.expression(bindingPower.And);\n            return {type: \"AndExpression\", children: [left, right]};\n          case TOK_LPAREN:\n            var name = left.name;\n            var args = [];\n            var expression, node;\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              if (this._lookahead(0) === TOK_COMMA) {\n                this._match(TOK_COMMA);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            node = {type: \"Function\", name: name, children: args};\n            return node;\n          case TOK_FILTER:\n            var condition = this.expression(0);\n            this._match(TOK_RBRACKET);\n            if (this._lookahead(0) === TOK_FLATTEN) {\n              right = {type: \"Identity\"};\n            } else {\n              right = this._parseProjectionRHS(bindingPower.Filter);\n            }\n            return {type: \"FilterProjection\", children: [left, right, condition]};\n          case TOK_FLATTEN:\n            var leftNode = {type: TOK_FLATTEN, children: [left]};\n            var rightNode = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [leftNode, rightNode]};\n          case TOK_EQ:\n          case TOK_NE:\n          case TOK_GT:\n          case TOK_GTE:\n          case TOK_LT:\n          case TOK_LTE:\n            return this._parseComparator(left, tokenName);\n          case TOK_LBRACKET:\n            var token = this._lookaheadToken(0);\n            if (token.type === TOK_NUMBER || token.type === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice(left, right);\n            } else {\n                this._match(TOK_STAR);\n                this._match(TOK_RBRACKET);\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\", children: [left, right]};\n            }\n            break;\n          default:\n            this._errorToken(this._lookaheadToken(0));\n        }\n      },\n\n      _match: function(tokenType) {\n          if (this._lookahead(0) === tokenType) {\n              this._advance();\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Expected \" + tokenType + \", got: \" + t.type);\n              error.name = \"ParserError\";\n              throw error;\n          }\n      },\n\n      _errorToken: function(token) {\n          var error = new Error(\"Invalid token (\" +\n                                token.type + \"): \\\"\" +\n                                token.value + \"\\\"\");\n          error.name = \"ParserError\";\n          throw error;\n      },\n\n\n      _parseIndexExpression: function() {\n          if (this._lookahead(0) === TOK_COLON || this._lookahead(1) === TOK_COLON) {\n              return this._parseSliceExpression();\n          } else {\n              var node = {\n                  type: \"Index\",\n                  value: this._lookaheadToken(0).value};\n              this._advance();\n              this._match(TOK_RBRACKET);\n              return node;\n          }\n      },\n\n      _projectIfSlice: function(left, right) {\n          var indexExpr = {type: \"IndexExpression\", children: [left, right]};\n          if (right.type === \"Slice\") {\n              return {\n                  type: \"Projection\",\n                  children: [indexExpr, this._parseProjectionRHS(bindingPower.Star)]\n              };\n          } else {\n              return indexExpr;\n          }\n      },\n\n      _parseSliceExpression: function() {\n          // [start:end:step] where each part is optional, as well as the last\n          // colon.\n          var parts = [null, null, null];\n          var index = 0;\n          var currentToken = this._lookahead(0);\n          while (currentToken !== TOK_RBRACKET && index < 3) {\n              if (currentToken === TOK_COLON) {\n                  index++;\n                  this._advance();\n              } else if (currentToken === TOK_NUMBER) {\n                  parts[index] = this._lookaheadToken(0).value;\n                  this._advance();\n              } else {\n                  var t = this._lookahead(0);\n                  var error = new Error(\"Syntax error, unexpected token: \" +\n                                        t.value + \"(\" + t.type + \")\");\n                  error.name = \"Parsererror\";\n                  throw error;\n              }\n              currentToken = this._lookahead(0);\n          }\n          this._match(TOK_RBRACKET);\n          return {\n              type: \"Slice\",\n              children: parts\n          };\n      },\n\n      _parseComparator: function(left, comparator) {\n        var right = this.expression(bindingPower[comparator]);\n        return {type: \"Comparator\", name: comparator, children: [left, right]};\n      },\n\n      _parseDotRHS: function(rbp) {\n          var lookahead = this._lookahead(0);\n          var exprTokens = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER, TOK_STAR];\n          if (exprTokens.indexOf(lookahead) >= 0) {\n              return this.expression(rbp);\n          } else if (lookahead === TOK_LBRACKET) {\n              this._match(TOK_LBRACKET);\n              return this._parseMultiselectList();\n          } else if (lookahead === TOK_LBRACE) {\n              this._match(TOK_LBRACE);\n              return this._parseMultiselectHash();\n          }\n      },\n\n      _parseProjectionRHS: function(rbp) {\n          var right;\n          if (bindingPower[this._lookahead(0)] < 10) {\n              right = {type: \"Identity\"};\n          } else if (this._lookahead(0) === TOK_LBRACKET) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_FILTER) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_DOT) {\n              this._match(TOK_DOT);\n              right = this._parseDotRHS(rbp);\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Sytanx error, unexpected token: \" +\n                                    t.value + \"(\" + t.type + \")\");\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return right;\n      },\n\n      _parseMultiselectList: function() {\n          var expressions = [];\n          while (this._lookahead(0) !== TOK_RBRACKET) {\n              var expression = this.expression(0);\n              expressions.push(expression);\n              if (this._lookahead(0) === TOK_COMMA) {\n                  this._match(TOK_COMMA);\n                  if (this._lookahead(0) === TOK_RBRACKET) {\n                    throw new Error(\"Unexpected token Rbracket\");\n                  }\n              }\n          }\n          this._match(TOK_RBRACKET);\n          return {type: \"MultiSelectList\", children: expressions};\n      },\n\n      _parseMultiselectHash: function() {\n        var pairs = [];\n        var identifierTypes = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER];\n        var keyToken, keyName, value, node;\n        for (;;) {\n          keyToken = this._lookaheadToken(0);\n          if (identifierTypes.indexOf(keyToken.type) < 0) {\n            throw new Error(\"Expecting an identifier token, got: \" +\n                            keyToken.type);\n          }\n          keyName = keyToken.value;\n          this._advance();\n          this._match(TOK_COLON);\n          value = this.expression(0);\n          node = {type: \"KeyValuePair\", name: keyName, value: value};\n          pairs.push(node);\n          if (this._lookahead(0) === TOK_COMMA) {\n            this._match(TOK_COMMA);\n          } else if (this._lookahead(0) === TOK_RBRACE) {\n            this._match(TOK_RBRACE);\n            break;\n          }\n        }\n        return {type: \"MultiSelectHash\", children: pairs};\n      }\n  };\n\n\n  function TreeInterpreter(runtime) {\n    this.runtime = runtime;\n  }\n\n  TreeInterpreter.prototype = {\n      search: function(node, value) {\n          return this.visit(node, value);\n      },\n\n      visit: function(node, value) {\n          var matched, current, result, first, second, field, left, right, collected, i;\n          switch (node.type) {\n            case \"Field\":\n              if (value === null ) {\n                  return null;\n              } else if (isObject(value)) {\n                  field = value[node.name];\n                  if (field === undefined) {\n                      return null;\n                  } else {\n                      return field;\n                  }\n              } else {\n                return null;\n              }\n              break;\n            case \"Subexpression\":\n              result = this.visit(node.children[0], value);\n              for (i = 1; i < node.children.length; i++) {\n                  result = this.visit(node.children[1], result);\n                  if (result === null) {\n                      return null;\n                  }\n              }\n              return result;\n            case \"IndexExpression\":\n              left = this.visit(node.children[0], value);\n              right = this.visit(node.children[1], left);\n              return right;\n            case \"Index\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var index = node.value;\n              if (index < 0) {\n                index = value.length + index;\n              }\n              result = value[index];\n              if (result === undefined) {\n                result = null;\n              }\n              return result;\n            case \"Slice\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var sliceParams = node.children.slice(0);\n              var computed = this.computeSliceParams(value.length, sliceParams);\n              var start = computed[0];\n              var stop = computed[1];\n              var step = computed[2];\n              result = [];\n              if (step > 0) {\n                  for (i = start; i < stop; i += step) {\n                      result.push(value[i]);\n                  }\n              } else {\n                  for (i = start; i > stop; i += step) {\n                      result.push(value[i]);\n                  }\n              }\n              return result;\n            case \"Projection\":\n              // Evaluate left child.\n              var base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < base.length; i++) {\n                current = this.visit(node.children[1], base[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"ValueProjection\":\n              // Evaluate left child.\n              base = this.visit(node.children[0], value);\n              if (!isObject(base)) {\n                return null;\n              }\n              collected = [];\n              var values = objValues(base);\n              for (i = 0; i < values.length; i++) {\n                current = this.visit(node.children[1], values[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"FilterProjection\":\n              base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              var filtered = [];\n              var finalResults = [];\n              for (i = 0; i < base.length; i++) {\n                matched = this.visit(node.children[2], base[i]);\n                if (!isFalse(matched)) {\n                  filtered.push(base[i]);\n                }\n              }\n              for (var j = 0; j < filtered.length; j++) {\n                current = this.visit(node.children[1], filtered[j]);\n                if (current !== null) {\n                  finalResults.push(current);\n                }\n              }\n              return finalResults;\n            case \"Comparator\":\n              first = this.visit(node.children[0], value);\n              second = this.visit(node.children[1], value);\n              switch(node.name) {\n                case TOK_EQ:\n                  result = strictDeepEqual(first, second);\n                  break;\n                case TOK_NE:\n                  result = !strictDeepEqual(first, second);\n                  break;\n                case TOK_GT:\n                  result = first > second;\n                  break;\n                case TOK_GTE:\n                  result = first >= second;\n                  break;\n                case TOK_LT:\n                  result = first < second;\n                  break;\n                case TOK_LTE:\n                  result = first <= second;\n                  break;\n                default:\n                  throw new Error(\"Unknown comparator: \" + node.name);\n              }\n              return result;\n            case TOK_FLATTEN:\n              var original = this.visit(node.children[0], value);\n              if (!isArray(original)) {\n                return null;\n              }\n              var merged = [];\n              for (i = 0; i < original.length; i++) {\n                current = original[i];\n                if (isArray(current)) {\n                  merged.push.apply(merged, current);\n                } else {\n                  merged.push(current);\n                }\n              }\n              return merged;\n            case \"Identity\":\n              return value;\n            case \"MultiSelectList\":\n              if (value === null) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < node.children.length; i++) {\n                  collected.push(this.visit(node.children[i], value));\n              }\n              return collected;\n            case \"MultiSelectHash\":\n              if (value === null) {\n                return null;\n              }\n              collected = {};\n              var child;\n              for (i = 0; i < node.children.length; i++) {\n                child = node.children[i];\n                collected[child.name] = this.visit(child.value, value);\n              }\n              return collected;\n            case \"OrExpression\":\n              matched = this.visit(node.children[0], value);\n              if (isFalse(matched)) {\n                  matched = this.visit(node.children[1], value);\n              }\n              return matched;\n            case \"AndExpression\":\n              first = this.visit(node.children[0], value);\n\n              if (isFalse(first) === true) {\n                return first;\n              }\n              return this.visit(node.children[1], value);\n            case \"NotExpression\":\n              first = this.visit(node.children[0], value);\n              return isFalse(first);\n            case \"Literal\":\n              return node.value;\n            case TOK_PIPE:\n              left = this.visit(node.children[0], value);\n              return this.visit(node.children[1], left);\n            case TOK_CURRENT:\n              return value;\n            case \"Function\":\n              var resolvedArgs = [];\n              for (i = 0; i < node.children.length; i++) {\n                  resolvedArgs.push(this.visit(node.children[i], value));\n              }\n              return this.runtime.callFunction(node.name, resolvedArgs);\n            case \"ExpressionReference\":\n              var refNode = node.children[0];\n              // Tag the node with a specific attribute so the type\n              // checker verify the type.\n              refNode.jmespathType = TOK_EXPREF;\n              return refNode;\n            default:\n              throw new Error(\"Unknown node type: \" + node.type);\n          }\n      },\n\n      computeSliceParams: function(arrayLength, sliceParams) {\n        var start = sliceParams[0];\n        var stop = sliceParams[1];\n        var step = sliceParams[2];\n        var computed = [null, null, null];\n        if (step === null) {\n          step = 1;\n        } else if (step === 0) {\n          var error = new Error(\"Invalid slice, step cannot be 0\");\n          error.name = \"RuntimeError\";\n          throw error;\n        }\n        var stepValueNegative = step < 0 ? true : false;\n\n        if (start === null) {\n            start = stepValueNegative ? arrayLength - 1 : 0;\n        } else {\n            start = this.capSliceRange(arrayLength, start, step);\n        }\n\n        if (stop === null) {\n            stop = stepValueNegative ? -1 : arrayLength;\n        } else {\n            stop = this.capSliceRange(arrayLength, stop, step);\n        }\n        computed[0] = start;\n        computed[1] = stop;\n        computed[2] = step;\n        return computed;\n      },\n\n      capSliceRange: function(arrayLength, actualValue, step) {\n          if (actualValue < 0) {\n              actualValue += arrayLength;\n              if (actualValue < 0) {\n                  actualValue = step < 0 ? -1 : 0;\n              }\n          } else if (actualValue >= arrayLength) {\n              actualValue = step < 0 ? arrayLength - 1 : arrayLength;\n          }\n          return actualValue;\n      }\n\n  };\n\n  function Runtime(interpreter) {\n    this._interpreter = interpreter;\n    this.functionTable = {\n        // name: [function, <signature>]\n        // The <signature> can be:\n        //\n        // {\n        //   args: [[type1, type2], [type1, type2]],\n        //   variadic: true|false\n        // }\n        //\n        // Each arg in the arg list is a list of valid types\n        // (if the function is overloaded and supports multiple\n        // types.  If the type is \"any\" then no type checking\n        // occurs on the argument.  Variadic is optional\n        // and if not provided is assumed to be false.\n        abs: {_func: this._functionAbs, _signature: [{types: [TYPE_NUMBER]}]},\n        avg: {_func: this._functionAvg, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        ceil: {_func: this._functionCeil, _signature: [{types: [TYPE_NUMBER]}]},\n        contains: {\n            _func: this._functionContains,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]},\n                        {types: [TYPE_ANY]}]},\n        \"ends_with\": {\n            _func: this._functionEndsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        floor: {_func: this._functionFloor, _signature: [{types: [TYPE_NUMBER]}]},\n        length: {\n            _func: this._functionLength,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY, TYPE_OBJECT]}]},\n        map: {\n            _func: this._functionMap,\n            _signature: [{types: [TYPE_EXPREF]}, {types: [TYPE_ARRAY]}]},\n        max: {\n            _func: this._functionMax,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"merge\": {\n            _func: this._functionMerge,\n            _signature: [{types: [TYPE_OBJECT], variadic: true}]\n        },\n        \"max_by\": {\n          _func: this._functionMaxBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        sum: {_func: this._functionSum, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        \"starts_with\": {\n            _func: this._functionStartsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        min: {\n            _func: this._functionMin,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"min_by\": {\n          _func: this._functionMinBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        type: {_func: this._functionType, _signature: [{types: [TYPE_ANY]}]},\n        keys: {_func: this._functionKeys, _signature: [{types: [TYPE_OBJECT]}]},\n        values: {_func: this._functionValues, _signature: [{types: [TYPE_OBJECT]}]},\n        sort: {_func: this._functionSort, _signature: [{types: [TYPE_ARRAY_STRING, TYPE_ARRAY_NUMBER]}]},\n        \"sort_by\": {\n          _func: this._functionSortBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        join: {\n            _func: this._functionJoin,\n            _signature: [\n                {types: [TYPE_STRING]},\n                {types: [TYPE_ARRAY_STRING]}\n            ]\n        },\n        reverse: {\n            _func: this._functionReverse,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]}]},\n        \"to_array\": {_func: this._functionToArray, _signature: [{types: [TYPE_ANY]}]},\n        \"to_string\": {_func: this._functionToString, _signature: [{types: [TYPE_ANY]}]},\n        \"to_number\": {_func: this._functionToNumber, _signature: [{types: [TYPE_ANY]}]},\n        \"not_null\": {\n            _func: this._functionNotNull,\n            _signature: [{types: [TYPE_ANY], variadic: true}]\n        }\n    };\n  }\n\n  Runtime.prototype = {\n    callFunction: function(name, resolvedArgs) {\n      var functionEntry = this.functionTable[name];\n      if (functionEntry === undefined) {\n          throw new Error(\"Unknown function: \" + name + \"()\");\n      }\n      this._validateArgs(name, resolvedArgs, functionEntry._signature);\n      return functionEntry._func.call(this, resolvedArgs);\n    },\n\n    _validateArgs: function(name, args, signature) {\n        // Validating the args requires validating\n        // the correct arity and the correct type of each arg.\n        // If the last argument is declared as variadic, then we need\n        // a minimum number of args to be required.  Otherwise it has to\n        // be an exact amount.\n        var pluralized;\n        if (signature[signature.length - 1].variadic) {\n            if (args.length < signature.length) {\n                pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n                throw new Error(\"ArgumentError: \" + name + \"() \" +\n                                \"takes at least\" + signature.length + pluralized +\n                                \" but received \" + args.length);\n            }\n        } else if (args.length !== signature.length) {\n            pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n            throw new Error(\"ArgumentError: \" + name + \"() \" +\n                            \"takes \" + signature.length + pluralized +\n                            \" but received \" + args.length);\n        }\n        var currentSpec;\n        var actualType;\n        var typeMatched;\n        for (var i = 0; i < signature.length; i++) {\n            typeMatched = false;\n            currentSpec = signature[i].types;\n            actualType = this._getTypeName(args[i]);\n            for (var j = 0; j < currentSpec.length; j++) {\n                if (this._typeMatches(actualType, currentSpec[j], args[i])) {\n                    typeMatched = true;\n                    break;\n                }\n            }\n            if (!typeMatched) {\n                throw new Error(\"TypeError: \" + name + \"() \" +\n                                \"expected argument \" + (i + 1) +\n                                \" to be type \" + currentSpec +\n                                \" but received type \" + actualType +\n                                \" instead.\");\n            }\n        }\n    },\n\n    _typeMatches: function(actual, expected, argValue) {\n        if (expected === TYPE_ANY) {\n            return true;\n        }\n        if (expected === TYPE_ARRAY_STRING ||\n            expected === TYPE_ARRAY_NUMBER ||\n            expected === TYPE_ARRAY) {\n            // The expected type can either just be array,\n            // or it can require a specific subtype (array of numbers).\n            //\n            // The simplest case is if \"array\" with no subtype is specified.\n            if (expected === TYPE_ARRAY) {\n                return actual === TYPE_ARRAY;\n            } else if (actual === TYPE_ARRAY) {\n                // Otherwise we need to check subtypes.\n                // I think this has potential to be improved.\n                var subtype;\n                if (expected === TYPE_ARRAY_NUMBER) {\n                  subtype = TYPE_NUMBER;\n                } else if (expected === TYPE_ARRAY_STRING) {\n                  subtype = TYPE_STRING;\n                }\n                for (var i = 0; i < argValue.length; i++) {\n                    if (!this._typeMatches(\n                            this._getTypeName(argValue[i]), subtype,\n                                             argValue[i])) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        } else {\n            return actual === expected;\n        }\n    },\n    _getTypeName: function(obj) {\n        switch (Object.prototype.toString.call(obj)) {\n            case \"[object String]\":\n              return TYPE_STRING;\n            case \"[object Number]\":\n              return TYPE_NUMBER;\n            case \"[object Array]\":\n              return TYPE_ARRAY;\n            case \"[object Boolean]\":\n              return TYPE_BOOLEAN;\n            case \"[object Null]\":\n              return TYPE_NULL;\n            case \"[object Object]\":\n              // Check if it's an expref.  If it has, it's been\n              // tagged with a jmespathType attr of 'Expref';\n              if (obj.jmespathType === TOK_EXPREF) {\n                return TYPE_EXPREF;\n              } else {\n                return TYPE_OBJECT;\n              }\n        }\n    },\n\n    _functionStartsWith: function(resolvedArgs) {\n        return resolvedArgs[0].lastIndexOf(resolvedArgs[1]) === 0;\n    },\n\n    _functionEndsWith: function(resolvedArgs) {\n        var searchStr = resolvedArgs[0];\n        var suffix = resolvedArgs[1];\n        return searchStr.indexOf(suffix, searchStr.length - suffix.length) !== -1;\n    },\n\n    _functionReverse: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        if (typeName === TYPE_STRING) {\n          var originalStr = resolvedArgs[0];\n          var reversedStr = \"\";\n          for (var i = originalStr.length - 1; i >= 0; i--) {\n              reversedStr += originalStr[i];\n          }\n          return reversedStr;\n        } else {\n          var reversedArray = resolvedArgs[0].slice(0);\n          reversedArray.reverse();\n          return reversedArray;\n        }\n    },\n\n    _functionAbs: function(resolvedArgs) {\n      return Math.abs(resolvedArgs[0]);\n    },\n\n    _functionCeil: function(resolvedArgs) {\n        return Math.ceil(resolvedArgs[0]);\n    },\n\n    _functionAvg: function(resolvedArgs) {\n        var sum = 0;\n        var inputArray = resolvedArgs[0];\n        for (var i = 0; i < inputArray.length; i++) {\n            sum += inputArray[i];\n        }\n        return sum / inputArray.length;\n    },\n\n    _functionContains: function(resolvedArgs) {\n        return resolvedArgs[0].indexOf(resolvedArgs[1]) >= 0;\n    },\n\n    _functionFloor: function(resolvedArgs) {\n        return Math.floor(resolvedArgs[0]);\n    },\n\n    _functionLength: function(resolvedArgs) {\n       if (!isObject(resolvedArgs[0])) {\n         return resolvedArgs[0].length;\n       } else {\n         // As far as I can tell, there's no way to get the length\n         // of an object without O(n) iteration through the object.\n         return Object.keys(resolvedArgs[0]).length;\n       }\n    },\n\n    _functionMap: function(resolvedArgs) {\n      var mapped = [];\n      var interpreter = this._interpreter;\n      var exprefNode = resolvedArgs[0];\n      var elements = resolvedArgs[1];\n      for (var i = 0; i < elements.length; i++) {\n          mapped.push(interpreter.visit(exprefNode, elements[i]));\n      }\n      return mapped;\n    },\n\n    _functionMerge: function(resolvedArgs) {\n      var merged = {};\n      for (var i = 0; i < resolvedArgs.length; i++) {\n        var current = resolvedArgs[i];\n        for (var key in current) {\n          merged[key] = current[key];\n        }\n      }\n      return merged;\n    },\n\n    _functionMax: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.max.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var maxElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (maxElement.localeCompare(elements[i]) < 0) {\n                  maxElement = elements[i];\n              }\n          }\n          return maxElement;\n        }\n      } else {\n          return null;\n      }\n    },\n\n    _functionMin: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.min.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var minElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (elements[i].localeCompare(minElement) < 0) {\n                  minElement = elements[i];\n              }\n          }\n          return minElement;\n        }\n      } else {\n        return null;\n      }\n    },\n\n    _functionSum: function(resolvedArgs) {\n      var sum = 0;\n      var listToSum = resolvedArgs[0];\n      for (var i = 0; i < listToSum.length; i++) {\n        sum += listToSum[i];\n      }\n      return sum;\n    },\n\n    _functionType: function(resolvedArgs) {\n        switch (this._getTypeName(resolvedArgs[0])) {\n          case TYPE_NUMBER:\n            return \"number\";\n          case TYPE_STRING:\n            return \"string\";\n          case TYPE_ARRAY:\n            return \"array\";\n          case TYPE_OBJECT:\n            return \"object\";\n          case TYPE_BOOLEAN:\n            return \"boolean\";\n          case TYPE_EXPREF:\n            return \"expref\";\n          case TYPE_NULL:\n            return \"null\";\n        }\n    },\n\n    _functionKeys: function(resolvedArgs) {\n        return Object.keys(resolvedArgs[0]);\n    },\n\n    _functionValues: function(resolvedArgs) {\n        var obj = resolvedArgs[0];\n        var keys = Object.keys(obj);\n        var values = [];\n        for (var i = 0; i < keys.length; i++) {\n            values.push(obj[keys[i]]);\n        }\n        return values;\n    },\n\n    _functionJoin: function(resolvedArgs) {\n        var joinChar = resolvedArgs[0];\n        var listJoin = resolvedArgs[1];\n        return listJoin.join(joinChar);\n    },\n\n    _functionToArray: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_ARRAY) {\n            return resolvedArgs[0];\n        } else {\n            return [resolvedArgs[0]];\n        }\n    },\n\n    _functionToString: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_STRING) {\n            return resolvedArgs[0];\n        } else {\n            return JSON.stringify(resolvedArgs[0]);\n        }\n    },\n\n    _functionToNumber: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        var convertedValue;\n        if (typeName === TYPE_NUMBER) {\n            return resolvedArgs[0];\n        } else if (typeName === TYPE_STRING) {\n            convertedValue = +resolvedArgs[0];\n            if (!isNaN(convertedValue)) {\n                return convertedValue;\n            }\n        }\n        return null;\n    },\n\n    _functionNotNull: function(resolvedArgs) {\n        for (var i = 0; i < resolvedArgs.length; i++) {\n            if (this._getTypeName(resolvedArgs[i]) !== TYPE_NULL) {\n                return resolvedArgs[i];\n            }\n        }\n        return null;\n    },\n\n    _functionSort: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        sortedArray.sort();\n        return sortedArray;\n    },\n\n    _functionSortBy: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        if (sortedArray.length === 0) {\n            return sortedArray;\n        }\n        var interpreter = this._interpreter;\n        var exprefNode = resolvedArgs[1];\n        var requiredType = this._getTypeName(\n            interpreter.visit(exprefNode, sortedArray[0]));\n        if ([TYPE_NUMBER, TYPE_STRING].indexOf(requiredType) < 0) {\n            throw new Error(\"TypeError\");\n        }\n        var that = this;\n        // In order to get a stable sort out of an unstable\n        // sort algorithm, we decorate/sort/undecorate (DSU)\n        // by creating a new list of [index, element] pairs.\n        // In the cmp function, if the evaluated elements are\n        // equal, then the index will be used as the tiebreaker.\n        // After the decorated list has been sorted, it will be\n        // undecorated to extract the original elements.\n        var decorated = [];\n        for (var i = 0; i < sortedArray.length; i++) {\n          decorated.push([i, sortedArray[i]]);\n        }\n        decorated.sort(function(a, b) {\n          var exprA = interpreter.visit(exprefNode, a[1]);\n          var exprB = interpreter.visit(exprefNode, b[1]);\n          if (that._getTypeName(exprA) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprA));\n          } else if (that._getTypeName(exprB) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprB));\n          }\n          if (exprA > exprB) {\n            return 1;\n          } else if (exprA < exprB) {\n            return -1;\n          } else {\n            // If they're equal compare the items by their\n            // order to maintain relative order of equal keys\n            // (i.e. to get a stable sort).\n            return a[0] - b[0];\n          }\n        });\n        // Undecorate: extract out the original list elements.\n        for (var j = 0; j < decorated.length; j++) {\n          sortedArray[j] = decorated[j][1];\n        }\n        return sortedArray;\n    },\n\n    _functionMaxBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var maxNumber = -Infinity;\n      var maxRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current > maxNumber) {\n          maxNumber = current;\n          maxRecord = resolvedArray[i];\n        }\n      }\n      return maxRecord;\n    },\n\n    _functionMinBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var minNumber = Infinity;\n      var minRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current < minNumber) {\n          minNumber = current;\n          minRecord = resolvedArray[i];\n        }\n      }\n      return minRecord;\n    },\n\n    createKeyFunction: function(exprefNode, allowedTypes) {\n      var that = this;\n      var interpreter = this._interpreter;\n      var keyFunc = function(x) {\n        var current = interpreter.visit(exprefNode, x);\n        if (allowedTypes.indexOf(that._getTypeName(current)) < 0) {\n          var msg = \"TypeError: expected one of \" + allowedTypes +\n                    \", received \" + that._getTypeName(current);\n          throw new Error(msg);\n        }\n        return current;\n      };\n      return keyFunc;\n    }\n\n  };\n\n  function compile(stream) {\n    var parser = new Parser();\n    var ast = parser.parse(stream);\n    return ast;\n  }\n\n  function tokenize(stream) {\n      var lexer = new Lexer();\n      return lexer.tokenize(stream);\n  }\n\n  function search(data, expression) {\n      var parser = new Parser();\n      // This needs to be improved.  Both the interpreter and runtime depend on\n      // each other.  The runtime needs the interpreter to support exprefs.\n      // There's likely a clean way to avoid the cyclic dependency.\n      var runtime = new Runtime();\n      var interpreter = new TreeInterpreter(runtime);\n      runtime._interpreter = interpreter;\n      var node = parser.parse(expression);\n      return interpreter.search(node, data);\n  }\n\n  exports.tokenize = tokenize;\n  exports.compile = compile;\n  exports.search = search;\n  exports.strictDeepEqual = strictDeepEqual;\n})(typeof exports === \"undefined\" ? this.jmespath = {} : exports);\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dataMemory = {};\n/** @class */\nvar MemoryStorage = /** @class */ (function () {\n    function MemoryStorage() {\n    }\n    /**\n     * This is used to set a specific item in storage\n     * @param {string} key - the key for the item\n     * @param {object} value - the value\n     * @returns {string} value that was set\n     */\n    MemoryStorage.setItem = function (key, value) {\n        dataMemory[key] = value;\n        return dataMemory[key];\n    };\n    /**\n     * This is used to get a specific key from storage\n     * @param {string} key - the key for the item\n     * This is used to clear the storage\n     * @returns {string} the data item\n     */\n    MemoryStorage.getItem = function (key) {\n        return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n    };\n    /**\n     * This is used to remove an item from storage\n     * @param {string} key - the key being set\n     * @returns {string} value - value that was deleted\n     */\n    MemoryStorage.removeItem = function (key) {\n        return delete dataMemory[key];\n    };\n    /**\n     * This is used to clear the storage\n     * @returns {string} nothing\n     */\n    MemoryStorage.clear = function () {\n        dataMemory = {};\n        return dataMemory;\n    };\n    return MemoryStorage;\n}());\nexports.MemoryStorage = MemoryStorage;\nvar StorageHelper = /** @class */ (function () {\n    /**\n     * This is used to get a storage object\n     * @returns {object} the storage\n     */\n    function StorageHelper() {\n        try {\n            this.storageWindow = window.localStorage;\n            this.storageWindow.setItem('aws.amplify.test-ls', 1);\n            this.storageWindow.removeItem('aws.amplify.test-ls');\n        }\n        catch (exception) {\n            this.storageWindow = MemoryStorage;\n        }\n    }\n    /**\n     * This is used to return the storage\n     * @returns {object} the storage\n     */\n    StorageHelper.prototype.getStorage = function () {\n        return this.storageWindow;\n    };\n    return StorageHelper;\n}());\nexports.default = StorageHelper;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./CacheUtils\"));\nvar CacheList_1 = require(\"./CacheList\");\nexports.CacheList = CacheList_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@aws-amplify/core\");\nvar proto = core_1.JS.browserOrNode().isBrowser && window['Element'] ? window['Element'].prototype : null;\nvar nativeMatches = proto ? proto.matches ||\n    proto.matchesSelector ||\n    proto.webkitMatchesSelector ||\n    proto.mozMatchesSelector ||\n    proto.msMatchesSelector ||\n    proto.oMatchesSelector : null;\n/**\n * Tests if a DOM elements matches any of the test DOM elements or selectors.\n * @param {Element} element The DOM element to test.\n * @param {Element|string|Array<Element|string>} test A DOM element, a CSS\n *     selector, or an array of DOM elements or CSS selectors to match against.\n * @return {boolean} True of any part of the test matches.\n */\nfunction matches(element, test) {\n    // Validate input.\n    if (element && element.nodeType === 1 && test) {\n        // if test is a string or DOM element test it.\n        if (typeof test === 'string' || test.nodeType === 1) {\n            return element === test ||\n                matchesSelector(element, /** @type {string} */ (test));\n        }\n        else if ('length' in test) {\n            // if it has a length property iterate over the items\n            // and return true if any match.\n            for (var i = 0, item = void 0; item = test[i]; i++) {\n                if (element === item || matchesSelector(element, item))\n                    return true;\n            }\n        }\n    }\n    // Still here? Return false\n    return false;\n}\nexports.default = matches;\n/**\n * Tests whether a DOM element matches a selector. This polyfills the native\n * Element.prototype.matches method across browsers.\n * @param {!Element} element The DOM element to test.\n * @param {string} selector The CSS selector to test element against.\n * @return {boolean} True if the selector matches.\n */\nfunction matchesSelector(element, selector) {\n    if (typeof selector !== 'string')\n        return false;\n    if (nativeMatches)\n        return nativeMatches.call(element, selector);\n    var nodes = element.parentNode.querySelectorAll(selector);\n    for (var i = 0, node = void 0; node = nodes[i]; i++) {\n        if (node === element)\n            return true;\n    }\n    return false;\n}\n//# sourceMappingURL=matches.js.map",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","var AWS = require('../core');\nvar util = require('../util');\nvar QueryParamSerializer = require('../query/query_param_serializer');\nvar Shape = require('../model/shape');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction buildRequest(req) {\n  var operation = req.service.api.operations[req.operation];\n  var httpRequest = req.httpRequest;\n  httpRequest.headers['Content-Type'] =\n    'application/x-www-form-urlencoded; charset=utf-8';\n  httpRequest.params = {\n    Version: req.service.api.apiVersion,\n    Action: operation.name\n  };\n\n  // convert the request parameters into a list of query params,\n  // e.g. Deeply.NestedParam.0.Name=value\n  var builder = new QueryParamSerializer();\n  builder.serialize(req.params, operation.input, function(name, value) {\n    httpRequest.params[name] = value;\n  });\n  httpRequest.body = util.queryParamsToString(httpRequest.params);\n\n  populateHostPrefix(req);\n}\n\nfunction extractError(resp) {\n  var data, body = resp.httpResponse.body.toString();\n  if (body.match('<UnknownOperationException')) {\n    data = {\n      Code: 'UnknownOperation',\n      Message: 'Unknown operation ' + resp.request.operation\n    };\n  } else {\n    try {\n      data = new AWS.XML.Parser().parse(body);\n    } catch (e) {\n      data = {\n        Code: resp.httpResponse.statusCode,\n        Message: resp.httpResponse.statusMessage\n      };\n    }\n  }\n\n  if (data.requestId && !resp.requestId) resp.requestId = data.requestId;\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var shape = operation.output || {};\n  var origRules = shape;\n\n  if (origRules.resultWrapper) {\n    var tmp = Shape.create({type: 'structure'});\n    tmp.members[origRules.resultWrapper] = shape;\n    tmp.memberNames = [origRules.resultWrapper];\n    util.property(shape, 'name', shape.resultWrapper);\n    shape = tmp;\n  }\n\n  var parser = new AWS.XML.Parser();\n\n  // TODO: Refactor XML Parser to parse RequestId from response.\n  if (shape && shape.members && !shape.members._XAMZRequestId) {\n    var requestIdShape = Shape.create(\n      { type: 'string' },\n      { api: { protocol: 'query' } },\n      'requestId'\n    );\n    shape.members._XAMZRequestId = requestIdShape;\n  }\n\n  var data = parser.parse(resp.httpResponse.body.toString(), shape);\n  resp.requestId = data._XAMZRequestId || data.requestId;\n\n  if (data._XAMZRequestId) delete data._XAMZRequestId;\n\n  if (origRules.resultWrapper) {\n    if (data[origRules.resultWrapper]) {\n      util.update(data, data[origRules.resultWrapper]);\n      delete data[origRules.resultWrapper];\n    }\n  }\n\n  resp.data = data;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var memoizedProperty = require('../util').memoizedProperty;\n\nfunction memoize(name, value, factory, nameTr) {\n  memoizedProperty(this, nameTr(name), function() {\n    return factory(name, value);\n  });\n}\n\nfunction Collection(iterable, options, factory, nameTr, callback) {\n  nameTr = nameTr || String;\n  var self = this;\n\n  for (var id in iterable) {\n    if (Object.prototype.hasOwnProperty.call(iterable, id)) {\n      memoize.call(self, id, iterable[id], factory, nameTr);\n      if (callback) callback(id, iterable[id]);\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = Collection;\n","var util = require('../util');\nvar Rest = require('./rest');\nvar Json = require('./json');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\n\nfunction populateBody(req) {\n  var builder = new JsonBuilder();\n  var input = req.service.api.operations[req.operation].input;\n\n  if (input.payload) {\n    var params = {};\n    var payloadShape = input.members[input.payload];\n    params = req.params[input.payload];\n    if (params === undefined) return;\n\n    if (payloadShape.type === 'structure') {\n      req.httpRequest.body = builder.build(params, payloadShape);\n      applyContentTypeHeader(req);\n    } else { // non-JSON payload\n      req.httpRequest.body = params;\n      if (payloadShape.type === 'binary' || payloadShape.isStreaming) {\n        applyContentTypeHeader(req, true);\n      }\n    }\n  } else {\n    var body = builder.build(req.params, input);\n    if (body !== '{}' || req.httpRequest.method !== 'GET') { //don't send empty body for GET method\n      req.httpRequest.body = body;\n    }\n    applyContentTypeHeader(req);\n  }\n}\n\nfunction applyContentTypeHeader(req, isBinary) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  if (!req.httpRequest.headers['Content-Type']) {\n    var type = isBinary ? 'binary/octet-stream' : 'application/json';\n    req.httpRequest.headers['Content-Type'] = type;\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on HEAD/DELETE\n  if (['HEAD', 'DELETE'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Json.extractError(resp);\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var rules = req.service.api.operations[req.operation].output || {};\n  var parser;\n  var hasEventOutput = operation.hasEventOutput;\n\n  if (rules.payload) {\n    var payloadMember = rules.members[rules.payload];\n    var body = resp.httpResponse.body;\n    if (payloadMember.isEventStream) {\n      parser = new JsonParser();\n      resp.data[payload] = util.createEventStream(\n        AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : body,\n        parser,\n        payloadMember\n      );\n    } else if (payloadMember.type === 'structure' || payloadMember.type === 'list') {\n      var parser = new JsonParser();\n      resp.data[rules.payload] = parser.parse(body, payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[rules.payload] = body;\n    } else {\n      resp.data[rules.payload] = payloadMember.toType(body);\n    }\n  } else {\n    var data = resp.data;\n    Json.extractData(resp);\n    resp.data = util.merge(data, resp.data);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var AWS = require('../core');\nvar util = require('../util');\nvar Rest = require('./rest');\n\nfunction populateBody(req) {\n  var input = req.service.api.operations[req.operation].input;\n  var builder = new AWS.XML.Builder();\n  var params = req.params;\n\n  var payload = input.payload;\n  if (payload) {\n    var payloadMember = input.members[payload];\n    params = params[payload];\n    if (params === undefined) return;\n\n    if (payloadMember.type === 'structure') {\n      var rootElement = payloadMember.name;\n      req.httpRequest.body = builder.toXML(params, payloadMember, rootElement, true);\n    } else { // non-xml payload\n      req.httpRequest.body = params;\n    }\n  } else {\n    req.httpRequest.body = builder.toXML(params, input, input.name ||\n      input.shape || util.string.upperFirst(req.operation) + 'Request');\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on GET/HEAD\n  if (['GET', 'HEAD'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Rest.extractError(resp);\n\n  var data;\n  try {\n    data = new AWS.XML.Parser().parse(resp.httpResponse.body.toString());\n  } catch (e) {\n    data = {\n      Code: resp.httpResponse.statusCode,\n      Message: resp.httpResponse.statusMessage\n    };\n  }\n\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var parser;\n  var req = resp.request;\n  var body = resp.httpResponse.body;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  var hasEventOutput = operation.hasEventOutput;\n\n  var payload = output.payload;\n  if (payload) {\n    var payloadMember = output.members[payload];\n    if (payloadMember.isEventStream) {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = util.createEventStream(\n        AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : resp.httpResponse.body,\n        parser,\n        payloadMember\n      );\n    } else if (payloadMember.type === 'structure') {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = parser.parse(body.toString(), payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[payload] = body;\n    } else {\n      resp.data[payload] = payloadMember.toType(body);\n    }\n  } else if (body.length > 0) {\n    parser = new AWS.XML.Parser();\n    var data = parser.parse(body.toString(), output);\n    util.update(resp.data, data);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var Collection = require('./collection');\nvar Operation = require('./operation');\nvar Shape = require('./shape');\nvar Paginator = require('./paginator');\nvar ResourceWaiter = require('./resource_waiter');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Api(api, options) {\n  var self = this;\n  api = api || {};\n  options = options || {};\n  options.api = this;\n\n  api.metadata = api.metadata || {};\n\n  property(this, 'isApi', true, false);\n  property(this, 'apiVersion', api.metadata.apiVersion);\n  property(this, 'endpointPrefix', api.metadata.endpointPrefix);\n  property(this, 'signingName', api.metadata.signingName);\n  property(this, 'globalEndpoint', api.metadata.globalEndpoint);\n  property(this, 'signatureVersion', api.metadata.signatureVersion);\n  property(this, 'jsonVersion', api.metadata.jsonVersion);\n  property(this, 'targetPrefix', api.metadata.targetPrefix);\n  property(this, 'protocol', api.metadata.protocol);\n  property(this, 'timestampFormat', api.metadata.timestampFormat);\n  property(this, 'xmlNamespaceUri', api.metadata.xmlNamespace);\n  property(this, 'abbreviation', api.metadata.serviceAbbreviation);\n  property(this, 'fullName', api.metadata.serviceFullName);\n  property(this, 'serviceId', api.metadata.serviceId);\n\n  memoizedProperty(this, 'className', function() {\n    var name = api.metadata.serviceAbbreviation || api.metadata.serviceFullName;\n    if (!name) return null;\n\n    name = name.replace(/^Amazon|AWS\\s*|\\(.*|\\s+|\\W+/g, '');\n    if (name === 'ElasticLoadBalancing') name = 'ELB';\n    return name;\n  });\n\n  function addEndpointOperation(name, operation) {\n    if (operation.endpointoperation === true) {\n      property(self, 'endpointOperation', util.string.lowerFirst(name));\n    }\n  }\n\n  property(this, 'operations', new Collection(api.operations, options, function(name, operation) {\n    return new Operation(name, operation, options);\n  }, util.string.lowerFirst, addEndpointOperation));\n\n  property(this, 'shapes', new Collection(api.shapes, options, function(name, shape) {\n    return Shape.create(shape, options);\n  }));\n\n  property(this, 'paginators', new Collection(api.paginators, options, function(name, paginator) {\n    return new Paginator(name, paginator, options);\n  }));\n\n  property(this, 'waiters', new Collection(api.waiters, options, function(name, waiter) {\n    return new ResourceWaiter(name, waiter, options);\n  }, util.string.lowerFirst));\n\n  if (options.documentation) {\n    property(this, 'documentation', api.documentation);\n    property(this, 'documentationUrl', api.documentationUrl);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = Api;\n","var Shape = require('./shape');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Operation(name, operation, options) {\n  var self = this;\n  options = options || {};\n\n  property(this, 'name', operation.name || name);\n  property(this, 'api', options.api, false);\n\n  operation.http = operation.http || {};\n  property(this, 'endpoint', operation.endpoint);\n  property(this, 'httpMethod', operation.http.method || 'POST');\n  property(this, 'httpPath', operation.http.requestUri || '/');\n  property(this, 'authtype', operation.authtype || '');\n  property(\n    this,\n    'endpointDiscoveryRequired',\n    operation.endpointdiscovery ?\n      (operation.endpointdiscovery.required ? 'REQUIRED' : 'OPTIONAL') :\n    'NULL'\n  );\n\n  memoizedProperty(this, 'input', function() {\n    if (!operation.input) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.input, options);\n  });\n\n  memoizedProperty(this, 'output', function() {\n    if (!operation.output) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.output, options);\n  });\n\n  memoizedProperty(this, 'errors', function() {\n    var list = [];\n    if (!operation.errors) return null;\n\n    for (var i = 0; i < operation.errors.length; i++) {\n      list.push(Shape.create(operation.errors[i], options));\n    }\n\n    return list;\n  });\n\n  memoizedProperty(this, 'paginator', function() {\n    return options.api.paginators[name];\n  });\n\n  if (options.documentation) {\n    property(this, 'documentation', operation.documentation);\n    property(this, 'documentationUrl', operation.documentationUrl);\n  }\n\n  // idempotentMembers only tracks top-level input shapes\n  memoizedProperty(this, 'idempotentMembers', function() {\n    var idempotentMembers = [];\n    var input = self.input;\n    var members = input.members;\n    if (!input.members) {\n      return idempotentMembers;\n    }\n    for (var name in members) {\n      if (!members.hasOwnProperty(name)) {\n        continue;\n      }\n      if (members[name].isIdempotent === true) {\n        idempotentMembers.push(name);\n      }\n    }\n    return idempotentMembers;\n  });\n\n  memoizedProperty(this, 'hasEventOutput', function() {\n    var output = self.output;\n    return hasEventStream(output);\n  });\n}\n\nfunction hasEventStream(topLevelShape) {\n  var members = topLevelShape.members;\n  var payload = topLevelShape.payload;\n\n  if (!topLevelShape.members) {\n    return false;\n  }\n\n  if (payload) {\n    var payloadMember = members[payload];\n    return payloadMember.isEventStream;\n  }\n\n  // check if any member is an event stream\n  for (var name in members) {\n    if (!members.hasOwnProperty(name)) {\n      if (members[name].isEventStream === true) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * @api private\n */\nmodule.exports = Operation;\n","var property = require('../util').property;\n\nfunction Paginator(name, paginator) {\n  property(this, 'inputToken', paginator.input_token);\n  property(this, 'limitKey', paginator.limit_key);\n  property(this, 'moreResults', paginator.more_results);\n  property(this, 'outputToken', paginator.output_token);\n  property(this, 'resultKey', paginator.result_key);\n}\n\n/**\n * @api private\n */\nmodule.exports = Paginator;\n","var util = require('../util');\nvar property = util.property;\n\nfunction ResourceWaiter(name, waiter, options) {\n  options = options || {};\n  property(this, 'name', name);\n  property(this, 'api', options.api, false);\n\n  if (waiter.operation) {\n    property(this, 'operation', util.string.lowerFirst(waiter.operation));\n  }\n\n  var self = this;\n  var keys = [\n    'type',\n    'description',\n    'delay',\n    'maxAttempts',\n    'acceptors'\n  ];\n\n  keys.forEach(function(key) {\n    var value = waiter[key];\n    if (value) {\n      property(self, key, value);\n    }\n  });\n}\n\n/**\n * @api private\n */\nmodule.exports = ResourceWaiter;\n","var AWS = require('./core');\n\n/**\n * @api private\n * @!method on(eventName, callback)\n *   Registers an event listener callback for the event given by `eventName`.\n *   Parameters passed to the callback function depend on the individual event\n *   being triggered. See the event documentation for those parameters.\n *\n *   @param eventName [String] the event name to register the listener for\n *   @param callback [Function] the listener callback function\n *   @param toHead [Boolean] attach the listener callback to the head of callback array if set to true.\n *     Default to be false.\n *   @return [AWS.SequentialExecutor] the same object for chaining\n */\nAWS.SequentialExecutor = AWS.util.inherit({\n\n  constructor: function SequentialExecutor() {\n    this._events = {};\n  },\n\n  /**\n   * @api private\n   */\n  listeners: function listeners(eventName) {\n    return this._events[eventName] ? this._events[eventName].slice(0) : [];\n  },\n\n  on: function on(eventName, listener, toHead) {\n    if (this._events[eventName]) {\n      toHead ?\n        this._events[eventName].unshift(listener) :\n        this._events[eventName].push(listener);\n    } else {\n      this._events[eventName] = [listener];\n    }\n    return this;\n  },\n\n  onAsync: function onAsync(eventName, listener, toHead) {\n    listener._isAsync = true;\n    return this.on(eventName, listener, toHead);\n  },\n\n  removeListener: function removeListener(eventName, listener) {\n    var listeners = this._events[eventName];\n    if (listeners) {\n      var length = listeners.length;\n      var position = -1;\n      for (var i = 0; i < length; ++i) {\n        if (listeners[i] === listener) {\n          position = i;\n        }\n      }\n      if (position > -1) {\n        listeners.splice(position, 1);\n      }\n    }\n    return this;\n  },\n\n  removeAllListeners: function removeAllListeners(eventName) {\n    if (eventName) {\n      delete this._events[eventName];\n    } else {\n      this._events = {};\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  emit: function emit(eventName, eventArgs, doneCallback) {\n    if (!doneCallback) doneCallback = function() { };\n    var listeners = this.listeners(eventName);\n    var count = listeners.length;\n    this.callListeners(listeners, eventArgs, doneCallback);\n    return count > 0;\n  },\n\n  /**\n   * @api private\n   */\n  callListeners: function callListeners(listeners, args, doneCallback, prevError) {\n    var self = this;\n    var error = prevError || null;\n\n    function callNextListener(err) {\n      if (err) {\n        error = AWS.util.error(error || new Error(), err);\n        if (self._haltHandlersOnError) {\n          return doneCallback.call(self, error);\n        }\n      }\n      self.callListeners(listeners, args, doneCallback, error);\n    }\n\n    while (listeners.length > 0) {\n      var listener = listeners.shift();\n      if (listener._isAsync) { // asynchronous listener\n        listener.apply(self, args.concat([callNextListener]));\n        return; // stop here, callNextListener will continue\n      } else { // synchronous listener\n        try {\n          listener.apply(self, args);\n        } catch (err) {\n          error = AWS.util.error(error || new Error(), err);\n        }\n        if (error && self._haltHandlersOnError) {\n          doneCallback.call(self, error);\n          return;\n        }\n      }\n    }\n    doneCallback.call(self, error);\n  },\n\n  /**\n   * Adds or copies a set of listeners from another list of\n   * listeners or SequentialExecutor object.\n   *\n   * @param listeners [map<String,Array<Function>>, AWS.SequentialExecutor]\n   *   a list of events and callbacks, or an event emitter object\n   *   containing listeners to add to this emitter object.\n   * @return [AWS.SequentialExecutor] the emitter object, for chaining.\n   * @example Adding listeners from a map of listeners\n   *   emitter.addListeners({\n   *     event1: [function() { ... }, function() { ... }],\n   *     event2: [function() { ... }]\n   *   });\n   *   emitter.emit('event1'); // emitter has event1\n   *   emitter.emit('event2'); // emitter has event2\n   * @example Adding listeners from another emitter object\n   *   var emitter1 = new AWS.SequentialExecutor();\n   *   emitter1.on('event1', function() { ... });\n   *   emitter1.on('event2', function() { ... });\n   *   var emitter2 = new AWS.SequentialExecutor();\n   *   emitter2.addListeners(emitter1);\n   *   emitter2.emit('event1'); // emitter2 has event1\n   *   emitter2.emit('event2'); // emitter2 has event2\n   */\n  addListeners: function addListeners(listeners) {\n    var self = this;\n\n    // extract listeners if parameter is an SequentialExecutor object\n    if (listeners._events) listeners = listeners._events;\n\n    AWS.util.each(listeners, function(event, callbacks) {\n      if (typeof callbacks === 'function') callbacks = [callbacks];\n      AWS.util.arrayEach(callbacks, function(callback) {\n        self.on(event, callback);\n      });\n    });\n\n    return self;\n  },\n\n  /**\n   * Registers an event with {on} and saves the callback handle function\n   * as a property on the emitter object using a given `name`.\n   *\n   * @param name [String] the property name to set on this object containing\n   *   the callback function handle so that the listener can be removed in\n   *   the future.\n   * @param (see on)\n   * @return (see on)\n   * @example Adding a named listener DATA_CALLBACK\n   *   var listener = function() { doSomething(); };\n   *   emitter.addNamedListener('DATA_CALLBACK', 'data', listener);\n   *\n   *   // the following prints: true\n   *   console.log(emitter.DATA_CALLBACK == listener);\n   */\n  addNamedListener: function addNamedListener(name, eventName, callback, toHead) {\n    this[name] = callback;\n    this.addListener(eventName, callback, toHead);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  addNamedAsyncListener: function addNamedAsyncListener(name, eventName, callback, toHead) {\n    callback._isAsync = true;\n    return this.addNamedListener(name, eventName, callback, toHead);\n  },\n\n  /**\n   * Helper method to add a set of named listeners using\n   * {addNamedListener}. The callback contains a parameter\n   * with a handle to the `addNamedListener` method.\n   *\n   * @callback callback function(add)\n   *   The callback function is called immediately in order to provide\n   *   the `add` function to the block. This simplifies the addition of\n   *   a large group of named listeners.\n   *   @param add [Function] the {addNamedListener} function to call\n   *     when registering listeners.\n   * @example Adding a set of named listeners\n   *   emitter.addNamedListeners(function(add) {\n   *     add('DATA_CALLBACK', 'data', function() { ... });\n   *     add('OTHER', 'otherEvent', function() { ... });\n   *     add('LAST', 'lastEvent', function() { ... });\n   *   });\n   *\n   *   // these properties are now set:\n   *   emitter.DATA_CALLBACK;\n   *   emitter.OTHER;\n   *   emitter.LAST;\n   */\n  addNamedListeners: function addNamedListeners(callback) {\n    var self = this;\n    callback(\n      function() {\n        self.addNamedListener.apply(self, arguments);\n      },\n      function() {\n        self.addNamedAsyncListener.apply(self, arguments);\n      }\n    );\n    return this;\n  }\n});\n\n/**\n * {on} is the prefered method.\n * @api private\n */\nAWS.SequentialExecutor.prototype.addListener = AWS.SequentialExecutor.prototype.on;\n\n/**\n * @api private\n */\nmodule.exports = AWS.SequentialExecutor;\n","var AWS = require('./core');\n\n/**\n * Represents your AWS security credentials, specifically the\n * {accessKeyId}, {secretAccessKey}, and optional {sessionToken}.\n * Creating a `Credentials` object allows you to pass around your\n * security information to configuration and service objects.\n *\n * Note that this class typically does not need to be constructed manually,\n * as the {AWS.Config} and {AWS.Service} classes both accept simple\n * options hashes with the three keys. These structures will be converted\n * into Credentials objects automatically.\n *\n * ## Expiring and Refreshing Credentials\n *\n * Occasionally credentials can expire in the middle of a long-running\n * application. In this case, the SDK will automatically attempt to\n * refresh the credentials from the storage location if the Credentials\n * class implements the {refresh} method.\n *\n * If you are implementing a credential storage location, you\n * will want to create a subclass of the `Credentials` class and\n * override the {refresh} method. This method allows credentials to be\n * retrieved from the backing store, be it a file system, database, or\n * some network storage. The method should reset the credential attributes\n * on the object.\n *\n * @!attribute expired\n *   @return [Boolean] whether the credentials have been expired and\n *     require a refresh. Used in conjunction with {expireTime}.\n * @!attribute expireTime\n *   @return [Date] a time when credentials should be considered expired. Used\n *     in conjunction with {expired}.\n * @!attribute accessKeyId\n *   @return [String] the AWS access key ID\n * @!attribute secretAccessKey\n *   @return [String] the AWS secret access key\n * @!attribute sessionToken\n *   @return [String] an optional AWS session token\n */\nAWS.Credentials = AWS.util.inherit({\n  /**\n   * A credentials object can be created using positional arguments or an options\n   * hash.\n   *\n   * @overload AWS.Credentials(accessKeyId, secretAccessKey, sessionToken=null)\n   *   Creates a Credentials object with a given set of credential information\n   *   as positional arguments.\n   *   @param accessKeyId [String] the AWS access key ID\n   *   @param secretAccessKey [String] the AWS secret access key\n   *   @param sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials('akid', 'secret', 'session');\n   * @overload AWS.Credentials(options)\n   *   Creates a Credentials object with a given set of credential information\n   *   as an options hash.\n   *   @option options accessKeyId [String] the AWS access key ID\n   *   @option options secretAccessKey [String] the AWS secret access key\n   *   @option options sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials({\n   *       accessKeyId: 'akid', secretAccessKey: 'secret', sessionToken: 'session'\n   *     });\n   */\n  constructor: function Credentials() {\n    // hide secretAccessKey from being displayed with util.inspect\n    AWS.util.hideProperties(this, ['secretAccessKey']);\n\n    this.expired = false;\n    this.expireTime = null;\n    this.refreshCallbacks = [];\n    if (arguments.length === 1 && typeof arguments[0] === 'object') {\n      var creds = arguments[0].credentials || arguments[0];\n      this.accessKeyId = creds.accessKeyId;\n      this.secretAccessKey = creds.secretAccessKey;\n      this.sessionToken = creds.sessionToken;\n    } else {\n      this.accessKeyId = arguments[0];\n      this.secretAccessKey = arguments[1];\n      this.sessionToken = arguments[2];\n    }\n  },\n\n  /**\n   * @return [Integer] the number of seconds before {expireTime} during which\n   *   the credentials will be considered expired.\n   */\n  expiryWindow: 15,\n\n  /**\n   * @return [Boolean] whether the credentials object should call {refresh}\n   * @note Subclasses should override this method to provide custom refresh\n   *   logic.\n   */\n  needsRefresh: function needsRefresh() {\n    var currentTime = AWS.util.date.getDate().getTime();\n    var adjustedTime = new Date(currentTime + this.expiryWindow * 1000);\n\n    if (this.expireTime && adjustedTime > this.expireTime) {\n      return true;\n    } else {\n      return this.expired || !this.accessKeyId || !this.secretAccessKey;\n    }\n  },\n\n  /**\n   * Gets the existing credentials, refreshing them if they are not yet loaded\n   * or have expired. Users should call this method before using {refresh},\n   * as this will not attempt to reload credentials when they are already\n   * loaded into the object.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means either credentials\n   *   do not need to be refreshed or refreshed credentials information has\n   *   been loaded into the object (as the `accessKeyId`, `secretAccessKey`,\n   *   and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   */\n  get: function get(callback) {\n    var self = this;\n    if (this.needsRefresh()) {\n      this.refresh(function(err) {\n        if (!err) self.expired = false; // reset expired flag\n        if (callback) callback(err);\n      });\n    } else if (callback) {\n      callback();\n    }\n  },\n\n  /**\n   * @!method  getPromise()\n   *   Returns a 'thenable' promise.\n   *   Gets the existing credentials, refreshing them if they are not yet loaded\n   *   or have expired. Users should call this method before using {refresh},\n   *   as this will not attempt to reload credentials when they are already\n   *   loaded into the object.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means either credentials do not need to be refreshed or refreshed\n   *     credentials information has been loaded into the object (as the\n   *     `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `get` call.\n   *   @example Calling the `getPromise` method.\n   *     var promise = credProvider.getPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * @!method  refreshPromise()\n   *   Returns a 'thenable' promise.\n   *   Refreshes the credentials. Users should call {get} before attempting\n   *   to forcibly refresh credentials.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means refreshed credentials information has been loaded into the object\n   *     (as the `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `refresh` call.\n   *   @example Calling the `refreshPromise` method.\n   *     var promise = credProvider.refreshPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * Refreshes the credentials. Users should call {get} before attempting\n   * to forcibly refresh credentials.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means refreshed\n   *   credentials information has been loaded into the object (as the\n   *   `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @note Subclasses should override this class to reset the\n   *   {accessKeyId}, {secretAccessKey} and optional {sessionToken}\n   *   on the credentials object and then call the callback with\n   *   any error information.\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.expired = false;\n    callback();\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  coalesceRefresh: function coalesceRefresh(callback, sync) {\n    var self = this;\n    if (self.refreshCallbacks.push(callback) === 1) {\n      self.load(function onLoad(err) {\n        AWS.util.arrayEach(self.refreshCallbacks, function(callback) {\n          if (sync) {\n            callback(err);\n          } else {\n            // callback could throw, so defer to ensure all callbacks are notified\n            AWS.util.defer(function () {\n              callback(err);\n            });\n          }\n        });\n        self.refreshCallbacks.length = 0;\n      });\n    }\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    callback();\n  }\n});\n\n/**\n * @api private\n */\nAWS.Credentials.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.getPromise = AWS.util.promisifyMethod('get', PromiseDependency);\n  this.prototype.refreshPromise = AWS.util.promisifyMethod('refresh', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.Credentials.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.getPromise;\n  delete this.prototype.refreshPromise;\n};\n\nAWS.util.addPromises(AWS.Credentials);\n","var AWS = require('../core');\n\n/**\n * Creates a credential provider chain that searches for AWS credentials\n * in a list of credential providers specified by the {providers} property.\n *\n * By default, the chain will use the {defaultProviders} to resolve credentials.\n * These providers will look in the environment using the\n * {AWS.EnvironmentCredentials} class with the 'AWS' and 'AMAZON' prefixes.\n *\n * ## Setting Providers\n *\n * Each provider in the {providers} list should be a function that returns\n * a {AWS.Credentials} object, or a hardcoded credentials object. The function\n * form allows for delayed execution of the credential construction.\n *\n * ## Resolving Credentials from a Chain\n *\n * Call {resolve} to return the first valid credential object that can be\n * loaded by the provider chain.\n *\n * For example, to resolve a chain with a custom provider that checks a file\n * on disk after the set of {defaultProviders}:\n *\n * ```javascript\n * var diskProvider = new AWS.FileSystemCredentials('./creds.json');\n * var chain = new AWS.CredentialProviderChain();\n * chain.providers.push(diskProvider);\n * chain.resolve();\n * ```\n *\n * The above code will return the `diskProvider` object if the\n * file contains credentials and the `defaultProviders` do not contain\n * any credential settings.\n *\n * @!attribute providers\n *   @return [Array<AWS.Credentials, Function>]\n *     a list of credentials objects or functions that return credentials\n *     objects. If the provider is a function, the function will be\n *     executed lazily when the provider needs to be checked for valid\n *     credentials. By default, this object will be set to the\n *     {defaultProviders}.\n *   @see defaultProviders\n */\nAWS.CredentialProviderChain = AWS.util.inherit(AWS.Credentials, {\n\n  /**\n   * Creates a new CredentialProviderChain with a default set of providers\n   * specified by {defaultProviders}.\n   */\n  constructor: function CredentialProviderChain(providers) {\n    if (providers) {\n      this.providers = providers;\n    } else {\n      this.providers = AWS.CredentialProviderChain.defaultProviders.slice(0);\n    }\n    this.resolveCallbacks = [];\n  },\n\n  /**\n   * @!method  resolvePromise()\n   *   Returns a 'thenable' promise.\n   *   Resolves the provider chain by searching for the first set of\n   *   credentials in {providers}.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(credentials)\n   *     Called if the promise is fulfilled and the provider resolves the chain\n   *     to a credentials object\n   *     @param credentials [AWS.Credentials] the credentials object resolved\n   *       by the provider chain.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param err [Error] the error object returned if no credentials are found.\n   *   @return [Promise] A promise that represents the state of the `resolve` method call.\n   *   @example Calling the `resolvePromise` method.\n   *     var promise = chain.resolvePromise();\n   *     promise.then(function(credentials) { ... }, function(err) { ... });\n   */\n\n  /**\n   * Resolves the provider chain by searching for the first set of\n   * credentials in {providers}.\n   *\n   * @callback callback function(err, credentials)\n   *   Called when the provider resolves the chain to a credentials object\n   *   or null if no credentials can be found.\n   *\n   *   @param err [Error] the error object returned if no credentials are\n   *     found.\n   *   @param credentials [AWS.Credentials] the credentials object resolved\n   *     by the provider chain.\n   * @return [AWS.CredentialProviderChain] the provider, for chaining.\n   */\n  resolve: function resolve(callback) {\n    var self = this;\n    if (self.providers.length === 0) {\n      callback(new Error('No providers'));\n      return self;\n    }\n\n    if (self.resolveCallbacks.push(callback) === 1) {\n      var index = 0;\n      var providers = self.providers.slice(0);\n\n      function resolveNext(err, creds) {\n        if ((!err && creds) || index === providers.length) {\n          AWS.util.arrayEach(self.resolveCallbacks, function (callback) {\n            callback(err, creds);\n          });\n          self.resolveCallbacks.length = 0;\n          return;\n        }\n\n        var provider = providers[index++];\n        if (typeof provider === 'function') {\n          creds = provider.call();\n        } else {\n          creds = provider;\n        }\n\n        if (creds.get) {\n          creds.get(function (getErr) {\n            resolveNext(getErr, getErr ? null : creds);\n          });\n        } else {\n          resolveNext(null, creds);\n        }\n      }\n\n      resolveNext();\n    }\n\n    return self;\n  }\n});\n\n/**\n * The default set of providers used by a vanilla CredentialProviderChain.\n *\n * In the browser:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = []\n * ```\n *\n * In Node.js:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = [\n *   function () { return new AWS.EnvironmentCredentials('AWS'); },\n *   function () { return new AWS.EnvironmentCredentials('AMAZON'); },\n *   function () { return new AWS.SharedIniFileCredentials(); },\n *   function () { return new AWS.ECSCredentials(); },\n *   function () { return new AWS.ProcessCredentials(); },\n *   function () { return new AWS.EC2MetadataCredentials() }\n * ]\n * ```\n */\nAWS.CredentialProviderChain.defaultProviders = [];\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.resolvePromise = AWS.util.promisifyMethod('resolve', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.resolvePromise;\n};\n\nAWS.util.addPromises(AWS.CredentialProviderChain);\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\n\n/**\n * The endpoint that a service will talk to, for example,\n * `'https://ec2.ap-southeast-1.amazonaws.com'`. If\n * you need to override an endpoint for a service, you can\n * set the endpoint on a service by passing the endpoint\n * object with the `endpoint` option key:\n *\n * ```javascript\n * var ep = new AWS.Endpoint('awsproxy.example.com');\n * var s3 = new AWS.S3({endpoint: ep});\n * s3.service.endpoint.hostname == 'awsproxy.example.com'\n * ```\n *\n * Note that if you do not specify a protocol, the protocol will\n * be selected based on your current {AWS.config} configuration.\n *\n * @!attribute protocol\n *   @return [String] the protocol (http or https) of the endpoint\n *     URL\n * @!attribute hostname\n *   @return [String] the host portion of the endpoint, e.g.,\n *     example.com\n * @!attribute host\n *   @return [String] the host portion of the endpoint including\n *     the port, e.g., example.com:80\n * @!attribute port\n *   @return [Integer] the port of the endpoint\n * @!attribute href\n *   @return [String] the full URL of the endpoint\n */\nAWS.Endpoint = inherit({\n\n  /**\n   * @overload Endpoint(endpoint)\n   *   Constructs a new endpoint given an endpoint URL. If the\n   *   URL omits a protocol (http or https), the default protocol\n   *   set in the global {AWS.config} will be used.\n   *   @param endpoint [String] the URL to construct an endpoint from\n   */\n  constructor: function Endpoint(endpoint, config) {\n    AWS.util.hideProperties(this, ['slashes', 'auth', 'hash', 'search', 'query']);\n\n    if (typeof endpoint === 'undefined' || endpoint === null) {\n      throw new Error('Invalid endpoint: ' + endpoint);\n    } else if (typeof endpoint !== 'string') {\n      return AWS.util.copy(endpoint);\n    }\n\n    if (!endpoint.match(/^http/)) {\n      var useSSL = config && config.sslEnabled !== undefined ?\n        config.sslEnabled : AWS.config.sslEnabled;\n      endpoint = (useSSL ? 'https' : 'http') + '://' + endpoint;\n    }\n\n    AWS.util.update(this, AWS.util.urlParse(endpoint));\n\n    // Ensure the port property is set as an integer\n    if (this.port) {\n      this.port = parseInt(this.port, 10);\n    } else {\n      this.port = this.protocol === 'https:' ? 443 : 80;\n    }\n  }\n\n});\n\n/**\n * The low level HTTP request object, encapsulating all HTTP header\n * and body data sent by a service request.\n *\n * @!attribute method\n *   @return [String] the HTTP method of the request\n * @!attribute path\n *   @return [String] the path portion of the URI, e.g.,\n *     \"/list/?start=5&num=10\"\n * @!attribute headers\n *   @return [map<String,String>]\n *     a map of header keys and their respective values\n * @!attribute body\n *   @return [String] the request body payload\n * @!attribute endpoint\n *   @return [AWS.Endpoint] the endpoint for the request\n * @!attribute region\n *   @api private\n *   @return [String] the region, for signing purposes only.\n */\nAWS.HttpRequest = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpRequest(endpoint, region) {\n    endpoint = new AWS.Endpoint(endpoint);\n    this.method = 'POST';\n    this.path = endpoint.path || '/';\n    this.headers = {};\n    this.body = '';\n    this.endpoint = endpoint;\n    this.region = region;\n    this._userAgent = '';\n    this.setUserAgent();\n  },\n\n  /**\n   * @api private\n   */\n  setUserAgent: function setUserAgent() {\n    this._userAgent = this.headers[this.getUserAgentHeaderName()] = AWS.util.userAgent();\n  },\n\n  getUserAgentHeaderName: function getUserAgentHeaderName() {\n    var prefix = AWS.util.isBrowser() ? 'X-Amz-' : '';\n    return prefix + 'User-Agent';\n  },\n\n  /**\n   * @api private\n   */\n  appendToUserAgent: function appendToUserAgent(agentPartial) {\n    if (typeof agentPartial === 'string' && agentPartial) {\n      this._userAgent += ' ' + agentPartial;\n    }\n    this.headers[this.getUserAgentHeaderName()] = this._userAgent;\n  },\n\n  /**\n   * @api private\n   */\n  getUserAgent: function getUserAgent() {\n    return this._userAgent;\n  },\n\n  /**\n   * @return [String] the part of the {path} excluding the\n   *   query string\n   */\n  pathname: function pathname() {\n    return this.path.split('?', 1)[0];\n  },\n\n  /**\n   * @return [String] the query string portion of the {path}\n   */\n  search: function search() {\n    var query = this.path.split('?', 2)[1];\n    if (query) {\n      query = AWS.util.queryStringParse(query);\n      return AWS.util.queryParamsToString(query);\n    }\n    return '';\n  },\n\n  /**\n   * @api private\n   * update httpRequest endpoint with endpoint string\n   */\n  updateEndpoint: function updateEndpoint(endpointStr) {\n    var newEndpoint = new AWS.Endpoint(endpointStr);\n    this.endpoint = newEndpoint;\n    this.path = newEndpoint.path || '/';\n  }\n});\n\n/**\n * The low level HTTP response object, encapsulating all HTTP header\n * and body data returned from the request.\n *\n * @!attribute statusCode\n *   @return [Integer] the HTTP status code of the response (e.g., 200, 404)\n * @!attribute headers\n *   @return [map<String,String>]\n *      a map of response header keys and their respective values\n * @!attribute body\n *   @return [String] the response body payload\n * @!attribute [r] streaming\n *   @return [Boolean] whether this response is being streamed at a low-level.\n *     Defaults to `false` (buffered reads). Do not modify this manually, use\n *     {createUnbufferedStream} to convert the stream to unbuffered mode\n *     instead.\n */\nAWS.HttpResponse = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpResponse() {\n    this.statusCode = undefined;\n    this.headers = {};\n    this.body = undefined;\n    this.streaming = false;\n    this.stream = null;\n  },\n\n  /**\n   * Disables buffering on the HTTP response and returns the stream for reading.\n   * @return [Stream, XMLHttpRequest, null] the underlying stream object.\n   *   Use this object to directly read data off of the stream.\n   * @note This object is only available after the {AWS.Request~httpHeaders}\n   *   event has fired. This method must be called prior to\n   *   {AWS.Request~httpData}.\n   * @example Taking control of a stream\n   *   request.on('httpHeaders', function(statusCode, headers) {\n   *     if (statusCode < 300) {\n   *       if (headers.etag === 'xyz') {\n   *         // pipe the stream, disabling buffering\n   *         var stream = this.response.httpResponse.createUnbufferedStream();\n   *         stream.pipe(process.stdout);\n   *       } else { // abort this request and set a better error message\n   *         this.abort();\n   *         this.response.error = new Error('Invalid ETag');\n   *       }\n   *     }\n   *   }).send(console.log);\n   */\n  createUnbufferedStream: function createUnbufferedStream() {\n    this.streaming = true;\n    return this.stream;\n  }\n});\n\n\nAWS.HttpClient = inherit({});\n\n/**\n * @api private\n */\nAWS.HttpClient.getInstance = function getInstance() {\n  if (this.singleton === undefined) {\n    this.singleton = new this();\n  }\n  return this.singleton;\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    var datetime = AWS.util.date.rfc822(date);\n\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    this.request.headers['X-Amzn-Authorization'] =\n      this.authorization(credentials, datetime);\n\n  },\n\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'SignedHeaders=' + this.signedHeaders() + ',' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar GoogleOAuth_1 = require(\"./GoogleOAuth\");\nvar FacebookOAuth_1 = require(\"./FacebookOAuth\");\nvar GoogleOAuth = new GoogleOAuth_1.default();\nexports.GoogleOAuth = GoogleOAuth;\nvar FacebookOAuth = new FacebookOAuth_1.default();\nexports.FacebookOAuth = FacebookOAuth;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar packageInfo = require(\"../../package.json\");\nvar Platform = {\n    'userAgent': \"aws-amplify/\" + packageInfo.version + \" js\",\n    'product': '',\n    'navigator': null,\n    'isReactNative': false\n};\nif (typeof navigator !== 'undefined' && navigator.product) {\n    Platform.product = navigator.product || '';\n    Platform.navigator = navigator || null;\n    switch (navigator.product) {\n        case 'ReactNative':\n            Platform.userAgent = \"aws-amplify/\" + packageInfo.version + \" react-native\";\n            Platform.isReactNative = true;\n            break;\n        default:\n            Platform.userAgent = \"aws-amplify/\" + packageInfo.version + \" js\";\n            Platform.isReactNative = false;\n            break;\n    }\n}\nexports.default = Platform;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar core_1 = require(\"@aws-amplify/core\");\nvar MobileAnalytics = require(\"aws-sdk/clients/mobileanalytics\");\nvar Pinpoint = require(\"aws-sdk/clients/pinpoint\");\nvar cache_1 = require(\"@aws-amplify/cache\");\nvar uuid_1 = require(\"uuid\");\nvar AMPLIFY_SYMBOL = ((typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') ?\n    Symbol.for('amplify_default') : '@@amplify_default');\nvar dispatchAnalyticsEvent = function (event, data) {\n    core_1.Hub.dispatch('analytics', { event: event, data: data }, 'Analytics', AMPLIFY_SYMBOL);\n};\nvar logger = new core_1.ConsoleLogger('AWSPinpointProvider');\nvar NON_RETRYABLE_EXCEPTIONS = ['BadRequestException', 'SerializationException', 'ValidationException'];\n// events buffer\nvar BUFFER_SIZE = 1000;\nvar FLUSH_SIZE = 100;\nvar FLUSH_INTERVAL = 5 * 1000; // 5s\nvar RESEND_LIMIT = 5;\n// params: { event: {name: , .... }, timeStamp, config, resendLimits }\nvar AWSPinpointProvider = /** @class */ (function () {\n    function AWSPinpointProvider(config) {\n        this._endpointGenerating = true;\n        this._buffer = [];\n        this._config = config ? config : {};\n        this._config.bufferSize = this._config.bufferSize || BUFFER_SIZE;\n        this._config.flushSize = this._config.flushSize || FLUSH_SIZE;\n        this._config.flushInterval = this._config.flushInterval || FLUSH_INTERVAL;\n        this._config.resendLimit = this._config.resendLimit || RESEND_LIMIT;\n        this._clientInfo = core_1.ClientDevice.clientInfo();\n    }\n    AWSPinpointProvider.prototype._setupTimer = function () {\n        var _this = this;\n        if (this._timer) {\n            clearInterval(this._timer);\n        }\n        var _a = this._config, flushSize = _a.flushSize, flushInterval = _a.flushInterval;\n        var that = this;\n        this._timer = setInterval(function () {\n            var size = _this._buffer.length < flushSize ? _this._buffer.length : flushSize;\n            for (var i = 0; i < size; i += 1) {\n                var params = _this._buffer.shift();\n                that._sendFromBuffer(params);\n                // If this is the first request sent by Analytics module, we should stop sending remaining requests\n                // to prevent race condition of updating one endpoint when it's being created in the backend\n                if (_this._endpointGenerating)\n                    break;\n            }\n        }, flushInterval);\n    };\n    /**\n     * @private\n     * @param params - params for the event recording\n     * Put events into buffer\n     */\n    AWSPinpointProvider.prototype._putToBuffer = function (params) {\n        var bufferSize = this._config.bufferSize;\n        if (this._buffer.length < bufferSize) {\n            this._buffer.push(params);\n            return Promise.resolve(true);\n        }\n        else {\n            logger.debug('exceed analytics events buffer size');\n            return Promise.reject(false);\n        }\n    };\n    AWSPinpointProvider.prototype._sendFromBuffer = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var event, config, appId, region, resendLimit, success, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        event = params.event, config = params.config;\n                        appId = config.appId, region = config.region, resendLimit = config.resendLimit;\n                        success = true;\n                        _a = event.name;\n                        switch (_a) {\n                            case '_session.start': return [3 /*break*/, 1];\n                            case '_session.stop': return [3 /*break*/, 3];\n                            case '_update_endpoint': return [3 /*break*/, 5];\n                        }\n                        return [3 /*break*/, 7];\n                    case 1: return [4 /*yield*/, this._startSession(params)];\n                    case 2:\n                        success = _b.sent();\n                        return [3 /*break*/, 9];\n                    case 3: return [4 /*yield*/, this._stopSession(params)];\n                    case 4:\n                        success = _b.sent();\n                        return [3 /*break*/, 9];\n                    case 5: return [4 /*yield*/, this._updateEndpoint(params)];\n                    case 6:\n                        success = _b.sent();\n                        return [3 /*break*/, 9];\n                    case 7: return [4 /*yield*/, this._recordCustomEvent(params)];\n                    case 8:\n                        success = _b.sent();\n                        return [3 /*break*/, 9];\n                    case 9:\n                        if (!success) {\n                            params.resendLimits = typeof params.resendLimits === 'number' ?\n                                params.resendLimits : resendLimit;\n                            if (params.resendLimits > 0) {\n                                logger.debug(\"resending event \" + params.eventName + \" with \" + params.resendLimits + \" retry times left\");\n                                params.resendLimits -= 1;\n                                this._putToBuffer(params);\n                            }\n                            else {\n                                logger.debug(\"retry times used up for event \" + params.eventName);\n                            }\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * get the category of the plugin\n     */\n    AWSPinpointProvider.prototype.getCategory = function () {\n        return AWSPinpointProvider.category;\n    };\n    /**\n     * get provider name of the plugin\n     */\n    AWSPinpointProvider.prototype.getProviderName = function () {\n        return AWSPinpointProvider.providerName;\n    };\n    /**\n     * configure the plugin\n     * @param {Object} config - configuration\n     */\n    AWSPinpointProvider.prototype.configure = function (config) {\n        var _this = this;\n        logger.debug('configure Analytics', config);\n        var conf = config ? config : {};\n        this._config = Object.assign({}, this._config, conf);\n        if (this._config['appId'] && !this._config['disabled']) {\n            if (!this._config['endpointId']) {\n                var cacheKey = this.getProviderName() + '_' + this._config['appId'];\n                this._getEndpointId(cacheKey).then(function (endpointId) {\n                    logger.debug('setting endpoint id from the cache', endpointId);\n                    _this._config['endpointId'] = endpointId;\n                    dispatchAnalyticsEvent('pinpointProvider_configured', null);\n                }).catch(function (e) {\n                    logger.debug('Failed to generate endpointId', e);\n                });\n            }\n            else {\n                dispatchAnalyticsEvent('pinpointProvider_configured', null);\n            }\n            this._setupTimer();\n        }\n        else {\n            if (this._timer) {\n                clearInterval(this._timer);\n            }\n        }\n        return this._config;\n    };\n    /**\n     * record an event\n     * @param {Object} params - the params of an event\n     */\n    AWSPinpointProvider.prototype.record = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, timestamp;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getCredentials()];\n                    case 1:\n                        credentials = _a.sent();\n                        if (!credentials || !this._config['appId'] || !this._config['region']) {\n                            logger.debug('cannot send events without credentials, applicationId or region');\n                            return [2 /*return*/, Promise.resolve(false)];\n                        }\n                        timestamp = new Date().getTime();\n                        // attach the session and eventId\n                        this._generateSession(params);\n                        params.event.eventId = uuid_1.v1();\n                        Object.assign(params, { timestamp: timestamp, config: this._config, credentials: credentials });\n                        if (params.event.immediate) {\n                            return [2 /*return*/, this._send(params)];\n                        }\n                        else {\n                            return [2 /*return*/, this._putToBuffer(params)];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSPinpointProvider.prototype._generateSession = function (params) {\n        this._sessionId = this._sessionId || uuid_1.v1();\n        var event = params.event;\n        switch (event.name) {\n            case '_session.start':\n                // refresh the session id and session start time\n                this._sessionStartTimestamp = new Date().getTime();\n                this._sessionId = uuid_1.v1();\n                event.session = {\n                    Id: this._sessionId,\n                    StartTimestamp: new Date(this._sessionStartTimestamp).toISOString()\n                };\n                break;\n            case '_session.stop':\n                var stopTimestamp = new Date().getTime();\n                this._sessionStartTimestamp = this._sessionStartTimestamp || new Date().getTime();\n                this._sessionId = this._sessionId || uuid_1.v1();\n                event.session = {\n                    Id: this._sessionId,\n                    Duration: stopTimestamp - this._sessionStartTimestamp,\n                    StartTimestamp: new Date(this._sessionStartTimestamp).toISOString(),\n                    StopTimestamp: new Date(stopTimestamp).toISOString()\n                };\n                this._sessionId = undefined;\n                this._sessionStartTimestamp = undefined;\n                break;\n            default:\n                this._sessionStartTimestamp = this._sessionStartTimestamp || new Date().getTime();\n                this._sessionId = this._sessionId || uuid_1.v1();\n                event.session = {\n                    Id: this._sessionId,\n                    StartTimestamp: new Date(this._sessionStartTimestamp).toISOString()\n                };\n                break;\n        }\n    };\n    AWSPinpointProvider.prototype._send = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var event, config;\n            return __generator(this, function (_a) {\n                event = params.event, config = params.config;\n                switch (event.name) {\n                    case '_session.start':\n                        return [2 /*return*/, this._startSession(params)];\n                    case '_session.stop':\n                        return [2 /*return*/, this._stopSession(params)];\n                    case '_update_endpoint':\n                        return [2 /*return*/, this._updateEndpoint(params)];\n                    default:\n                        return [2 /*return*/, this._recordCustomEvent(params)];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    AWSPinpointProvider.prototype._generateBatchItemContext = function (params) {\n        var event = params.event, timestamp = params.timestamp, config = params.config, credentials = params.credentials;\n        var name = event.name, attributes = event.attributes, metrics = event.metrics, eventId = event.eventId, session = event.session;\n        var appId = config.appId, endpointId = config.endpointId;\n        var endpointContext = {};\n        var eventParams = {\n            ApplicationId: appId,\n            EventsRequest: {\n                BatchItem: {}\n            }\n        };\n        eventParams.EventsRequest.BatchItem[endpointId] = {};\n        var endpointObj = eventParams.EventsRequest.BatchItem[endpointId];\n        endpointObj['Endpoint'] = endpointContext;\n        endpointObj['Events'] = {};\n        endpointObj['Events'][eventId] = {\n            EventType: name,\n            Timestamp: new Date(timestamp).toISOString(),\n            Attributes: attributes,\n            Metrics: metrics,\n            Session: session\n        };\n        return eventParams;\n    };\n    AWSPinpointProvider.prototype._pinpointPutEvents = function (eventParams) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                logger.debug('pinpoint put events with params', eventParams);\n                return [2 /*return*/, new Promise(function (res, rej) {\n                        var request = _this.pinpointClient.putEvents(eventParams);\n                        // in order to keep backward compatiblity\n                        // we are using a legacy api: /apps/{appid}/events/legacy\n                        // so that users don't need to update their IAM Policy\n                        // will use the formal one in the next break release\n                        request.on('build', function () {\n                            request.httpRequest.path = request.httpRequest.path + '/legacy';\n                        });\n                        request.send(function (err, data) {\n                            if (err) {\n                                logger.error('record event failed. ', err);\n                                logger.warn('If you have not updated your Pinpoint IAM Policy' +\n                                    ' with the Action: \\\"mobiletargeting:PutEvents\\\" yet, please do it.' +\n                                    ' This action is not necessary for now' +\n                                    ' but in order to avoid breaking changes in the future,' +\n                                    ' please update it as soon as possible.');\n                                res(false);\n                            }\n                            else {\n                                _this._endpointGenerating = false;\n                                logger.debug('record event success. ', data);\n                                res(true);\n                            }\n                        });\n                    })];\n            });\n        });\n    };\n    /**\n     * @private\n     * @param params\n     */\n    AWSPinpointProvider.prototype._startSession = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var event, timestamp, config, credentials, eventParams;\n            return __generator(this, function (_a) {\n                event = params.event, timestamp = params.timestamp, config = params.config, credentials = params.credentials;\n                this._initClients(config, credentials);\n                logger.debug('record session start');\n                eventParams = this._generateBatchItemContext(params);\n                return [2 /*return*/, this._pinpointPutEvents(eventParams)];\n            });\n        });\n    };\n    /**\n     * @private\n     * @param params\n     */\n    AWSPinpointProvider.prototype._stopSession = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var event, timestamp, config, credentials, eventParams;\n            return __generator(this, function (_a) {\n                event = params.event, timestamp = params.timestamp, config = params.config, credentials = params.credentials;\n                this._initClients(config, credentials);\n                logger.debug('record session stop');\n                eventParams = this._generateBatchItemContext(params);\n                return [2 /*return*/, this._pinpointPutEvents(eventParams)];\n            });\n        });\n    };\n    /**\n     * @private\n     * @param params\n     */\n    AWSPinpointProvider.prototype._recordCustomEvent = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var event, timestamp, config, credentials, eventParams;\n            return __generator(this, function (_a) {\n                event = params.event, timestamp = params.timestamp, config = params.config, credentials = params.credentials;\n                this._initClients(config, credentials);\n                logger.debug('record event with params');\n                eventParams = this._generateBatchItemContext(params);\n                return [2 /*return*/, this._pinpointPutEvents(eventParams)];\n            });\n        });\n    };\n    AWSPinpointProvider.prototype._updateEndpoint = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var timestamp, config, credentials, event, appId, region, endpointId, request, update_params, that;\n            var _this = this;\n            return __generator(this, function (_a) {\n                timestamp = params.timestamp, config = params.config, credentials = params.credentials, event = params.event;\n                appId = config.appId, region = config.region, endpointId = config.endpointId;\n                this._initClients(config, credentials);\n                request = this._endpointRequest(config, core_1.JS.transferKeyToLowerCase(event, [], ['attributes', 'userAttributes', 'Attributes', 'UserAttributes']));\n                update_params = {\n                    ApplicationId: appId,\n                    EndpointId: endpointId,\n                    EndpointRequest: request\n                };\n                that = this;\n                logger.debug('updateEndpoint with params: ', update_params);\n                return [2 /*return*/, new Promise(function (res, rej) {\n                        that.pinpointClient.updateEndpoint(update_params, function (err, data) {\n                            if (err) {\n                                logger.debug('updateEndpoint failed', err);\n                                if (err.message === 'Exceeded maximum endpoint per user count 10') {\n                                    _this._removeUnusedEndpoints(appId, request.User.UserId)\n                                        .then(function () {\n                                        logger.debug('Remove the unused endpoints successfully');\n                                        _this._endpointGenerating = false;\n                                        return res(false);\n                                    }).catch(function (e) {\n                                        logger.warn(\"Failed to remove unused endpoints with error: \" + e);\n                                        logger.warn(\"Please ensure you have updated your Pinpoint IAM Policy \" +\n                                            \"with the Action: \\\"mobiletargeting:GetUserEndpoints\\\" \" +\n                                            \"in order to get endpoints info of the user\");\n                                        return res(false);\n                                    });\n                                }\n                                return res(false);\n                            }\n                            else {\n                                _this._endpointGenerating = false;\n                                logger.debug('updateEndpoint success', data);\n                                return res(true);\n                            }\n                        });\n                    })];\n            });\n        });\n    };\n    AWSPinpointProvider.prototype._removeUnusedEndpoints = function (appId, userId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (res, rej) {\n                        _this.pinpointClient.getUserEndpoints({\n                            ApplicationId: appId,\n                            UserId: userId\n                        }, function (err, data) {\n                            if (err) {\n                                logger.debug(\"Failed to get endpoints associated with the userId: \" + userId + \" with error\", err);\n                                return rej(err);\n                            }\n                            var endpoints = data.EndpointsResponse.Item;\n                            logger.debug(\"get endpoints associated with the userId: \" + userId + \" with data\", endpoints);\n                            var endpointToBeDeleted = endpoints[0];\n                            for (var i = 1; i < endpoints.length; i++) {\n                                var timeStamp1 = Date.parse(endpointToBeDeleted['EffectiveDate']);\n                                var timeStamp2 = Date.parse(endpoints[i]['EffectiveDate']);\n                                // delete the one with invalid effective date\n                                if (isNaN(timeStamp1))\n                                    break;\n                                if (isNaN(timeStamp2)) {\n                                    endpointToBeDeleted = endpoints[i];\n                                    break;\n                                }\n                                if (timeStamp2 < timeStamp1) {\n                                    endpointToBeDeleted = endpoints[i];\n                                }\n                            }\n                            // update the endpoint's user id with an empty string\n                            var update_params = {\n                                ApplicationId: appId,\n                                EndpointId: endpointToBeDeleted['Id'],\n                                EndpointRequest: {\n                                    User: {\n                                        UserId: ''\n                                    }\n                                }\n                            };\n                            _this.pinpointClient.updateEndpoint(update_params, function (err, data) {\n                                if (err) {\n                                    logger.debug('Failed to update the endpoint', err);\n                                    return rej(err);\n                                }\n                                logger.debug('The old endpoint is updated with an empty string for user id');\n                                return res(data);\n                            });\n                        });\n                    })];\n            });\n        });\n    };\n    /**\n     * @private\n     * @param config\n     * Init the clients\n     */\n    AWSPinpointProvider.prototype._initClients = function (config, credentials) {\n        return __awaiter(this, void 0, void 0, function () {\n            var region;\n            return __generator(this, function (_a) {\n                logger.debug('init clients');\n                if (this.mobileAnalytics\n                    && this.pinpointClient\n                    && this._config.credentials\n                    && this._config.credentials.sessionToken === credentials.sessionToken\n                    && this._config.credentials.identityId === credentials.identityId) {\n                    logger.debug('no change for aws credentials, directly return from init');\n                    return [2 /*return*/];\n                }\n                this._config.credentials = credentials;\n                region = config.region;\n                logger.debug('init clients with credentials', credentials);\n                this.mobileAnalytics = new MobileAnalytics({ credentials: credentials, region: region });\n                this.pinpointClient = new Pinpoint({ region: region, credentials: credentials });\n                if (core_1.Platform.isReactNative) {\n                    this.pinpointClient.customizeRequests(function (request) {\n                        request.on('build', function (req) {\n                            req.httpRequest.headers['user-agent'] = core_1.Platform.userAgent;\n                        });\n                    });\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    AWSPinpointProvider.prototype._getEndpointId = function (cacheKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var endpointId;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, cache_1.default.getItem(cacheKey)];\n                    case 1:\n                        endpointId = _a.sent();\n                        logger.debug('endpointId from cache', endpointId, 'type', typeof endpointId);\n                        if (!endpointId) {\n                            endpointId = uuid_1.v1();\n                            cache_1.default.setItem(cacheKey, endpointId);\n                        }\n                        return [2 /*return*/, endpointId];\n                }\n            });\n        });\n    };\n    /**\n     * EndPoint request\n     * @return {Object} - The request of updating endpoint\n     */\n    AWSPinpointProvider.prototype._endpointRequest = function (config, event) {\n        var credentials = config.credentials;\n        var clientInfo = this._clientInfo || {};\n        var clientContext = config.clientContext || {};\n        // for now we have three different ways for default endpoint configurations\n        // clientInfo\n        // clientContext (deprecated)\n        // config.endpoint\n        var defaultEndpointConfig = config.endpoint || {};\n        var demographicByClientInfo = {\n            appVersion: clientInfo.appVersion,\n            make: clientInfo.make,\n            model: clientInfo.model,\n            modelVersion: clientInfo.version,\n            platform: clientInfo.platform\n        };\n        // for backward compatibility\n        var clientId = clientContext.clientId, appTitle = clientContext.appTitle, appVersionName = clientContext.appVersionName, appVersionCode = clientContext.appVersionCode, appPackageName = clientContext.appPackageName, demographicByClientContext = __rest(clientContext, [\"clientId\", \"appTitle\", \"appVersionName\", \"appVersionCode\", \"appPackageName\"]);\n        var channelType = event.address ? ((clientInfo.platform === 'android') ? 'GCM' : 'APNS') : undefined;\n        var tmp = __assign({ channelType: channelType, requestId: uuid_1.v1(), effectiveDate: new Date().toISOString() }, defaultEndpointConfig, event, { attributes: __assign({}, defaultEndpointConfig.attributes, event.attributes), demographic: __assign({}, demographicByClientInfo, demographicByClientContext, defaultEndpointConfig.demographic, event.demographic), location: __assign({}, defaultEndpointConfig.location, event.location), metrics: __assign({}, defaultEndpointConfig.metrics, event.metrics), user: {\n                userId: event.userId || defaultEndpointConfig.userId || credentials.identityId,\n                userAttributes: __assign({}, defaultEndpointConfig.userAttributes, event.userAttributes)\n            } });\n        // eliminate unnecessary params\n        var userId = tmp.userId, userAttributes = tmp.userAttributes, name = tmp.name, session = tmp.session, eventId = tmp.eventId, immediate = tmp.immediate, ret = __rest(tmp, [\"userId\", \"userAttributes\", \"name\", \"session\", \"eventId\", \"immediate\"]);\n        return core_1.JS.transferKeyToUpperCase(ret, [], ['metrics', 'userAttributes', 'attributes']);\n    };\n    /**\n     * @private\n     * check if current credentials exists\n     */\n    AWSPinpointProvider.prototype._getCredentials = function () {\n        var that = this;\n        return core_1.Credentials.get()\n            .then(function (credentials) {\n            if (!credentials)\n                return null;\n            logger.debug('set credentials for analytics', credentials);\n            return core_1.Credentials.shear(credentials);\n        })\n            .catch(function (err) {\n            logger.debug('ensure credentials error', err);\n            return null;\n        });\n    };\n    AWSPinpointProvider.category = 'Analytics';\n    AWSPinpointProvider.providerName = 'AWSPinpoint';\n    return AWSPinpointProvider;\n}());\nexports.default = AWSPinpointProvider;\n//# sourceMappingURL=AWSPinpointProvider.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Utils_1 = require(\"./Utils\");\nvar core_1 = require(\"@aws-amplify/core\");\nvar logger = new core_1.ConsoleLogger('StorageCache');\n/**\n * Initialization of the cache\n *\n */\nvar StorageCache = /** @class */ (function () {\n    /**\n     * Initialize the cache\n     * @param config - the configuration of the cache\n     */\n    function StorageCache(config) {\n        this.config = Object.assign({}, config);\n        this.cacheCurSizeKey = this.config.keyPrefix + 'CurSize';\n        this.checkConfig();\n    }\n    StorageCache.prototype.getModuleName = function () {\n        return 'Cache';\n    };\n    StorageCache.prototype.checkConfig = function () {\n        // check configuration\n        if (!Utils_1.isInteger(this.config.capacityInBytes)) {\n            logger.error('Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default.');\n            this.config.capacityInBytes = Utils_1.defaultConfig.capacityInBytes;\n        }\n        if (!Utils_1.isInteger(this.config.itemMaxSize)) {\n            logger.error('Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default.');\n            this.config.itemMaxSize = Utils_1.defaultConfig.itemMaxSize;\n        }\n        if (!Utils_1.isInteger(this.config.defaultTTL)) {\n            logger.error('Invalid parameter: defaultTTL. It should be an Integer. Setting back to default.');\n            this.config.defaultTTL = Utils_1.defaultConfig.defaultTTL;\n        }\n        if (!Utils_1.isInteger(this.config.defaultPriority)) {\n            logger.error('Invalid parameter: defaultPriority. It should be an Integer. Setting back to default.');\n            this.config.defaultPriority = Utils_1.defaultConfig.defaultPriority;\n        }\n        if (this.config.itemMaxSize > this.config.capacityInBytes) {\n            logger.error('Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default.');\n            this.config.itemMaxSize = Utils_1.defaultConfig.itemMaxSize;\n        }\n        if (this.config.defaultPriority > 5 || this.config.defaultPriority < 1) {\n            logger.error('Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default.');\n            this.config.defaultPriority = Utils_1.defaultConfig.defaultPriority;\n        }\n        if (Number(this.config.warningThreshold) > 1 || Number(this.config.warningThreshold) < 0) {\n            logger.error('Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default.');\n            this.config.warningThreshold = Utils_1.defaultConfig.warningThreshold;\n        }\n        // set 5MB limit\n        var cacheLimit = 5 * 1024 * 1024;\n        if (this.config.capacityInBytes > cacheLimit) {\n            logger.error('Cache Capacity should be less than 5MB. Setting back to default. Setting back to default.');\n            this.config.capacityInBytes = Utils_1.defaultConfig.capacityInBytes;\n        }\n    };\n    /**\n    * produce a JSON object with meta-data and data value\n    * @param value - the value of the item\n    * @param options - optional, the specified meta-data\n    *\n    * @return - the item which has the meta-data and the value\n    */\n    StorageCache.prototype.fillCacheItem = function (key, value, options) {\n        var ret = {\n            key: key,\n            data: value,\n            timestamp: Utils_1.getCurrTime(),\n            visitedTime: Utils_1.getCurrTime(),\n            priority: options.priority,\n            expires: options.expires,\n            type: typeof value,\n            byteSize: 0\n        };\n        ret.byteSize = Utils_1.getByteLength(JSON.stringify(ret));\n        // for accurate size\n        ret.byteSize = Utils_1.getByteLength(JSON.stringify(ret));\n        return ret;\n    };\n    /**\n     * set cache with customized configuration\n     * @param config - customized configuration\n     *\n     * @return - the current configuration\n     */\n    StorageCache.prototype.configure = function (config) {\n        if (!config) {\n            return this.config;\n        }\n        if (config.keyPrefix) {\n            logger.warn(\"Don't try to configure keyPrefix!\");\n        }\n        this.config = Object.assign({}, this.config, config, config.Cache);\n        this.checkConfig();\n        return this.config;\n    };\n    return StorageCache;\n}());\nexports.default = StorageCache;\n//# sourceMappingURL=StorageCache.js.map","\"use strict\";\n/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar matches_1 = require(\"./matches\");\nvar parents_1 = require(\"./parents\");\n/**\n * Gets the closest parent element that matches the passed selector.\n * @param {Element} element The element whose parents to check.\n * @param {string} selector The CSS selector to match against.\n * @param {boolean=} shouldCheckSelf True if the selector should test against\n *     the passed element itself.\n * @return {Element|undefined} The matching element or undefined.\n */\nfunction closest(element, selector, shouldCheckSelf) {\n    if (shouldCheckSelf === void 0) { shouldCheckSelf = false; }\n    if (!(element && element.nodeType === 1 && selector))\n        return;\n    var parentElements = (shouldCheckSelf ? [element] : []).concat(parents_1.default(element));\n    for (var i = 0, parent_1; parent_1 = parentElements[i]; i++) {\n        if (matches_1.default(parent_1, selector))\n            return parent_1;\n    }\n}\nexports.default = closest;\n//# sourceMappingURL=closest.js.map","\"use strict\";\n/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Returns an array of a DOM element's parent elements.\n * @param {!Element} element The DOM element whose parents to get.\n * @return {!Array} An array of all parent elemets, or an empty array if no\n *     parent elements are found.\n */\nfunction parents(ele) {\n    var list = [];\n    var element = ele;\n    while (element && element.parentNode && element.parentNode.nodeType === 1) {\n        element = /** @type {!Element} */ (element.parentNode);\n        list.push(element);\n    }\n    return list;\n}\nexports.default = parents;\n//# sourceMappingURL=parents.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CognitoHostedUIIdentityProvider;\n(function (CognitoHostedUIIdentityProvider) {\n    CognitoHostedUIIdentityProvider[\"Cognito\"] = \"COGNITO\";\n    CognitoHostedUIIdentityProvider[\"Google\"] = \"Google\";\n    CognitoHostedUIIdentityProvider[\"Facebook\"] = \"Facebook\";\n    CognitoHostedUIIdentityProvider[\"Amazon\"] = \"LoginWithAmazon\";\n})(CognitoHostedUIIdentityProvider = exports.CognitoHostedUIIdentityProvider || (exports.CognitoHostedUIIdentityProvider = {}));\nfunction isFederatedSignInOptions(obj) {\n    var key = 'provider';\n    return obj && obj.hasOwnProperty(key);\n}\nexports.isFederatedSignInOptions = isFederatedSignInOptions;\nfunction isFederatedSignInOptionsCustom(obj) {\n    var key = 'customProvider';\n    return obj && obj.hasOwnProperty(key);\n}\nexports.isFederatedSignInOptionsCustom = isFederatedSignInOptionsCustom;\nfunction isCognitoHostedOpts(oauth) {\n    return oauth.redirectSignIn !== undefined;\n}\nexports.isCognitoHostedOpts = isCognitoHostedOpts;\nfunction isUsernamePasswordOpts(obj) {\n    return !!obj.username;\n}\nexports.isUsernamePasswordOpts = isUsernamePasswordOpts;\n//# sourceMappingURL=Auth.js.map",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Check if typed arrays are supported\n\t    if (typeof ArrayBuffer != 'function') {\n\t        return;\n\t    }\n\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\n\t    // Reference original init\n\t    var superInit = WordArray.init;\n\n\t    // Augment WordArray.init to handle typed arrays\n\t    var subInit = WordArray.init = function (typedArray) {\n\t        // Convert buffers to uint8\n\t        if (typedArray instanceof ArrayBuffer) {\n\t            typedArray = new Uint8Array(typedArray);\n\t        }\n\n\t        // Convert other array views to uint8\n\t        if (\n\t            typedArray instanceof Int8Array ||\n\t            (typeof Uint8ClampedArray !== \"undefined\" && typedArray instanceof Uint8ClampedArray) ||\n\t            typedArray instanceof Int16Array ||\n\t            typedArray instanceof Uint16Array ||\n\t            typedArray instanceof Int32Array ||\n\t            typedArray instanceof Uint32Array ||\n\t            typedArray instanceof Float32Array ||\n\t            typedArray instanceof Float64Array\n\t        ) {\n\t            typedArray = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n\t        }\n\n\t        // Handle Uint8Array\n\t        if (typedArray instanceof Uint8Array) {\n\t            // Shortcut\n\t            var typedArrayByteLength = typedArray.byteLength;\n\n\t            // Extract bytes\n\t            var words = [];\n\t            for (var i = 0; i < typedArrayByteLength; i++) {\n\t                words[i >>> 2] |= typedArray[i] << (24 - (i % 4) * 8);\n\t            }\n\n\t            // Initialize this word array\n\t            superInit.call(this, words, typedArrayByteLength);\n\t        } else {\n\t            // Else call normal init\n\t            superInit.apply(this, arguments);\n\t        }\n\t    };\n\n\t    subInit.prototype = WordArray;\n\t}());\n\n\n\treturn CryptoJS.lib.WordArray;\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha256\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha256\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));","exports.__esModule = true;\nvar ATTRIBUTE_NAMES = exports.ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = exports.TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = exports.VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = exports.TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\"\n};\n\nvar REACT_TAG_MAP = exports.REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = exports.HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = exports.HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = exports.SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = exports.HELMET_ATTRIBUTE = \"data-react-helmet\";","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar AuthenticationDetails = function () {\n  /**\n   * Constructs a new AuthenticationDetails object\n   * @param {object=} data Creation options.\n   * @param {string} data.Username User being authenticated.\n   * @param {string} data.Password Plain-text password to authenticate with.\n   * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n   * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n   */\n  function AuthenticationDetails(data) {\n    _classCallCheck(this, AuthenticationDetails);\n\n    var _ref = data || {},\n        ValidationData = _ref.ValidationData,\n        Username = _ref.Username,\n        Password = _ref.Password,\n        AuthParameters = _ref.AuthParameters;\n\n    this.validationData = ValidationData || {};\n    this.authParameters = AuthParameters || {};\n    this.username = Username;\n    this.password = Password;\n  }\n\n  /**\n   * @returns {string} the record's username\n   */\n\n\n  AuthenticationDetails.prototype.getUsername = function getUsername() {\n    return this.username;\n  };\n\n  /**\n   * @returns {string} the record's password\n   */\n\n\n  AuthenticationDetails.prototype.getPassword = function getPassword() {\n    return this.password;\n  };\n\n  /**\n   * @returns {Array} the record's validationData\n   */\n\n\n  AuthenticationDetails.prototype.getValidationData = function getValidationData() {\n    return this.validationData;\n  };\n\n  /**\n   * @returns {Array} the record's authParameters\n   */\n\n\n  AuthenticationDetails.prototype.getAuthParameters = function getAuthParameters() {\n    return this.authParameters;\n  };\n\n  return AuthenticationDetails;\n}();\n\nexport default AuthenticationDetails;","// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\n\nexport default BigInteger;\n\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */\n\n// (public) Constructor\nfunction BigInteger(a, b) {\n  if (a != null) this.fromString(a, b);\n}\n\n// return new, unset BigInteger\nfunction nbi() {\n  return new BigInteger(null);\n}\n\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe;\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i, x, w, j, c, n) {\n  while (--n >= 0) {\n    var v = x * this[i++] + w[j] + c;\n    c = Math.floor(v / 0x4000000);\n    w[j++] = v & 0x3ffffff;\n  }\n  return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n  var xl = x & 0x7fff,\n      xh = x >> 15;\n  while (--n >= 0) {\n    var l = this[i] & 0x7fff;\n    var h = this[i++] >> 15;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n    w[j++] = l & 0x3fffffff;\n  }\n  return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n  var xl = x & 0x3fff,\n      xh = x >> 14;\n  while (--n >= 0) {\n    var l = this[i] & 0x3fff;\n    var h = this[i++] >> 14;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n    c = (l >> 28) + (m >> 14) + xh * h;\n    w[j++] = l & 0xfffffff;\n  }\n  return c;\n}\nvar inBrowser = typeof navigator !== \"undefined\";\nif (inBrowser && j_lm && navigator.appName == \"Microsoft Internet Explorer\") {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != \"Netscape\") {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n} else {\n  // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr, vv;\nrr = \"0\".charCodeAt(0);\nfor (vv = 0; vv <= 9; ++vv) {\n  BI_RC[rr++] = vv;\n}rr = \"a\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}rr = \"A\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}function int2char(n) {\n  return BI_RM.charAt(n);\n}\nfunction intAt(s, i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return c == null ? -1 : c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n  for (var i = this.t - 1; i >= 0; --i) {\n    r[i] = this[i];\n  }r.t = this.t;\n  r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = x < 0 ? -1 : 0;\n  if (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) {\n  var r = nbi();\n\n  r.fromInt(i);\n\n  return r;\n}\n\n// (protected) set from string and radix\nfunction bnpFromString(s, b) {\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error(\"Only radix 2, 4, 8, 16, 32 are supported\");\n  this.t = 0;\n  this.s = 0;\n  var i = s.length,\n      mi = false,\n      sh = 0;\n  while (--i >= 0) {\n    var x = intAt(s, i);\n    if (x < 0) {\n      if (s.charAt(i) == \"-\") mi = true;\n      continue;\n    }\n    mi = false;\n    if (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n      this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n      this[this.t++] = x >> this.DB - sh;\n    } else this[this.t - 1] |= x << sh;\n    sh += k;\n    if (sh >= this.DB) sh -= this.DB;\n  }\n  this.clamp();\n  if (mi) BigInteger.ZERO.subTo(this, this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n  var c = this.s & this.DM;\n  while (this.t > 0 && this[this.t - 1] == c) {\n    --this.t;\n  }\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n  if (this.s < 0) return \"-\" + this.negate().toString();\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error(\"Only radix 2, 4, 8, 16, 32 are supported\");\n  var km = (1 << k) - 1,\n      d,\n      m = false,\n      r = \"\",\n      i = this.t;\n  var p = this.DB - i * this.DB % k;\n  if (i-- > 0) {\n    if (p < this.DB && (d = this[i] >> p) > 0) {\n      m = true;\n      r = int2char(d);\n    }\n    while (i >= 0) {\n      if (p < k) {\n        d = (this[i] & (1 << p) - 1) << k - p;\n        d |= this[--i] >> (p += this.DB - k);\n      } else {\n        d = this[i] >> (p -= k) & km;\n        if (p <= 0) {\n          p += this.DB;\n          --i;\n        }\n      }\n      if (d > 0) m = true;\n      if (m) r += int2char(d);\n    }\n  }\n  return m ? r : \"0\";\n}\n\n// (public) -this\nfunction bnNegate() {\n  var r = nbi();\n\n  BigInteger.ZERO.subTo(this, r);\n\n  return r;\n}\n\n// (public) |this|\nfunction bnAbs() {\n  return this.s < 0 ? this.negate() : this;\n}\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n  var r = this.s - a.s;\n  if (r != 0) return r;\n  var i = this.t;\n  r = i - a.t;\n  if (r != 0) return this.s < 0 ? -r : r;\n  while (--i >= 0) {\n    if ((r = this[i] - a[i]) != 0) return r;\n  }return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n  var r = 1,\n      t;\n  if ((t = x >>> 16) != 0) {\n    x = t;\n    r += 16;\n  }\n  if ((t = x >> 8) != 0) {\n    x = t;\n    r += 8;\n  }\n  if ((t = x >> 4) != 0) {\n    x = t;\n    r += 4;\n  }\n  if ((t = x >> 2) != 0) {\n    x = t;\n    r += 2;\n  }\n  if ((t = x >> 1) != 0) {\n    x = t;\n    r += 1;\n  }\n  return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n  if (this.t <= 0) return 0;\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n, r) {\n  var i;\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + n] = this[i];\n  }for (i = n - 1; i >= 0; --i) {\n    r[i] = 0;\n  }r.t = this.t + n;\n  r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n, r) {\n  for (var i = n; i < this.t; ++i) {\n    r[i - n] = this[i];\n  }r.t = Math.max(this.t - n, 0);\n  r.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n, r) {\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << cbs) - 1;\n  var ds = Math.floor(n / this.DB),\n      c = this.s << bs & this.DM,\n      i;\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + ds + 1] = this[i] >> cbs | c;\n    c = (this[i] & bm) << bs;\n  }\n  for (i = ds - 1; i >= 0; --i) {\n    r[i] = 0;\n  }r[ds] = c;\n  r.t = this.t + ds + 1;\n  r.s = this.s;\n  r.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n, r) {\n  r.s = this.s;\n  var ds = Math.floor(n / this.DB);\n  if (ds >= this.t) {\n    r.t = 0;\n    return;\n  }\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << bs) - 1;\n  r[0] = this[ds] >> bs;\n  for (var i = ds + 1; i < this.t; ++i) {\n    r[i - ds - 1] |= (this[i] & bm) << cbs;\n    r[i - ds] = this[i] >> bs;\n  }\n  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n  r.t = this.t - ds;\n  r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n  while (i < m) {\n    c += this[i] - a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n  if (a.t < this.t) {\n    c -= a.s;\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  } else {\n    c += this.s;\n    while (i < a.t) {\n      c -= a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c -= a.s;\n  }\n  r.s = c < 0 ? -1 : 0;\n  if (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a, r) {\n  var x = this.abs(),\n      y = a.abs();\n  var i = x.t;\n  r.t = i + y.t;\n  while (--i >= 0) {\n    r[i] = 0;\n  }for (i = 0; i < y.t; ++i) {\n    r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n  }r.s = 0;\n  r.clamp();\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2 * x.t;\n  while (--i >= 0) {\n    r[i] = 0;\n  }for (i = 0; i < x.t - 1; ++i) {\n    var c = x.am(i, x[i], r, 2 * i, 0, 1);\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n      r[i + x.t] -= x.DV;\n      r[i + x.t + 1] = 1;\n    }\n  }\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n  r.s = 0;\n  r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m, q, r) {\n  var pm = m.abs();\n  if (pm.t <= 0) return;\n  var pt = this.abs();\n  if (pt.t < pm.t) {\n    if (q != null) q.fromInt(0);\n    if (r != null) this.copyTo(r);\n    return;\n  }\n  if (r == null) r = nbi();\n  var y = nbi(),\n      ts = this.s,\n      ms = m.s;\n  var nsh = this.DB - nbits(pm[pm.t - 1]);\n  // normalize modulus\n  if (nsh > 0) {\n    pm.lShiftTo(nsh, y);\n    pt.lShiftTo(nsh, r);\n  } else {\n    pm.copyTo(y);\n    pt.copyTo(r);\n  }\n  var ys = y.t;\n  var y0 = y[ys - 1];\n  if (y0 == 0) return;\n  var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n  var d1 = this.FV / yt,\n      d2 = (1 << this.F1) / yt,\n      e = 1 << this.F2;\n  var i = r.t,\n      j = i - ys,\n      t = q == null ? nbi() : q;\n  y.dlShiftTo(j, t);\n  if (r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t, r);\n  }\n  BigInteger.ONE.dlShiftTo(ys, t);\n  t.subTo(y, y);\n  // \"negative\" y so we can replace sub with am later\n  while (y.t < ys) {\n    y[y.t++] = 0;\n  }while (--j >= 0) {\n    // Estimate quotient digit\n    var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n      // Try it out\n      y.dlShiftTo(j, t);\n      r.subTo(t, r);\n      while (r[i] < --qd) {\n        r.subTo(t, r);\n      }\n    }\n  }\n  if (q != null) {\n    r.drShiftTo(ys, q);\n    if (ts != ms) BigInteger.ZERO.subTo(q, q);\n  }\n  r.t = ys;\n  r.clamp();\n  if (nsh > 0) r.rShiftTo(nsh, r);\n  // Denormalize remainder\n  if (ts < 0) BigInteger.ZERO.subTo(r, r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a, null, r);\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n  return r;\n}\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n  if (this.t < 1) return 0;\n  var x = this[0];\n  if ((x & 1) == 0) return 0;\n  var y = x & 3;\n  // y == 1/x mod 2^2\n  y = y * (2 - (x & 0xf) * y) & 0xf;\n  // y == 1/x mod 2^4\n  y = y * (2 - (x & 0xff) * y) & 0xff;\n  // y == 1/x mod 2^8\n  y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff;\n  // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n  y = y * (2 - x * y % this.DV) % this.DV;\n  // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n  return y > 0 ? this.DV - y : -y;\n}\n\nfunction bnEquals(a) {\n  return this.compareTo(a) == 0;\n}\n\n// (protected) r = this + a\nfunction bnpAddTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n  while (i < m) {\n    c += this[i] + a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n  if (a.t < this.t) {\n    c += a.s;\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  } else {\n    c += this.s;\n    while (i < a.t) {\n      c += a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += a.s;\n  }\n  r.s = c < 0 ? -1 : 0;\n  if (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n  r.t = i;\n  r.clamp();\n}\n\n// (public) this + a\nfunction bnAdd(a) {\n  var r = nbi();\n\n  this.addTo(a, r);\n\n  return r;\n}\n\n// (public) this - a\nfunction bnSubtract(a) {\n  var r = nbi();\n\n  this.subTo(a, r);\n\n  return r;\n}\n\n// (public) this * a\nfunction bnMultiply(a) {\n  var r = nbi();\n\n  this.multiplyTo(a, r);\n\n  return r;\n}\n\n// (public) this / a\nfunction bnDivide(a) {\n  var r = nbi();\n\n  this.divRemTo(a, r, null);\n\n  return r;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp & 0x7fff;\n  this.mph = this.mp >> 15;\n  this.um = (1 << m.DB - 15) - 1;\n  this.mt2 = 2 * m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t, r);\n  r.divRemTo(this.m, null, r);\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n  return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n  while (x.t <= this.mt2) {\n    // pad x so am has enough room later\n    x[x.t++] = 0;\n  }for (var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i] & 0x7fff;\n    var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;\n    // use am to combine the multiply-shift-add into one call\n    j = i + this.m.t;\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n    // propagate carry\n    while (x[j] >= x.DV) {\n      x[j] -= x.DV;\n      x[++j]++;\n    }\n  }\n  x.clamp();\n  x.drShiftTo(this.m.t, x);\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x, r) {\n  x.squareTo(r);\n\n  this.reduce(r);\n}\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x, y, r) {\n  x.multiplyTo(y, r);\n\n  this.reduce(r);\n}\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e, m, callback) {\n  var i = e.bitLength(),\n      k,\n      r = nbv(1),\n      z = new Montgomery(m);\n  if (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6;\n\n  // precomputation\n  var g = new Array(),\n      n = 3,\n      k1 = k - 1,\n      km = (1 << k) - 1;\n  g[1] = z.convert(this);\n  if (k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1], g2);\n    while (n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2, g[n - 2], g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t - 1,\n      w,\n      is1 = true,\n      r2 = nbi(),\n      t;\n  i = nbits(e[j]) - 1;\n  while (j >= 0) {\n    if (i >= k1) w = e[j] >> i - k1 & km;else {\n      w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n      if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n    }\n\n    n = k;\n    while ((w & 1) == 0) {\n      w >>= 1;\n      --n;\n    }\n    if ((i -= n) < 0) {\n      i += this.DB;\n      --j;\n    }\n    if (is1) {\n      // ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    } else {\n      while (n > 1) {\n        z.sqrTo(r, r2);\n        z.sqrTo(r2, r);\n        n -= 2;\n      }\n      if (n > 0) z.sqrTo(r, r2);else {\n        t = r;\n        r = r2;\n        r2 = t;\n      }\n      z.mulTo(r2, g[w], r);\n    }\n\n    while (j >= 0 && (e[j] & 1 << i) == 0) {\n      z.sqrTo(r, r2);\n      t = r;\n      r = r2;\n      r2 = t;\n      if (--i < 0) {\n        i = this.DB - 1;\n        --j;\n      }\n    }\n  }\n  var result = z.revert(r);\n  callback(null, result);\n  return result;\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\nimport CryptoJS from 'crypto-js/core';\nimport 'crypto-js/lib-typedarrays'; // necessary for crypto js\nimport SHA256 from 'crypto-js/sha256';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\n\nvar randomBytes = function randomBytes(nBytes) {\n  return Buffer.from(CryptoJS.lib.WordArray.random(nBytes).toString(), 'hex');\n};\n\nimport BigInteger from './BigInteger';\n\nvar initN = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1' + '29024E088A67CC74020BBEA63B139B22514A08798E3404DD' + 'EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245' + 'E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED' + 'EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D' + 'C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F' + '83655D23DCA3AD961C62F356208552BB9ED529077096966D' + '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B' + 'E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9' + 'DE2BCBF6955817183995497CEA956AE515D2261898FA0510' + '15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64' + 'ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7' + 'ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B' + 'F12FFA06D98A0864D87602733EC86A64521F2B18177B200C' + 'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31' + '43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF';\n\nvar newPasswordRequiredChallengeUserAttributePrefix = 'userAttributes.';\n\n/** @class */\n\nvar AuthenticationHelper = function () {\n  /**\n   * Constructs a new AuthenticationHelper object\n   * @param {string} PoolName Cognito user pool name.\n   */\n  function AuthenticationHelper(PoolName) {\n    _classCallCheck(this, AuthenticationHelper);\n\n    this.N = new BigInteger(initN, 16);\n    this.g = new BigInteger('2', 16);\n    this.k = new BigInteger(this.hexHash('00' + this.N.toString(16) + '0' + this.g.toString(16)), 16);\n\n    this.smallAValue = this.generateRandomSmallA();\n    this.getLargeAValue(function () {});\n\n    this.infoBits = Buffer.from('Caldera Derived Key', 'utf8');\n\n    this.poolName = PoolName;\n  }\n\n  /**\n   * @returns {BigInteger} small A, a random number\n   */\n\n\n  AuthenticationHelper.prototype.getSmallAValue = function getSmallAValue() {\n    return this.smallAValue;\n  };\n\n  /**\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   */\n\n\n  AuthenticationHelper.prototype.getLargeAValue = function getLargeAValue(callback) {\n    var _this = this;\n\n    if (this.largeAValue) {\n      callback(null, this.largeAValue);\n    } else {\n      this.calculateA(this.smallAValue, function (err, largeAValue) {\n        if (err) {\n          callback(err, null);\n        }\n\n        _this.largeAValue = largeAValue;\n        callback(null, _this.largeAValue);\n      });\n    }\n  };\n\n  /**\n   * helper function to generate a random big integer\n   * @returns {BigInteger} a random value.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.generateRandomSmallA = function generateRandomSmallA() {\n    var hexRandom = randomBytes(128).toString('hex');\n\n    var randomBigInt = new BigInteger(hexRandom, 16);\n    var smallABigInt = randomBigInt.mod(this.N);\n\n    return smallABigInt;\n  };\n\n  /**\n   * helper function to generate a random string\n   * @returns {string} a random value.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.generateRandomString = function generateRandomString() {\n    return randomBytes(40).toString('base64');\n  };\n\n  /**\n   * @returns {string} Generated random value included in password hash.\n   */\n\n\n  AuthenticationHelper.prototype.getRandomPassword = function getRandomPassword() {\n    return this.randomPassword;\n  };\n\n  /**\n   * @returns {string} Generated random value included in devices hash.\n   */\n\n\n  AuthenticationHelper.prototype.getSaltDevices = function getSaltDevices() {\n    return this.SaltToHashDevices;\n  };\n\n  /**\n   * @returns {string} Value used to verify devices.\n   */\n\n\n  AuthenticationHelper.prototype.getVerifierDevices = function getVerifierDevices() {\n    return this.verifierDevices;\n  };\n\n  /**\n   * Generate salts and compute verifier.\n   * @param {string} deviceGroupKey Devices to generate verifier for.\n   * @param {string} username User to generate verifier for.\n   * @param {nodeCallback<null>} callback Called with (err, null)\n   * @returns {void}\n   */\n\n\n  AuthenticationHelper.prototype.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n    var _this2 = this;\n\n    this.randomPassword = this.generateRandomString();\n    var combinedString = '' + deviceGroupKey + username + ':' + this.randomPassword;\n    var hashedString = this.hash(combinedString);\n\n    var hexRandom = randomBytes(16).toString('hex');\n    this.SaltToHashDevices = this.padHex(new BigInteger(hexRandom, 16));\n\n    this.g.modPow(new BigInteger(this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function (err, verifierDevicesNotPadded) {\n      if (err) {\n        callback(err, null);\n      }\n\n      _this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n      callback(null, null);\n    });\n  };\n\n  /**\n   * Calculate the client's public value A = g^a%N\n   * with the generated random number a\n   * @param {BigInteger} a Randomly generated small A.\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.calculateA = function calculateA(a, callback) {\n    var _this3 = this;\n\n    this.g.modPow(a, this.N, function (err, A) {\n      if (err) {\n        callback(err, null);\n      }\n\n      if (A.mod(_this3.N).equals(BigInteger.ZERO)) {\n        callback(new Error('Illegal paramater. A mod N cannot be 0.'), null);\n      }\n\n      callback(null, A);\n    });\n  };\n\n  /**\n   * Calculate the client's value U which is the hash of A and B\n   * @param {BigInteger} A Large A value.\n   * @param {BigInteger} B Server B value.\n   * @returns {BigInteger} Computed U value.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.calculateU = function calculateU(A, B) {\n    this.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n    var finalU = new BigInteger(this.UHexHash, 16);\n\n    return finalU;\n  };\n\n  /**\n   * Calculate a hash from a bitArray\n   * @param {Buffer} buf Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.hash = function hash(buf) {\n    var str = buf instanceof Buffer ? CryptoJS.lib.WordArray.create(buf) : buf;\n    var hashHex = SHA256(str).toString();\n\n    return new Array(64 - hashHex.length).join('0') + hashHex;\n  };\n\n  /**\n   * Calculate a hash from a hex string\n   * @param {String} hexStr Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.hexHash = function hexHash(hexStr) {\n    return this.hash(Buffer.from(hexStr, 'hex'));\n  };\n\n  /**\n   * Standard hkdf algorithm\n   * @param {Buffer} ikm Input key material.\n   * @param {Buffer} salt Salt value.\n   * @returns {Buffer} Strong key material.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.computehkdf = function computehkdf(ikm, salt) {\n    var infoBitsWordArray = CryptoJS.lib.WordArray.create(Buffer.concat([this.infoBits, Buffer.from(String.fromCharCode(1), 'utf8')]));\n    var ikmWordArray = ikm instanceof Buffer ? CryptoJS.lib.WordArray.create(ikm) : ikm;\n    var saltWordArray = salt instanceof Buffer ? CryptoJS.lib.WordArray.create(salt) : salt;\n\n    var prk = HmacSHA256(ikmWordArray, saltWordArray);\n    var hmac = HmacSHA256(infoBitsWordArray, prk);\n    return Buffer.from(hmac.toString(), 'hex').slice(0, 16);\n  };\n\n  /**\n   * Calculates the final hkdf based on computed S value, and computed U value and the key\n   * @param {String} username Username.\n   * @param {String} password Password.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {BigInteger} salt Generated salt.\n   * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n   * @returns {void}\n   */\n\n\n  AuthenticationHelper.prototype.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n    var _this4 = this;\n\n    if (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {\n      throw new Error('B cannot be zero.');\n    }\n\n    this.UValue = this.calculateU(this.largeAValue, serverBValue);\n\n    if (this.UValue.equals(BigInteger.ZERO)) {\n      throw new Error('U cannot be zero.');\n    }\n\n    var usernamePassword = '' + this.poolName + username + ':' + password;\n    var usernamePasswordHash = this.hash(usernamePassword);\n\n    var xValue = new BigInteger(this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n    this.calculateS(xValue, serverBValue, function (err, sValue) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var hkdf = _this4.computehkdf(Buffer.from(_this4.padHex(sValue), 'hex'), Buffer.from(_this4.padHex(_this4.UValue.toString(16)), 'hex'));\n\n      callback(null, hkdf);\n    });\n  };\n\n  /**\n   * Calculates the S value used in getPasswordAuthenticationKey\n   * @param {BigInteger} xValue Salted password hash value.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  AuthenticationHelper.prototype.calculateS = function calculateS(xValue, serverBValue, callback) {\n    var _this5 = this;\n\n    this.g.modPow(xValue, this.N, function (err, gModPowXN) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n      intValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function (err2, result) {\n        if (err2) {\n          callback(err2, null);\n        }\n\n        callback(null, result.mod(_this5.N));\n      });\n    });\n  };\n\n  /**\n  * Return constant newPasswordRequiredChallengeUserAttributePrefix\n  * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n  */\n\n\n  AuthenticationHelper.prototype.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n    return newPasswordRequiredChallengeUserAttributePrefix;\n  };\n\n  /**\n   * Converts a BigInteger (or hex string) to hex format padded with zeroes for hashing\n   * @param {BigInteger|String} bigInt Number or string to pad.\n   * @returns {String} Padded hex string.\n   */\n\n\n  AuthenticationHelper.prototype.padHex = function padHex(bigInt) {\n    var hashStr = bigInt.toString(16);\n    if (hashStr.length % 2 === 1) {\n      hashStr = '0' + hashStr;\n    } else if ('89ABCDEFabcdef'.indexOf(hashStr[0]) !== -1) {\n      hashStr = '00' + hashStr;\n    }\n    return hashStr;\n  };\n\n  return AuthenticationHelper;\n}();\n\nexport default AuthenticationHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\n\n/** @class */\n\nvar CognitoJwtToken = function () {\n  /**\n   * Constructs a new CognitoJwtToken object\n   * @param {string=} token The JWT token.\n   */\n  function CognitoJwtToken(token) {\n    _classCallCheck(this, CognitoJwtToken);\n\n    // Assign object\n    this.jwtToken = token || '';\n    this.payload = this.decodePayload();\n  }\n\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  CognitoJwtToken.prototype.getJwtToken = function getJwtToken() {\n    return this.jwtToken;\n  };\n\n  /**\n   * @returns {int} the token's expiration (exp member).\n   */\n\n\n  CognitoJwtToken.prototype.getExpiration = function getExpiration() {\n    return this.payload.exp;\n  };\n\n  /**\n   * @returns {int} the token's \"issued at\" (iat member).\n   */\n\n\n  CognitoJwtToken.prototype.getIssuedAt = function getIssuedAt() {\n    return this.payload.iat;\n  };\n\n  /**\n   * @returns {object} the token's payload.\n   */\n\n\n  CognitoJwtToken.prototype.decodePayload = function decodePayload() {\n    var payload = this.jwtToken.split('.')[1];\n    try {\n      return JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n    } catch (err) {\n      return {};\n    }\n  };\n\n  return CognitoJwtToken;\n}();\n\nexport default CognitoJwtToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport CognitoJwtToken from './CognitoJwtToken';\n\n/** @class */\n\nvar CognitoAccessToken = function (_CognitoJwtToken) {\n  _inherits(CognitoAccessToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */\n  function CognitoAccessToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        AccessToken = _ref.AccessToken;\n\n    _classCallCheck(this, CognitoAccessToken);\n\n    return _possibleConstructorReturn(this, _CognitoJwtToken.call(this, AccessToken || ''));\n  }\n\n  return CognitoAccessToken;\n}(CognitoJwtToken);\n\nexport default CognitoAccessToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport CognitoJwtToken from './CognitoJwtToken';\n\n/** @class */\n\nvar CognitoIdToken = function (_CognitoJwtToken) {\n  _inherits(CognitoIdToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */\n  function CognitoIdToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        IdToken = _ref.IdToken;\n\n    _classCallCheck(this, CognitoIdToken);\n\n    return _possibleConstructorReturn(this, _CognitoJwtToken.call(this, IdToken || ''));\n  }\n\n  return CognitoIdToken;\n}(CognitoJwtToken);\n\nexport default CognitoIdToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoRefreshToken = function () {\n  /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */\n  function CognitoRefreshToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        RefreshToken = _ref.RefreshToken;\n\n    _classCallCheck(this, CognitoRefreshToken);\n\n    // Assign object\n    this.token = RefreshToken || '';\n  }\n\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  CognitoRefreshToken.prototype.getToken = function getToken() {\n    return this.token;\n  };\n\n  return CognitoRefreshToken;\n}();\n\nexport default CognitoRefreshToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserSession = function () {\n  /**\n   * Constructs a new CognitoUserSession object\n   * @param {CognitoIdToken} IdToken The session's Id token.\n   * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n   * @param {CognitoAccessToken} AccessToken The session's access token.\n   * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n   */\n  function CognitoUserSession() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        IdToken = _ref.IdToken,\n        RefreshToken = _ref.RefreshToken,\n        AccessToken = _ref.AccessToken,\n        ClockDrift = _ref.ClockDrift;\n\n    _classCallCheck(this, CognitoUserSession);\n\n    if (AccessToken == null || IdToken == null) {\n      throw new Error('Id token and Access Token must be present.');\n    }\n\n    this.idToken = IdToken;\n    this.refreshToken = RefreshToken;\n    this.accessToken = AccessToken;\n    this.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n  }\n\n  /**\n   * @returns {CognitoIdToken} the session's Id token\n   */\n\n\n  CognitoUserSession.prototype.getIdToken = function getIdToken() {\n    return this.idToken;\n  };\n\n  /**\n   * @returns {CognitoRefreshToken} the session's refresh token\n   */\n\n\n  CognitoUserSession.prototype.getRefreshToken = function getRefreshToken() {\n    return this.refreshToken;\n  };\n\n  /**\n   * @returns {CognitoAccessToken} the session's access token\n   */\n\n\n  CognitoUserSession.prototype.getAccessToken = function getAccessToken() {\n    return this.accessToken;\n  };\n\n  /**\n   * @returns {int} the session's clock drift\n   */\n\n\n  CognitoUserSession.prototype.getClockDrift = function getClockDrift() {\n    return this.clockDrift;\n  };\n\n  /**\n   * @returns {int} the computer's clock drift\n   */\n\n\n  CognitoUserSession.prototype.calculateClockDrift = function calculateClockDrift() {\n    var now = Math.floor(new Date() / 1000);\n    var iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n\n    return now - iat;\n  };\n\n  /**\n   * Checks to see if the session is still valid based on session expiry information found\n   * in tokens and the current time (adjusted with clock drift)\n   * @returns {boolean} if the session is still valid\n   */\n\n\n  CognitoUserSession.prototype.isValid = function isValid() {\n    var now = Math.floor(new Date() / 1000);\n    var adjusted = now - this.clockDrift;\n\n    return adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n  };\n\n  return CognitoUserSession;\n}();\n\nexport default CognitoUserSession;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n/** @class */\n\nvar DateHelper = function () {\n  function DateHelper() {\n    _classCallCheck(this, DateHelper);\n  }\n\n  /**\n   * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n   */\n  DateHelper.prototype.getNowString = function getNowString() {\n    var now = new Date();\n\n    var weekDay = weekNames[now.getUTCDay()];\n    var month = monthNames[now.getUTCMonth()];\n    var day = now.getUTCDate();\n\n    var hours = now.getUTCHours();\n    if (hours < 10) {\n      hours = '0' + hours;\n    }\n\n    var minutes = now.getUTCMinutes();\n    if (minutes < 10) {\n      minutes = '0' + minutes;\n    }\n\n    var seconds = now.getUTCSeconds();\n    if (seconds < 10) {\n      seconds = '0' + seconds;\n    }\n\n    var year = now.getUTCFullYear();\n\n    // ddd MMM D HH:mm:ss UTC YYYY\n    var dateNow = weekDay + ' ' + month + ' ' + day + ' ' + hours + ':' + minutes + ':' + seconds + ' UTC ' + year;\n\n    return dateNow;\n  };\n\n  return DateHelper;\n}();\n\nexport default DateHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserAttribute = function () {\n  /**\n   * Constructs a new CognitoUserAttribute object\n   * @param {string=} Name The record's name\n   * @param {string=} Value The record's value\n   */\n  function CognitoUserAttribute() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        Name = _ref.Name,\n        Value = _ref.Value;\n\n    _classCallCheck(this, CognitoUserAttribute);\n\n    this.Name = Name || '';\n    this.Value = Value || '';\n  }\n\n  /**\n   * @returns {string} the record's value.\n   */\n\n\n  CognitoUserAttribute.prototype.getValue = function getValue() {\n    return this.Value;\n  };\n\n  /**\n   * Sets the record's value.\n   * @param {string} value The new value.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n\n\n  CognitoUserAttribute.prototype.setValue = function setValue(value) {\n    this.Value = value;\n    return this;\n  };\n\n  /**\n   * @returns {string} the record's name.\n   */\n\n\n  CognitoUserAttribute.prototype.getName = function getName() {\n    return this.Name;\n  };\n\n  /**\n   * Sets the record's name\n   * @param {string} name The new name.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n\n\n  CognitoUserAttribute.prototype.setName = function setName(name) {\n    this.Name = name;\n    return this;\n  };\n\n  /**\n   * @returns {string} a string representation of the record.\n   */\n\n\n  CognitoUserAttribute.prototype.toString = function toString() {\n    return JSON.stringify(this);\n  };\n\n  /**\n   * @returns {object} a flat object representing the record.\n   */\n\n\n  CognitoUserAttribute.prototype.toJSON = function toJSON() {\n    return {\n      Name: this.Name,\n      Value: this.Value\n    };\n  };\n\n  return CognitoUserAttribute;\n}();\n\nexport default CognitoUserAttribute;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar dataMemory = {};\n\n/** @class */\n\nvar MemoryStorage = function () {\n  function MemoryStorage() {\n    _classCallCheck(this, MemoryStorage);\n  }\n\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  MemoryStorage.setItem = function setItem(key, value) {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  };\n\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n\n\n  MemoryStorage.getItem = function getItem(key) {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  };\n\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n\n\n  MemoryStorage.removeItem = function removeItem(key) {\n    return delete dataMemory[key];\n  };\n\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n\n\n  MemoryStorage.clear = function clear() {\n    dataMemory = {};\n    return dataMemory;\n  };\n\n  return MemoryStorage;\n}();\n\n/** @class */\n\n\nvar StorageHelper = function () {\n\n  /**\n   * This is used to get a storage object\n   * @returns {object} the storage\n   */\n  function StorageHelper() {\n    _classCallCheck(this, StorageHelper);\n\n    try {\n      this.storageWindow = window.localStorage;\n      this.storageWindow.setItem('aws.cognito.test-ls', 1);\n      this.storageWindow.removeItem('aws.cognito.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n\n  /**\n   * This is used to return the storage\n   * @returns {object} the storage\n   */\n\n\n  StorageHelper.prototype.getStorage = function getStorage() {\n    return this.storageWindow;\n  };\n\n  return StorageHelper;\n}();\n\nexport default StorageHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\nimport CryptoJS from 'crypto-js/core';\nimport TypedArrays from 'crypto-js/lib-typedarrays'; // necessary for crypto js\nimport Base64 from 'crypto-js/enc-base64';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\n\nimport BigInteger from './BigInteger';\nimport AuthenticationHelper from './AuthenticationHelper';\nimport CognitoAccessToken from './CognitoAccessToken';\nimport CognitoIdToken from './CognitoIdToken';\nimport CognitoRefreshToken from './CognitoRefreshToken';\nimport CognitoUserSession from './CognitoUserSession';\nimport DateHelper from './DateHelper';\nimport CognitoUserAttribute from './CognitoUserAttribute';\nimport StorageHelper from './StorageHelper';\n\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */\n\n/**\n * @callback onFailure\n * @param {*} err Failure reason.\n */\n\n/**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */\n\n/**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */\n\n/**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */\n\n/**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */\n\n/**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */\n\n/** @class */\n\nvar CognitoUser = function () {\n  /**\n   * Constructs a new CognitoUser object\n   * @param {object} data Creation options\n   * @param {string} data.Username The user's username.\n   * @param {CognitoUserPool} data.Pool Pool containing the user.\n   * @param {object} data.Storage Optional storage object.\n   */\n  function CognitoUser(data) {\n    _classCallCheck(this, CognitoUser);\n\n    if (data == null || data.Username == null || data.Pool == null) {\n      throw new Error('Username and pool information are required.');\n    }\n\n    this.username = data.Username || '';\n    this.pool = data.Pool;\n    this.Session = null;\n\n    this.client = data.Pool.client;\n\n    this.signInUserSession = null;\n    this.authenticationFlowType = 'USER_SRP_AUTH';\n\n    this.storage = data.Storage || new StorageHelper().getStorage();\n\n    this.keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n    this.userDataKey = this.keyPrefix + '.' + this.username + '.userData';\n  }\n\n  /**\n   * Sets the session for this user\n   * @param {CognitoUserSession} signInUserSession the session\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n    this.clearCachedUserData();\n    this.signInUserSession = signInUserSession;\n    this.cacheTokens();\n  };\n\n  /**\n   * @returns {CognitoUserSession} the current session for this user\n   */\n\n\n  CognitoUser.prototype.getSignInUserSession = function getSignInUserSession() {\n    return this.signInUserSession;\n  };\n\n  /**\n   * @returns {string} the user's username\n   */\n\n\n  CognitoUser.prototype.getUsername = function getUsername() {\n    return this.username;\n  };\n\n  /**\n   * @returns {String} the authentication flow type\n   */\n\n\n  CognitoUser.prototype.getAuthenticationFlowType = function getAuthenticationFlowType() {\n    return this.authenticationFlowType;\n  };\n\n  /**\n   * sets authentication flow type\n   * @param {string} authenticationFlowType New value.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n    this.authenticationFlowType = authenticationFlowType;\n  };\n\n  /**\n   * This is used for authenticating the user through the custom authentication flow.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.initiateAuth = function initiateAuth(authDetails, callback) {\n    var _this = this;\n\n    var authParameters = authDetails.getAuthParameters();\n    authParameters.USERNAME = this.username;\n\n    var jsonReq = {\n      AuthFlow: 'CUSTOM_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: authDetails.getValidationData()\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      var challengeName = data.ChallengeName;\n      var challengeParameters = data.ChallengeParameters;\n\n      if (challengeName === 'CUSTOM_CHALLENGE') {\n        _this.Session = data.Session;\n        return callback.customChallenge(challengeParameters);\n      }\n      _this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n      _this.cacheTokens();\n      return callback.onSuccess(_this.signInUserSession);\n    });\n  };\n\n  /**\n   * This is used for authenticating the user.\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.authenticateUser = function authenticateUser(authDetails, callback) {\n    if (this.authenticationFlowType === 'USER_PASSWORD_AUTH') {\n      return this.authenticateUserPlainUsernamePassword(authDetails, callback);\n    } else if (this.authenticationFlowType === 'USER_SRP_AUTH' || this.authenticationFlowType === 'CUSTOM_AUTH') {\n      return this.authenticateUserDefaultAuth(authDetails, callback);\n    }\n    return callback.onFailure(new Error('Authentication flow type is invalid.'));\n  };\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * It calls the AuthenticationHelper for SRP related\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n    var _this2 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var dateHelper = new DateHelper();\n\n    var serverBValue = void 0;\n    var salt = void 0;\n    var authParameters = {};\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    authParameters.USERNAME = this.username;\n    authenticationHelper.getLargeAValue(function (errOnAValue, aValue) {\n      // getLargeAValue callback start\n      if (errOnAValue) {\n        callback.onFailure(errOnAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n\n      if (_this2.authenticationFlowType === 'CUSTOM_AUTH') {\n        authParameters.CHALLENGE_NAME = 'SRP_A';\n      }\n\n      var jsonReq = {\n        AuthFlow: _this2.authenticationFlowType,\n        ClientId: _this2.pool.getClientId(),\n        AuthParameters: authParameters,\n        ClientMetadata: authDetails.getValidationData()\n      };\n      if (_this2.getUserContextData(_this2.username)) {\n        jsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n      }\n\n      _this2.client.request('InitiateAuth', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n\n        _this2.username = challengeParameters.USER_ID_FOR_SRP;\n        serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        salt = new BigInteger(challengeParameters.SALT, 16);\n        _this2.getCachedDeviceKeyAndPassword();\n\n        authenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function (errOnHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errOnHkdf) {\n            callback.onFailure(errOnHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this2.pool.getUserPoolId().split('_')[1], 'utf8'), Buffer.from(_this2.username, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n\n          var challengeResponses = {};\n\n          challengeResponses.USERNAME = _this2.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n\n          if (_this2.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = _this2.deviceKey;\n          }\n\n          var respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n            return _this2.client.request('RespondToAuthChallenge', challenge, function (errChallenge, dataChallenge) {\n              if (errChallenge && errChallenge.code === 'ResourceNotFoundException' && errChallenge.message.toLowerCase().indexOf('device') !== -1) {\n                challengeResponses.DEVICE_KEY = null;\n                _this2.deviceKey = null;\n                _this2.randomPassword = null;\n                _this2.deviceGroupKey = null;\n                _this2.clearCachedDeviceKeyAndPassword();\n                return respondToAuthChallenge(challenge, challengeCallback);\n              }\n              return challengeCallback(errChallenge, dataChallenge);\n            });\n          };\n\n          var jsonReqResp = {\n            ChallengeName: 'PASSWORD_VERIFIER',\n            ClientId: _this2.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n          if (_this2.getUserContextData()) {\n            jsonReqResp.UserContextData = _this2.getUserContextData();\n          }\n          respondToAuthChallenge(jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            return _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n          });\n          return undefined;\n          // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      });\n      // getLargeAValue callback end\n    });\n  };\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n    var _this3 = this;\n\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.PASSWORD = authDetails.getPassword();\n    if (!authParameters.PASSWORD) {\n      callback.onFailure(new Error('PASSWORD parameter is required'));\n      return;\n    }\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      AuthFlow: 'USER_PASSWORD_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: authDetails.getValidationData()\n    };\n    if (this.getUserContextData(this.username)) {\n      jsonReq.UserContextData = this.getUserContextData(this.username);\n    }\n    // USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n    // Cognito UserPools verifies password and returns tokens.\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n    });\n  };\n\n  /**\n  * PRIVATE ONLY: This is an internal only method and should not\n  * be directly called by the consumers.\n  * @param {object} dataAuthenticate authentication data\n  * @param {object} authenticationHelper helper created\n  * @param {callback} callback passed on from caller\n  * @returns {void}\n  */\n\n\n  CognitoUser.prototype.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n    var _this4 = this;\n\n    var challengeName = dataAuthenticate.ChallengeName;\n    var challengeParameters = dataAuthenticate.ChallengeParameters;\n\n    if (challengeName === 'SMS_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SELECT_MFA_TYPE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.selectMFAType(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'MFA_SETUP') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaSetup(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SOFTWARE_TOKEN_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.totpRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'CUSTOM_CHALLENGE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.customChallenge(challengeParameters);\n    }\n\n    if (challengeName === 'NEW_PASSWORD_REQUIRED') {\n      this.Session = dataAuthenticate.Session;\n\n      var userAttributes = null;\n      var rawRequiredAttributes = null;\n      var requiredAttributes = [];\n      var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n      if (challengeParameters) {\n        userAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n        rawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n      }\n\n      if (rawRequiredAttributes) {\n        for (var i = 0; i < rawRequiredAttributes.length; i++) {\n          requiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n        }\n      }\n      return callback.newPasswordRequired(userAttributes, requiredAttributes);\n    }\n\n    if (challengeName === 'DEVICE_SRP_AUTH') {\n      this.getDeviceResponse(callback);\n      return undefined;\n    }\n\n    this.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n    this.challengeName = challengeName;\n    this.cacheTokens();\n\n    var newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n    if (newDeviceMetadata == null) {\n      return callback.onSuccess(this.signInUserSession);\n    }\n\n    authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n      if (errGenHash) {\n        return callback.onFailure(errGenHash);\n      }\n\n      var deviceSecretVerifierConfig = {\n        Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n        PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n      };\n\n      _this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n      _this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n      _this4.randomPassword = authenticationHelper.getRandomPassword();\n\n      _this4.client.request('ConfirmDevice', {\n        DeviceKey: newDeviceMetadata.DeviceKey,\n        AccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n        DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n        DeviceName: navigator.userAgent\n      }, function (errConfirm, dataConfirm) {\n        if (errConfirm) {\n          return callback.onFailure(errConfirm);\n        }\n\n        _this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n        _this4.cacheDeviceKeyAndPassword();\n        if (dataConfirm.UserConfirmationNecessary === true) {\n          return callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n        }\n        return callback.onSuccess(_this4.signInUserSession);\n      });\n      return undefined;\n    });\n    return undefined;\n  };\n\n  /**\n  * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n  * Pass the new password with any new user attributes to be updated.\n  * User attribute keys must be of format userAttributes.<attribute_name>.\n  * @param {string} newPassword new password for this user\n  * @param {object} requiredAttributeData map with values for all required attributes\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n  * @param {customChallenge} callback.customChallenge Custom challenge\n  *         response required to continue.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @returns {void}\n  */\n\n\n  CognitoUser.prototype.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback) {\n    var _this5 = this;\n\n    if (!newPassword) {\n      return callback.onFailure(new Error('New password is required.'));\n    }\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n    var finalUserAttributes = {};\n    if (requiredAttributeData) {\n      Object.keys(requiredAttributeData).forEach(function (key) {\n        finalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n      });\n    }\n\n    finalUserAttributes.NEW_PASSWORD = newPassword;\n    finalUserAttributes.USERNAME = this.username;\n    var jsonReq = {\n      ChallengeName: 'NEW_PASSWORD_REQUIRED',\n      ClientId: this.pool.getClientId(),\n      ChallengeResponses: finalUserAttributes,\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (errAuthenticate, dataAuthenticate) {\n      if (errAuthenticate) {\n        return callback.onFailure(errAuthenticate);\n      }\n      return _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to get a session using device authentication. It is called at the end of user\n   * authentication\n   *\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   * @private\n   */\n\n\n  CognitoUser.prototype.getDeviceResponse = function getDeviceResponse(callback) {\n    var _this6 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.deviceGroupKey);\n    var dateHelper = new DateHelper();\n\n    var authParameters = {};\n\n    authParameters.USERNAME = this.username;\n    authParameters.DEVICE_KEY = this.deviceKey;\n    authenticationHelper.getLargeAValue(function (errAValue, aValue) {\n      // getLargeAValue callback start\n      if (errAValue) {\n        callback.onFailure(errAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n\n      var jsonReq = {\n        ChallengeName: 'DEVICE_SRP_AUTH',\n        ClientId: _this6.pool.getClientId(),\n        ChallengeResponses: authParameters\n      };\n      if (_this6.getUserContextData()) {\n        jsonReq.UserContextData = _this6.getUserContextData();\n      }\n      _this6.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n\n        var serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        var salt = new BigInteger(challengeParameters.SALT, 16);\n\n        authenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function (errHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errHkdf) {\n            return callback.onFailure(errHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this6.deviceGroupKey, 'utf8'), Buffer.from(_this6.deviceKey, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n\n          var challengeResponses = {};\n\n          challengeResponses.USERNAME = _this6.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n          challengeResponses.DEVICE_KEY = _this6.deviceKey;\n\n          var jsonReqResp = {\n            ChallengeName: 'DEVICE_PASSWORD_VERIFIER',\n            ClientId: _this6.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n          if (_this6.getUserContextData()) {\n            jsonReqResp.UserContextData = _this6.getUserContextData();\n          }\n\n          _this6.client.request('RespondToAuthChallenge', jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            _this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n            _this6.cacheTokens();\n\n            return callback.onSuccess(_this6.signInUserSession);\n          });\n          return undefined;\n          // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      });\n      // getLargeAValue callback end\n    });\n  };\n\n  /**\n   * This is used for a certain user to confirm the registration by using a confirmation code\n   * @param {string} confirmationCode Code entered by user.\n   * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      ConfirmationCode: confirmationCode,\n      Username: this.username,\n      ForceAliasCreation: forceAliasCreation\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ConfirmSignUp', jsonReq, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n  };\n\n  /**\n   * This is used by the user once he has the responses to a custom challenge\n   * @param {string} answerChallenge The custom challenge answer.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge\n   *    Custom challenge response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback) {\n    var _this7 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: 'CUSTOM_CHALLENGE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this7.authenticateUserInternal(data, authenticationHelper, callback);\n    });\n  };\n\n  /**\n   * This is used by the user once he has an MFA code\n   * @param {string} confirmationCode The MFA code entered by the user.\n   * @param {object} callback Result callback map.\n   * @param {string} mfaType The mfa we are replying to.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType) {\n    var _this8 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.SMS_MFA_CODE = confirmationCode;\n    var mfaTypeSelection = mfaType || 'SMS_MFA';\n    if (mfaTypeSelection === 'SOFTWARE_TOKEN_MFA') {\n      challengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n    }\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: mfaTypeSelection,\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, dataAuthenticate) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = dataAuthenticate.ChallengeName;\n\n      if (challengeName === 'DEVICE_SRP_AUTH') {\n        _this8.getDeviceResponse(callback);\n        return undefined;\n      }\n\n      _this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n      _this8.cacheTokens();\n\n      if (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n        return callback.onSuccess(_this8.signInUserSession);\n      }\n\n      var authenticationHelper = new AuthenticationHelper(_this8.pool.getUserPoolId().split('_')[1]);\n      authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n        if (errGenHash) {\n          return callback.onFailure(errGenHash);\n        }\n\n        var deviceSecretVerifierConfig = {\n          Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n          PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n        };\n\n        _this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n        _this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n        _this8.randomPassword = authenticationHelper.getRandomPassword();\n\n        _this8.client.request('ConfirmDevice', {\n          DeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n          AccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n          DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n          DeviceName: navigator.userAgent\n        }, function (errConfirm, dataConfirm) {\n          if (errConfirm) {\n            return callback.onFailure(errConfirm);\n          }\n\n          _this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n          _this8.cacheDeviceKeyAndPassword();\n          if (dataConfirm.UserConfirmationNecessary === true) {\n            return callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n          }\n          return callback.onSuccess(_this8.signInUserSession);\n        });\n        return undefined;\n      });\n      return undefined;\n    });\n  };\n\n  /**\n   * This is used by an authenticated user to change the current password\n   * @param {string} oldUserPassword The current password.\n   * @param {string} newUserPassword The requested new password.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.changePassword = function changePassword(oldUserPassword, newUserPassword, callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('ChangePassword', {\n      PreviousPassword: oldUserPassword,\n      ProposedPassword: newUserPassword,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.enableMFA = function enableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    var mfaEnabled = {\n      DeliveryMedium: 'SMS',\n      AttributeName: 'phone_number'\n    };\n    mfaOptions.push(mfaEnabled);\n\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @param {IMfaSettings} smsMfaSettings the sms mfa settings\n   * @param {IMFASettings} softwareTokenMfaSettings the software token mfa settings\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('SetUserMFAPreference', {\n      SMSMfaSettings: smsMfaSettings,\n      SoftwareTokenMfaSettings: softwareTokenMfaSettings,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to disable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.disableMFA = function disableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to delete itself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.deleteUser = function deleteUser(callback) {\n    var _this9 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      _this9.clearCachedUser();\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * @typedef {CognitoUserAttribute | { Name:string, Value:string }} AttributeArg\n   */\n  /**\n   * This is used by an authenticated user to change a list of attributes\n   * @param {AttributeArg[]} attributes A list of the new user attributes.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.updateAttributes = function updateAttributes(attributes, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('UpdateUserAttributes', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      UserAttributes: attributes\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to get a list of attributes\n   * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getUserAttributes = function getUserAttributes(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var attributeList = [];\n\n      for (var i = 0; i < userData.UserAttributes.length; i++) {\n        var attribute = {\n          Name: userData.UserAttributes[i].Name,\n          Value: userData.UserAttributes[i].Value\n        };\n        var userAttribute = new CognitoUserAttribute(attribute);\n        attributeList.push(userAttribute);\n      }\n\n      return callback(null, attributeList);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to get the MFAOptions\n   * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getMFAOptions = function getMFAOptions(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, userData.MFAOptions);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated users to get the userData\n   * @param {nodeCallback<UserData>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getUserData = function getUserData(callback, params) {\n    var _this10 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.clearCachedUserData();\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var bypassCache = params ? params.bypassCache : false;\n\n    var userData = this.storage.getItem(this.userDataKey);\n    // get the cached user data\n\n    if (!userData || bypassCache) {\n      this.client.request('GetUser', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, latestUserData) {\n        if (err) {\n          return callback(err, null);\n        }\n        _this10.cacheUserData(latestUserData);\n        var refresh = _this10.signInUserSession.getRefreshToken();\n        if (refresh && refresh.getToken()) {\n          _this10.refreshSession(refresh, function (refreshError, data) {\n            if (refreshError) {\n              return callback(refreshError, null);\n            }\n            return callback(null, latestUserData);\n          });\n        } else {\n          return callback(null, latestUserData);\n        }\n      });\n    } else {\n      try {\n        return callback(null, JSON.parse(userData));\n      } catch (err) {\n        this.clearCachedUserData();\n        return callback(err, null);\n      }\n    }\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to delete a list of attributes\n   * @param {string[]} attributeList Names of the attributes to delete.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.deleteAttributes = function deleteAttributes(attributeList, callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUserAttributes', {\n      UserAttributeNames: attributeList,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by a user to resend a confirmation code\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.resendConfirmationCode = function resendConfirmationCode(callback) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username\n    };\n\n    this.client.request('ResendConfirmationCode', jsonReq, function (err, result) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, result);\n    });\n  };\n\n  /**\n   * This is used to get a session, either from the session object\n   * or from  the local storage, or by using a refresh token\n   *\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getSession = function getSession(callback) {\n    if (this.username == null) {\n      return callback(new Error('Username is null. Cannot retrieve a new session'), null);\n    }\n\n    if (this.signInUserSession != null && this.signInUserSession.isValid()) {\n      return callback(null, this.signInUserSession);\n    }\n\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n    var idTokenKey = keyPrefix + '.idToken';\n    var accessTokenKey = keyPrefix + '.accessToken';\n    var refreshTokenKey = keyPrefix + '.refreshToken';\n    var clockDriftKey = keyPrefix + '.clockDrift';\n\n    if (this.storage.getItem(idTokenKey)) {\n      var idToken = new CognitoIdToken({\n        IdToken: this.storage.getItem(idTokenKey)\n      });\n      var accessToken = new CognitoAccessToken({\n        AccessToken: this.storage.getItem(accessTokenKey)\n      });\n      var refreshToken = new CognitoRefreshToken({\n        RefreshToken: this.storage.getItem(refreshTokenKey)\n      });\n      var clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n\n      var sessionData = {\n        IdToken: idToken,\n        AccessToken: accessToken,\n        RefreshToken: refreshToken,\n        ClockDrift: clockDrift\n      };\n      var cachedSession = new CognitoUserSession(sessionData);\n      if (cachedSession.isValid()) {\n        this.signInUserSession = cachedSession;\n        return callback(null, this.signInUserSession);\n      }\n\n      if (!refreshToken.getToken()) {\n        return callback(new Error('Cannot retrieve a new session. Please authenticate.'), null);\n      }\n\n      this.refreshSession(refreshToken, callback);\n    } else {\n      callback(new Error('Local storage is missing an ID Token, Please authenticate'), null);\n    }\n\n    return undefined;\n  };\n\n  /**\n   * This uses the refreshToken to retrieve a new session\n   * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.refreshSession = function refreshSession(refreshToken, callback) {\n    var _this11 = this;\n\n    var authParameters = {};\n    authParameters.REFRESH_TOKEN = refreshToken.getToken();\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n    var lastUserKey = keyPrefix + '.LastAuthUser';\n\n    if (this.storage.getItem(lastUserKey)) {\n      this.username = this.storage.getItem(lastUserKey);\n      var deviceKeyKey = keyPrefix + '.' + this.username + '.deviceKey';\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      AuthFlow: 'REFRESH_TOKEN_AUTH',\n      AuthParameters: authParameters\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        if (err.code === 'NotAuthorizedException') {\n          _this11.clearCachedUser();\n        }\n        return callback(err, null);\n      }\n      if (authResult) {\n        var authenticationResult = authResult.AuthenticationResult;\n        if (!Object.prototype.hasOwnProperty.call(authenticationResult, 'RefreshToken')) {\n          authenticationResult.RefreshToken = refreshToken.getToken();\n        }\n        _this11.signInUserSession = _this11.getCognitoUserSession(authenticationResult);\n        _this11.cacheTokens();\n        return callback(null, _this11.signInUserSession);\n      }\n      return undefined;\n    });\n  };\n\n  /**\n   * This is used to save the session tokens to local storage\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.cacheTokens = function cacheTokens() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n    var idTokenKey = keyPrefix + '.' + this.username + '.idToken';\n    var accessTokenKey = keyPrefix + '.' + this.username + '.accessToken';\n    var refreshTokenKey = keyPrefix + '.' + this.username + '.refreshToken';\n    var clockDriftKey = keyPrefix + '.' + this.username + '.clockDrift';\n    var lastUserKey = keyPrefix + '.LastAuthUser';\n\n    this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n    this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n    this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n    this.storage.setItem(clockDriftKey, '' + this.signInUserSession.getClockDrift());\n    this.storage.setItem(lastUserKey, this.username);\n  };\n\n  /**\n   * This is to cache user data\n   */\n\n\n  CognitoUser.prototype.cacheUserData = function cacheUserData(userData) {\n    this.storage.setItem(this.userDataKey, JSON.stringify(userData));\n  };\n\n  /**\n   * This is to remove cached user data\n   */\n\n\n  CognitoUser.prototype.clearCachedUserData = function clearCachedUserData() {\n    this.storage.removeItem(this.userDataKey);\n  };\n\n  CognitoUser.prototype.clearCachedUser = function clearCachedUser() {\n    this.clearCachedTokens();\n    this.clearCachedUserData();\n  };\n\n  /**\n   * This is used to cache the device key and device group and device password\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n    var deviceKeyKey = keyPrefix + '.deviceKey';\n    var randomPasswordKey = keyPrefix + '.randomPasswordKey';\n    var deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n    this.storage.setItem(deviceKeyKey, this.deviceKey);\n    this.storage.setItem(randomPasswordKey, this.randomPassword);\n    this.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n  };\n\n  /**\n   * This is used to get current device key and device group and device password\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n    var deviceKeyKey = keyPrefix + '.deviceKey';\n    var randomPasswordKey = keyPrefix + '.randomPasswordKey';\n    var deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n    if (this.storage.getItem(deviceKeyKey)) {\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      this.randomPassword = this.storage.getItem(randomPasswordKey);\n      this.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n    }\n  };\n\n  /**\n   * This is used to clear the device key info from local storage\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n    var deviceKeyKey = keyPrefix + '.deviceKey';\n    var randomPasswordKey = keyPrefix + '.randomPasswordKey';\n    var deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n    this.storage.removeItem(deviceKeyKey);\n    this.storage.removeItem(randomPasswordKey);\n    this.storage.removeItem(deviceGroupKeyKey);\n  };\n\n  /**\n   * This is used to clear the session tokens from local storage\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.clearCachedTokens = function clearCachedTokens() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n    var idTokenKey = keyPrefix + '.' + this.username + '.idToken';\n    var accessTokenKey = keyPrefix + '.' + this.username + '.accessToken';\n    var refreshTokenKey = keyPrefix + '.' + this.username + '.refreshToken';\n    var lastUserKey = keyPrefix + '.LastAuthUser';\n    var clockDriftKey = keyPrefix + '.' + this.username + '.clockDrift';\n\n    this.storage.removeItem(idTokenKey);\n    this.storage.removeItem(accessTokenKey);\n    this.storage.removeItem(refreshTokenKey);\n    this.storage.removeItem(lastUserKey);\n    this.storage.removeItem(clockDriftKey);\n  };\n\n  /**\n   * This is used to build a user session from tokens retrieved in the authentication result\n   * @param {object} authResult Successful auth response from server.\n   * @returns {CognitoUserSession} The new user session.\n   * @private\n   */\n\n\n  CognitoUser.prototype.getCognitoUserSession = function getCognitoUserSession(authResult) {\n    var idToken = new CognitoIdToken(authResult);\n    var accessToken = new CognitoAccessToken(authResult);\n    var refreshToken = new CognitoRefreshToken(authResult);\n\n    var sessionData = {\n      IdToken: idToken,\n      AccessToken: accessToken,\n      RefreshToken: refreshToken\n    };\n\n    return new CognitoUserSession(sessionData);\n  };\n\n  /**\n   * This is used to initiate a forgot password request\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode?} callback.inputVerificationCode\n   *    Optional callback raised instead of onSuccess with response data.\n   * @param {onSuccess} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.forgotPassword = function forgotPassword(callback) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ForgotPassword', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n      return callback.onSuccess(data);\n    });\n  };\n\n  /**\n   * This is used to confirm a new password using a confirmationCode\n   * @param {string} confirmationCode Code entered by user.\n   * @param {string} newPassword Confirm new password.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<void>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ConfirmationCode: confirmationCode,\n      Password: newPassword\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ConfirmForgotPassword', jsonReq, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess();\n    });\n  };\n\n  /**\n   * This is used to initiate an attribute confirmation request\n   * @param {string} attributeName User attribute that needs confirmation.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetUserAttributeVerificationCode', {\n      AttributeName: attributeName,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n      return callback.onSuccess();\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to confirm an attribute using a confirmation code\n   * @param {string} attributeName Attribute being confirmed.\n   * @param {string} confirmationCode Code entered by user.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('VerifyUserAttribute', {\n      AttributeName: attributeName,\n      Code: confirmationCode,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to get the device information using the current device key\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getDevice = function getDevice(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to forget a specific device\n   * @param {string} deviceKey Device key.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ForgetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: deviceKey\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to forget the current device\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.forgetDevice = function forgetDevice(callback) {\n    var _this12 = this;\n\n    this.forgetSpecificDevice(this.deviceKey, {\n      onFailure: callback.onFailure,\n      onSuccess: function onSuccess(result) {\n        _this12.deviceKey = null;\n        _this12.deviceGroupKey = null;\n        _this12.randomPassword = null;\n        _this12.clearCachedDeviceKeyAndPassword();\n        return callback.onSuccess(result);\n      }\n    });\n  };\n\n  /**\n   * This is used to set the device status as remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to set the device status as not remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'not_remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to list all devices for a user\n   *\n   * @param {int} limit the number of devices returned in a call\n   * @param {string} paginationToken the pagination token in case any was returned before\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.listDevices = function listDevices(limit, paginationToken, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ListDevices', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      Limit: limit,\n      PaginationToken: paginationToken\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to globally revoke all tokens issued to a user\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.globalSignOut = function globalSignOut(callback) {\n    var _this13 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GlobalSignOut', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      _this13.clearCachedUser();\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used for the user to signOut of the application and clear the cached tokens.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.signOut = function signOut() {\n    this.signInUserSession = null;\n    this.clearCachedUser();\n  };\n\n  /**\n   * This is used by a user trying to select a given MFA\n   * @param {string} answerChallenge the mfa the user wants\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n    var _this14 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n\n    var jsonReq = {\n      ChallengeName: 'SELECT_MFA_TYPE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      _this14.Session = data.Session;\n      if (answerChallenge === 'SMS_MFA') {\n        return callback.mfaRequired(data.challengeName, data.challengeParameters);\n      }\n      if (answerChallenge === 'SOFTWARE_TOKEN_MFA') {\n        return callback.totpRequired(data.challengeName, data.challengeParameters);\n      }\n      return undefined;\n    });\n  };\n\n  /**\n   * This returns the user context data for advanced security feature.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getUserContextData = function getUserContextData() {\n    var pool = this.pool;\n    return pool.getUserContextData(this.username);\n  };\n\n  /**\n   * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.associateSoftwareToken = function associateSoftwareToken(callback) {\n    var _this15 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('AssociateSoftwareToken', {\n        Session: this.Session\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        _this15.Session = data.Session;\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    } else {\n      this.client.request('AssociateSoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    }\n  };\n\n  /**\n   * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n   * @param {string} totpCode The MFA code entered by the user.\n   * @param {string} friendlyDeviceName The device name we are assigning to the device.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n    var _this16 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('VerifySoftwareToken', {\n        Session: this.Session,\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        _this16.Session = data.Session;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = _this16.username;\n        var jsonReq = {\n          ChallengeName: 'MFA_SETUP',\n          ClientId: _this16.pool.getClientId(),\n          ChallengeResponses: challengeResponses,\n          Session: _this16.Session\n        };\n        if (_this16.getUserContextData()) {\n          jsonReq.UserContextData = _this16.getUserContextData();\n        }\n        _this16.client.request('RespondToAuthChallenge', jsonReq, function (errRespond, dataRespond) {\n          if (errRespond) {\n            return callback.onFailure(errRespond);\n          }\n          _this16.signInUserSession = _this16.getCognitoUserSession(dataRespond.AuthenticationResult);\n          _this16.cacheTokens();\n          return callback.onSuccess(_this16.signInUserSession);\n        });\n        return undefined;\n      });\n    } else {\n      this.client.request('VerifySoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        return callback.onSuccess(data);\n      });\n    }\n  };\n\n  return CognitoUser;\n}();\n\nexport default CognitoUser;","// class for defining the amzn user-agent\nexport default UserAgent;\n// constructor\nfunction UserAgent() {}\n// public\nUserAgent.prototype.userAgent = 'aws-amplify/0.1.x js';","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport UserAgent from './UserAgent';\n/** @class */\n\nvar Client = function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   */\n  function Client(region, endpoint) {\n    _classCallCheck(this, Client);\n\n    this.endpoint = endpoint || 'https://cognito-idp.' + region + '.amazonaws.com/';\n    this.userAgent = UserAgent.prototype.userAgent || 'aws-amplify/0.1.x js';\n  }\n\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n  */\n\n\n  Client.prototype.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': 'AWSCognitoIdentityProviderService.' + operation,\n      'X-Amz-User-Agent': this.userAgent\n    };\n\n    var options = {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    };\n\n    var response = void 0;\n    var responseJsonData = void 0;\n\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n      throw err;\n    }).then(function (resp) {\n      return resp.json().catch(function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data;\n\n      // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    }).catch(function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        }\n        // otherwise check if error is Network error\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport default Client;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Client from './Client';\nimport CognitoUser from './CognitoUser';\nimport StorageHelper from './StorageHelper';\n\n/** @class */\n\nvar CognitoUserPool = function () {\n  /**\n   * Constructs a new CognitoUserPool object\n   * @param {object} data Creation options.\n   * @param {string} data.UserPoolId Cognito user pool id.\n   * @param {string} data.ClientId User pool application client id.\n   * @param {object} data.Storage Optional storage object.\n   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n   *        boolean flag indicating if the data collection is enabled\n   *        to support cognito advanced security features. By default, this\n   *        flag is set to true.\n   */\n  function CognitoUserPool(data) {\n    _classCallCheck(this, CognitoUserPool);\n\n    var _ref = data || {},\n        UserPoolId = _ref.UserPoolId,\n        ClientId = _ref.ClientId,\n        endpoint = _ref.endpoint,\n        AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n\n    if (!UserPoolId || !ClientId) {\n      throw new Error('Both UserPoolId and ClientId are required.');\n    }\n    if (!/^[\\w-]+_.+$/.test(UserPoolId)) {\n      throw new Error('Invalid UserPoolId format.');\n    }\n    var region = UserPoolId.split('_')[0];\n\n    this.userPoolId = UserPoolId;\n    this.clientId = ClientId;\n\n    this.client = new Client(region, endpoint);\n\n    /**\n     * By default, AdvancedSecurityDataCollectionFlag is set to true,\n     * if no input value is provided.\n     */\n    this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n\n    this.storage = data.Storage || new StorageHelper().getStorage();\n  }\n\n  /**\n   * @returns {string} the user pool id\n   */\n\n\n  CognitoUserPool.prototype.getUserPoolId = function getUserPoolId() {\n    return this.userPoolId;\n  };\n\n  /**\n   * @returns {string} the client id\n   */\n\n\n  CognitoUserPool.prototype.getClientId = function getClientId() {\n    return this.clientId;\n  };\n\n  /**\n   * @typedef {object} SignUpResult\n   * @property {CognitoUser} user New user.\n   * @property {bool} userConfirmed If the user is already confirmed.\n   */\n  /**\n   * method for signing up a user\n   * @param {string} username User's username.\n   * @param {string} password Plain-text initial password entered by user.\n   * @param {(AttributeArg[])=} userAttributes New user attributes.\n   * @param {(AttributeArg[])=} validationData Application metadata.\n   * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n   * @returns {void}\n   */\n\n\n  CognitoUserPool.prototype.signUp = function signUp(username, password, userAttributes, validationData, callback) {\n    var _this = this;\n\n    var jsonReq = {\n      ClientId: this.clientId,\n      Username: username,\n      Password: password,\n      UserAttributes: userAttributes,\n      ValidationData: validationData\n    };\n    if (this.getUserContextData(username)) {\n      jsonReq.UserContextData = this.getUserContextData(username);\n    }\n    this.client.request('SignUp', jsonReq, function (err, data) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var cognitoUser = {\n        Username: username,\n        Pool: _this,\n        Storage: _this.storage\n      };\n\n      var returnData = {\n        user: new CognitoUser(cognitoUser),\n        userConfirmed: data.UserConfirmed,\n        userSub: data.UserSub,\n        codeDeliveryDetails: data.CodeDeliveryDetails\n      };\n\n      return callback(null, returnData);\n    });\n  };\n\n  /**\n   * method for getting the current user of the application from the local storage\n   *\n   * @returns {CognitoUser} the user retrieved from storage\n   */\n\n\n  CognitoUserPool.prototype.getCurrentUser = function getCurrentUser() {\n    var lastUserKey = 'CognitoIdentityServiceProvider.' + this.clientId + '.LastAuthUser';\n\n    var lastAuthUser = this.storage.getItem(lastUserKey);\n    if (lastAuthUser) {\n      var cognitoUser = {\n        Username: lastAuthUser,\n        Pool: this,\n        Storage: this.storage\n      };\n\n      return new CognitoUser(cognitoUser);\n    }\n\n    return null;\n  };\n\n  /**\n   * This method returns the encoded data string used for cognito advanced security feature.\n   * This would be generated only when developer has included the JS used for collecting the\n   * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n   * features\n   * @param {string} username the username for the context data\n   * @returns {string} the user context data\n   **/\n\n\n  CognitoUserPool.prototype.getUserContextData = function getUserContextData(username) {\n    if (typeof AmazonCognitoAdvancedSecurityData === 'undefined') {\n      return undefined;\n    }\n    /* eslint-disable */\n    var amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n    /* eslint-enable */\n\n    if (this.advancedSecurityDataCollectionFlag) {\n      var advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n      if (advancedSecurityData) {\n        var userContextData = {\n          EncodedData: advancedSecurityData\n        };\n        return userContextData;\n      }\n    }\n    return {};\n  };\n\n  return CognitoUserPool;\n}();\n\nexport default CognitoUserPool;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport * as Cookies from 'js-cookie';\n\n/** @class */\n\nvar CookieStorage = function () {\n\n  /**\n   * Constructs a new CookieStorage object\n   * @param {object} data Creation options.\n   * @param {string} data.domain Cookies domain (mandatory).\n   * @param {string} data.path Cookies path (default: '/')\n   * @param {integer} data.expires Cookie expiration (in days, default: 365)\n   * @param {boolean} data.secure Cookie secure flag (default: true)\n   */\n  function CookieStorage(data) {\n    _classCallCheck(this, CookieStorage);\n\n    if (data.domain) {\n      this.domain = data.domain;\n    } else {\n      throw new Error('The domain of cookieStorage can not be undefined.');\n    }\n    if (data.path) {\n      this.path = data.path;\n    } else {\n      this.path = '/';\n    }\n    if (Object.prototype.hasOwnProperty.call(data, 'expires')) {\n      this.expires = data.expires;\n    } else {\n      this.expires = 365;\n    }\n    if (Object.prototype.hasOwnProperty.call(data, 'secure')) {\n      this.secure = data.secure;\n    } else {\n      this.secure = true;\n    }\n  }\n\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n\n\n  CookieStorage.prototype.setItem = function setItem(key, value) {\n    Cookies.set(key, value, {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure\n    });\n    return Cookies.get(key);\n  };\n\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n\n\n  CookieStorage.prototype.getItem = function getItem(key) {\n    return Cookies.get(key);\n  };\n\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n\n\n  CookieStorage.prototype.removeItem = function removeItem(key) {\n    return Cookies.remove(key, {\n      path: this.path,\n      domain: this.domain,\n      secure: this.secure\n    });\n  };\n\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n\n\n  CookieStorage.prototype.clear = function clear() {\n    var cookies = Cookies.get();\n    var index = void 0;\n    for (index = 0; index < cookies.length; ++index) {\n      Cookies.remove(cookies[index]);\n    }\n    return {};\n  };\n\n  return CookieStorage;\n}();\n\nexport default CookieStorage;","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as AuthenticationDetails } from './AuthenticationDetails';\nexport { default as AuthenticationHelper } from './AuthenticationHelper';\nexport { default as CognitoAccessToken } from './CognitoAccessToken';\nexport { default as CognitoIdToken } from './CognitoIdToken';\nexport { default as CognitoRefreshToken } from './CognitoRefreshToken';\nexport { default as CognitoUser } from './CognitoUser';\nexport { default as CognitoUserAttribute } from './CognitoUserAttribute';\nexport { default as CognitoUserPool } from './CognitoUserPool';\nexport { default as CognitoUserSession } from './CognitoUserSession';\nexport { default as CookieStorage } from './CookieStorage';\nexport { default as DateHelper } from './DateHelper';","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@aws-amplify/core\");\nvar AWSPinpointProvider_1 = require(\"./Providers/AWSPinpointProvider\");\nvar trackers_1 = require(\"./trackers\");\nvar logger = new core_1.ConsoleLogger('AnalyticsClass');\nvar AMPLIFY_SYMBOL = ((typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') ?\n    Symbol.for('amplify_default') : '@@amplify_default');\nvar dispatchAnalyticsEvent = function (event, data, message) {\n    core_1.Hub.dispatch('analytics', { event: event, data: data, message: message }, 'Analytics', AMPLIFY_SYMBOL);\n};\nvar trackers = {\n    'pageView': trackers_1.PageViewTracker,\n    'event': trackers_1.EventTracker,\n    'session': trackers_1.SessionTracker\n};\n/**\n* Provide mobile analytics client functions\n*/\nvar AnalyticsClass = /** @class */ (function () {\n    /**\n     * Initialize Analtyics\n     * @param config - Configuration of the Analytics\n     */\n    function AnalyticsClass() {\n        this._config = {};\n        this._pluggables = [];\n        this._disabled = false;\n        this._trackers = {};\n        this.record = this.record.bind(this);\n    }\n    AnalyticsClass.prototype.getModuleName = function () {\n        return 'Analytics';\n    };\n    /**\n     * configure Analytics\n     * @param {Object} config - Configuration of the Analytics\n     */\n    AnalyticsClass.prototype.configure = function (config) {\n        var _this = this;\n        if (!config)\n            return this._config;\n        logger.debug('configure Analytics', config);\n        var amplifyConfig = core_1.Parser.parseMobilehubConfig(config);\n        this._config = Object.assign({}, this._config, amplifyConfig.Analytics, config);\n        if (this._config['disabled']) {\n            this._disabled = true;\n        }\n        this._pluggables.forEach(function (pluggable) {\n            // for backward compatibility\n            var providerConfig = pluggable.getProviderName() === 'AWSPinpoint' && !_this._config['AWSPinpoint'] ?\n                _this._config : _this._config[pluggable.getProviderName()];\n            pluggable.configure(__assign({ disabled: _this._config['disabled'] }, providerConfig));\n        });\n        if (this._pluggables.length === 0) {\n            this.addPluggable(new AWSPinpointProvider_1.default());\n        }\n        // turn on the autoSessionRecord if not specified\n        if (this._config['autoSessionRecord'] === undefined) {\n            this._config['autoSessionRecord'] = true;\n        }\n        dispatchAnalyticsEvent('configured', null, \"The Analytics category has been configured successfully\");\n        logger.debug('current configuration', this._config);\n        return this._config;\n    };\n    /**\n     * add plugin into Analytics category\n     * @param {Object} pluggable - an instance of the plugin\n     */\n    AnalyticsClass.prototype.addPluggable = function (pluggable) {\n        if (pluggable && pluggable.getCategory() === 'Analytics') {\n            this._pluggables.push(pluggable);\n            // for backward compatibility\n            var providerConfig = pluggable.getProviderName() === 'AWSPinpoint' && !this._config['AWSPinpoint'] ?\n                this._config : this._config[pluggable.getProviderName()];\n            var config = __assign({ disabled: this._config['disabled'] }, providerConfig);\n            pluggable.configure(config);\n            return config;\n        }\n    };\n    /**\n     * Get the plugin object\n     * @param providerName - the name of the plugin\n     */\n    AnalyticsClass.prototype.getPluggable = function (providerName) {\n        for (var i = 0; i < this._pluggables.length; i += 1) {\n            var pluggable = this._pluggables[i];\n            if (pluggable.getProviderName() === providerName) {\n                return pluggable;\n            }\n        }\n        logger.debug('No plugin found with providerName', providerName);\n        return null;\n    };\n    /**\n     * Remove the plugin object\n     * @param providerName - the name of the plugin\n     */\n    AnalyticsClass.prototype.removePluggable = function (providerName) {\n        var idx = 0;\n        while (idx < this._pluggables.length) {\n            if (this._pluggables[idx].getProviderName() === providerName) {\n                break;\n            }\n            idx += 1;\n        }\n        if (idx === this._pluggables.length) {\n            logger.debug('No plugin found with providerName', providerName);\n            return;\n        }\n        else {\n            this._pluggables.splice(idx, idx + 1);\n            return;\n        }\n    };\n    /**\n     * stop sending events\n     */\n    AnalyticsClass.prototype.disable = function () {\n        this._disabled = true;\n    };\n    /**\n     * start sending events\n     */\n    AnalyticsClass.prototype.enable = function () {\n        this._disabled = false;\n    };\n    /**\n     * Record Session start\n     * @return - A promise which resolves if buffer doesn't overflow\n     */\n    AnalyticsClass.prototype.startSession = function (provider) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params;\n            return __generator(this, function (_a) {\n                params = { event: { name: '_session.start' }, provider: provider };\n                return [2 /*return*/, this._sendEvent(params)];\n            });\n        });\n    };\n    /**\n     * Record Session stop\n     * @return - A promise which resolves if buffer doesn't overflow\n     */\n    AnalyticsClass.prototype.stopSession = function (provider) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params;\n            return __generator(this, function (_a) {\n                params = { event: { name: '_session.stop' }, provider: provider };\n                return [2 /*return*/, this._sendEvent(params)];\n            });\n        });\n    };\n    /**\n     * Record one analytic event and send it to Pinpoint\n     * @param {String} name - The name of the event\n     * @param {Object} [attributs] - Attributes of the event\n     * @param {Object} [metrics] - Event metrics\n     * @return - A promise which resolves if buffer doesn't overflow\n     */\n    AnalyticsClass.prototype.record = function (event, provider, metrics) {\n        return __awaiter(this, void 0, void 0, function () {\n            var errMsg, params;\n            return __generator(this, function (_a) {\n                if (!this.isAnalyticsConfigured()) {\n                    errMsg = 'Analytics has not been configured';\n                    logger.debug(errMsg);\n                    return [2 /*return*/, Promise.reject(new Error(errMsg))];\n                }\n                params = null;\n                // this is just for compatibility, going to be deprecated\n                if (typeof event === 'string') {\n                    params = {\n                        'event': {\n                            name: event,\n                            attributes: provider,\n                            metrics: metrics\n                        },\n                        provider: 'AWSPinpoint'\n                    };\n                }\n                else {\n                    params = { event: event, provider: provider };\n                }\n                return [2 /*return*/, this._sendEvent(params)];\n            });\n        });\n    };\n    AnalyticsClass.prototype.updateEndpoint = function (attrs, provider) {\n        return __awaiter(this, void 0, void 0, function () {\n            var event;\n            return __generator(this, function (_a) {\n                event = Object.assign({ name: '_update_endpoint' }, attrs);\n                return [2 /*return*/, this.record(event, provider)];\n            });\n        });\n    };\n    AnalyticsClass.prototype._sendEvent = function (params) {\n        if (!this.isAnalyticsConfigured()) {\n            var errMsg = 'Analytics has not been configured';\n            logger.debug(errMsg);\n            return Promise.reject(new Error(errMsg));\n        }\n        if (this._disabled) {\n            logger.debug('Analytics has been disabled');\n            return Promise.resolve();\n        }\n        var provider = params.provider ? params.provider : 'AWSPinpoint';\n        this._pluggables.forEach(function (pluggable) {\n            if (pluggable.getProviderName() === provider) {\n                pluggable.record(params);\n            }\n        });\n        return Promise.resolve();\n    };\n    AnalyticsClass.prototype.autoTrack = function (trackerType, opts) {\n        if (!trackers[trackerType]) {\n            logger.debug('invalid tracker type');\n            return;\n        }\n        // to sync up two different configuration ways of auto session tracking\n        if (trackerType === 'session') {\n            this._config['autoSessionRecord'] = opts['enable'];\n        }\n        var tracker = this._trackers[trackerType];\n        if (!tracker) {\n            this._trackers[trackerType] = new (trackers[trackerType])(this.record, opts);\n        }\n        else {\n            tracker.configure(opts);\n        }\n    };\n    AnalyticsClass.prototype.isAnalyticsConfigured = function () {\n        return this._config && Object.entries(this._config).length > 0;\n    };\n    return AnalyticsClass;\n}());\nexports.default = AnalyticsClass;\n//# sourceMappingURL=Analytics.js.map","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","require('./lib/browser_loader');\n\nvar AWS = require('./lib/core');\nif (typeof window !== 'undefined') window.AWS = AWS;\nif (typeof module !== 'undefined') module.exports = AWS;\nif (typeof self !== 'undefined') self.AWS = AWS;","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","var util = require('../util');\n\nfunction QueryParamSerializer() {\n}\n\nQueryParamSerializer.prototype.serialize = function(params, shape, fn) {\n  serializeStructure('', params, shape, fn);\n};\n\nfunction ucfirst(shape) {\n  if (shape.isQueryName || shape.api.protocol !== 'ec2') {\n    return shape.name;\n  } else {\n    return shape.name[0].toUpperCase() + shape.name.substr(1);\n  }\n}\n\nfunction serializeStructure(prefix, struct, rules, fn) {\n  util.each(rules.members, function(name, member) {\n    var value = struct[name];\n    if (value === null || value === undefined) return;\n\n    var memberName = ucfirst(member);\n    memberName = prefix ? prefix + '.' + memberName : memberName;\n    serializeMember(memberName, value, member, fn);\n  });\n}\n\nfunction serializeMap(name, map, rules, fn) {\n  var i = 1;\n  util.each(map, function (key, value) {\n    var prefix = rules.flattened ? '.' : '.entry.';\n    var position = prefix + (i++) + '.';\n    var keyName = position + (rules.key.name || 'key');\n    var valueName = position + (rules.value.name || 'value');\n    serializeMember(name + keyName, key, rules.key, fn);\n    serializeMember(name + valueName, value, rules.value, fn);\n  });\n}\n\nfunction serializeList(name, list, rules, fn) {\n  var memberRules = rules.member || {};\n\n  if (list.length === 0) {\n    fn.call(this, name, null);\n    return;\n  }\n\n  util.arrayEach(list, function (v, n) {\n    var suffix = '.' + (n + 1);\n    if (rules.api.protocol === 'ec2') {\n      // Do nothing for EC2\n      suffix = suffix + ''; // make linter happy\n    } else if (rules.flattened) {\n      if (memberRules.name) {\n        var parts = name.split('.');\n        parts.pop();\n        parts.push(ucfirst(memberRules));\n        name = parts.join('.');\n      }\n    } else {\n      suffix = '.' + (memberRules.name ? memberRules.name : 'member') + suffix;\n    }\n    serializeMember(name + suffix, v, memberRules, fn);\n  });\n}\n\nfunction serializeMember(name, value, rules, fn) {\n  if (value === null || value === undefined) return;\n  if (rules.type === 'structure') {\n    serializeStructure(name, value, rules, fn);\n  } else if (rules.type === 'list') {\n    serializeList(name, value, rules, fn);\n  } else if (rules.type === 'map') {\n    serializeMap(name, value, rules, fn);\n  } else {\n    fn(name, rules.toWireFormat(value).toString());\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = QueryParamSerializer;\n","var util = require('../util');\nvar XmlNode = require('./xml-node').XmlNode;\nvar XmlText = require('./xml-text').XmlText;\n\nfunction XmlBuilder() { }\n\nXmlBuilder.prototype.toXML = function(params, shape, rootElement, noEmpty) {\n  var xml = new XmlNode(rootElement);\n  applyNamespaces(xml, shape, true);\n  serialize(xml, params, shape);\n  return xml.children.length > 0 || noEmpty ? xml.toString() : '';\n};\n\nfunction serialize(xml, value, shape) {\n  switch (shape.type) {\n    case 'structure': return serializeStructure(xml, value, shape);\n    case 'map': return serializeMap(xml, value, shape);\n    case 'list': return serializeList(xml, value, shape);\n    default: return serializeScalar(xml, value, shape);\n  }\n}\n\nfunction serializeStructure(xml, params, shape) {\n  util.arrayEach(shape.memberNames, function(memberName) {\n    var memberShape = shape.members[memberName];\n    if (memberShape.location !== 'body') return;\n\n    var value = params[memberName];\n    var name = memberShape.name;\n    if (value !== undefined && value !== null) {\n      if (memberShape.isXmlAttribute) {\n        xml.addAttribute(name, value);\n      } else if (memberShape.flattened) {\n        serialize(xml, value, memberShape);\n      } else {\n        var element = new XmlNode(name);\n        xml.addChildNode(element);\n        applyNamespaces(element, memberShape);\n        serialize(element, value, memberShape);\n      }\n    }\n  });\n}\n\nfunction serializeMap(xml, map, shape) {\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n\n  util.each(map, function(key, value) {\n    var entry = new XmlNode(shape.flattened ? shape.name : 'entry');\n    xml.addChildNode(entry);\n\n    var entryKey = new XmlNode(xmlKey);\n    var entryValue = new XmlNode(xmlValue);\n    entry.addChildNode(entryKey);\n    entry.addChildNode(entryValue);\n\n    serialize(entryKey, key, shape.key);\n    serialize(entryValue, value, shape.value);\n  });\n}\n\nfunction serializeList(xml, list, shape) {\n  if (shape.flattened) {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || shape.name;\n      var element = new XmlNode(name);\n      xml.addChildNode(element);\n      serialize(element, value, shape.member);\n    });\n  } else {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || 'member';\n      var element = new XmlNode(name);\n      xml.addChildNode(element);\n      serialize(element, value, shape.member);\n    });\n  }\n}\n\nfunction serializeScalar(xml, value, shape) {\n  xml.addChildNode(\n    new XmlText(shape.toWireFormat(value))\n  );\n}\n\nfunction applyNamespaces(xml, shape, isRoot) {\n  var uri, prefix = 'xmlns';\n  if (shape.xmlNamespaceUri) {\n    uri = shape.xmlNamespaceUri;\n    if (shape.xmlNamespacePrefix) prefix += ':' + shape.xmlNamespacePrefix;\n  } else if (isRoot && shape.api.xmlNamespaceUri) {\n    uri = shape.api.xmlNamespaceUri;\n  }\n\n  if (uri) xml.addAttribute(prefix, uri);\n}\n\n/**\n * @api private\n */\nmodule.exports = XmlBuilder;\n","var escapeAttribute = require('./escape-attribute').escapeAttribute;\n\n/**\n * Represents an XML node.\n * @api private\n */\nfunction XmlNode(name, children) {\n    if (children === void 0) { children = []; }\n    this.name = name;\n    this.children = children;\n    this.attributes = {};\n}\nXmlNode.prototype.addAttribute = function (name, value) {\n    this.attributes[name] = value;\n    return this;\n};\nXmlNode.prototype.addChildNode = function (child) {\n    this.children.push(child);\n    return this;\n};\nXmlNode.prototype.removeAttribute = function (name) {\n    delete this.attributes[name];\n    return this;\n};\nXmlNode.prototype.toString = function () {\n    var hasChildren = Boolean(this.children.length);\n    var xmlText = '<' + this.name;\n    // add attributes\n    var attributes = this.attributes;\n    for (var i = 0, attributeNames = Object.keys(attributes); i < attributeNames.length; i++) {\n        var attributeName = attributeNames[i];\n        var attribute = attributes[attributeName];\n        if (typeof attribute !== 'undefined' && attribute !== null) {\n            xmlText += ' ' + attributeName + '=\\\"' + escapeAttribute('' + attribute) + '\\\"';\n        }\n    }\n    return xmlText += !hasChildren ? '/>' : '>' + this.children.map(function (c) { return c.toString(); }).join('') + '</' + this.name + '>';\n};\n\n/**\n * @api private\n */\nmodule.exports = {\n    XmlNode: XmlNode\n};\n","/**\n * Escapes characters that can not be in an XML attribute.\n */\nfunction escapeAttribute(value) {\n    return value.replace(/&/g, '&amp;').replace(/'/g, '&apos;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    escapeAttribute: escapeAttribute\n};\n","var escapeElement = require('./escape-element').escapeElement;\n\n/**\n * Represents an XML text value.\n * @api private\n */\nfunction XmlText(value) {\n    this.value = value;\n}\n\nXmlText.prototype.toString = function () {\n    return escapeElement('' + this.value);\n};\n\n/**\n * @api private\n */\nmodule.exports = {\n    XmlText: XmlText\n};\n","/**\n * Escapes characters that can not be in an XML element.\n */\nfunction escapeElement(value) {\n    return value.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    escapeElement: escapeElement\n};\n","function apiLoader(svc, version) {\n  if (!apiLoader.services.hasOwnProperty(svc)) {\n    throw new Error('InvalidService: Failed to load api for ' + svc);\n  }\n  return apiLoader.services[svc][version];\n}\n\n/**\n * @api private\n *\n * This member of AWS.apiLoader is private, but changing it will necessitate a\n * change to ../scripts/services-table-generator.ts\n */\napiLoader.services = {};\n\n/**\n * @api private\n */\nmodule.exports = apiLoader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRU_1 = require(\"./utils/LRU\");\nvar CACHE_SIZE = 1000;\n/**\n * Inspired node-lru-cache[https://github.com/isaacs/node-lru-cache]\n */\nvar EndpointCache = /** @class */ (function () {\n    function EndpointCache(maxSize) {\n        if (maxSize === void 0) { maxSize = CACHE_SIZE; }\n        this.maxSize = maxSize;\n        this.cache = new LRU_1.LRUCache(maxSize);\n    }\n    ;\n    Object.defineProperty(EndpointCache.prototype, \"size\", {\n        get: function () {\n            return this.cache.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EndpointCache.prototype.put = function (key, value) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        var endpointRecord = this.populateValue(value);\n        this.cache.put(keyString, endpointRecord);\n    };\n    EndpointCache.prototype.get = function (key) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        var now = Date.now();\n        var records = this.cache.get(keyString);\n        if (records) {\n            for (var i = 0; i < records.length; i++) {\n                var record = records[i];\n                if (record.Expire < now) {\n                    this.cache.remove(keyString);\n                    return undefined;\n                }\n            }\n        }\n        return records;\n    };\n    EndpointCache.getKeyString = function (key) {\n        var identifiers = [];\n        var identifierNames = Object.keys(key).sort();\n        for (var i = 0; i < identifierNames.length; i++) {\n            var identifierName = identifierNames[i];\n            if (key[identifierName] === undefined)\n                continue;\n            identifiers.push(key[identifierName]);\n        }\n        return identifiers.join(' ');\n    };\n    EndpointCache.prototype.populateValue = function (endpoints) {\n        var now = Date.now();\n        return endpoints.map(function (endpoint) { return ({\n            Address: endpoint.Address || '',\n            Expire: now + (endpoint.CachePeriodInMinutes || 1) * 60 * 1000\n        }); });\n    };\n    EndpointCache.prototype.empty = function () {\n        this.cache.empty();\n    };\n    EndpointCache.prototype.remove = function (key) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        this.cache.remove(keyString);\n    };\n    return EndpointCache;\n}());\nexports.EndpointCache = EndpointCache;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedListNode = /** @class */ (function () {\n    function LinkedListNode(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    return LinkedListNode;\n}());\nvar LRUCache = /** @class */ (function () {\n    function LRUCache(size) {\n        this.nodeMap = {};\n        this.size = 0;\n        if (typeof size !== 'number' || size < 1) {\n            throw new Error('Cache size can only be positive number');\n        }\n        this.sizeLimit = size;\n    }\n    Object.defineProperty(LRUCache.prototype, \"length\", {\n        get: function () {\n            return this.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LRUCache.prototype.prependToList = function (node) {\n        if (!this.headerNode) {\n            this.tailNode = node;\n        }\n        else {\n            this.headerNode.prev = node;\n            node.next = this.headerNode;\n        }\n        this.headerNode = node;\n        this.size++;\n    };\n    LRUCache.prototype.removeFromTail = function () {\n        if (!this.tailNode) {\n            return undefined;\n        }\n        var node = this.tailNode;\n        var prevNode = node.prev;\n        if (prevNode) {\n            prevNode.next = undefined;\n        }\n        node.prev = undefined;\n        this.tailNode = prevNode;\n        this.size--;\n        return node;\n    };\n    LRUCache.prototype.detachFromList = function (node) {\n        if (this.headerNode === node) {\n            this.headerNode = node.next;\n        }\n        if (this.tailNode === node) {\n            this.tailNode = node.prev;\n        }\n        if (node.prev) {\n            node.prev.next = node.next;\n        }\n        if (node.next) {\n            node.next.prev = node.prev;\n        }\n        node.next = undefined;\n        node.prev = undefined;\n        this.size--;\n    };\n    LRUCache.prototype.get = function (key) {\n        if (this.nodeMap[key]) {\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            this.prependToList(node);\n            return node.value;\n        }\n    };\n    LRUCache.prototype.remove = function (key) {\n        if (this.nodeMap[key]) {\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            delete this.nodeMap[key];\n        }\n    };\n    LRUCache.prototype.put = function (key, value) {\n        if (this.nodeMap[key]) {\n            this.remove(key);\n        }\n        else if (this.size === this.sizeLimit) {\n            var tailNode = this.removeFromTail();\n            var key_1 = tailNode.key;\n            delete this.nodeMap[key_1];\n        }\n        var newNode = new LinkedListNode(key, value);\n        this.nodeMap[key] = newNode;\n        this.prependToList(newNode);\n    };\n    LRUCache.prototype.empty = function () {\n        var keys = Object.keys(this.nodeMap);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            delete this.nodeMap[key];\n        }\n    };\n    return LRUCache;\n}());\nexports.LRUCache = LRUCache;","var AWS = require('./core');\nvar Api = require('./model/api');\nvar regionConfig = require('./region_config');\n\nvar inherit = AWS.util.inherit;\nvar clientCount = 0;\n\n/**\n * The service class representing an AWS service.\n *\n * @class_abstract This class is an abstract class.\n *\n * @!attribute apiVersions\n *   @return [Array<String>] the list of API versions supported by this service.\n *   @readonly\n */\nAWS.Service = inherit({\n  /**\n   * Create a new service object with a configuration object\n   *\n   * @param config [map] a map of configuration options\n   */\n  constructor: function Service(config) {\n    if (!this.loadServiceClass) {\n      throw AWS.util.error(new Error(),\n        'Service must be constructed with `new\\' operator');\n    }\n    var ServiceClass = this.loadServiceClass(config || {});\n    if (ServiceClass) {\n      var originalConfig = AWS.util.copy(config);\n      var svc = new ServiceClass(config);\n      Object.defineProperty(svc, '_originalConfig', {\n        get: function() { return originalConfig; },\n        enumerable: false,\n        configurable: true\n      });\n      svc._clientId = ++clientCount;\n      return svc;\n    }\n    this.initialize(config);\n  },\n\n  /**\n   * @api private\n   */\n  initialize: function initialize(config) {\n    var svcConfig = AWS.config[this.serviceIdentifier];\n    this.config = new AWS.Config(AWS.config);\n    if (svcConfig) this.config.update(svcConfig, true);\n    if (config) this.config.update(config, true);\n\n    this.validateService();\n    if (!this.config.endpoint) regionConfig(this);\n\n    this.config.endpoint = this.endpointFromTemplate(this.config.endpoint);\n    this.setEndpoint(this.config.endpoint);\n    //enable attaching listeners to service client\n    AWS.SequentialExecutor.call(this);\n    AWS.Service.addDefaultMonitoringListeners(this);\n    if ((this.config.clientSideMonitoring || AWS.Service._clientSideMonitoring) && this.publisher) {\n      var publisher = this.publisher;\n      this.addNamedListener('PUBLISH_API_CALL', 'apiCall', function PUBLISH_API_CALL(event) {\n        process.nextTick(function() {publisher.eventHandler(event);});\n      });\n      this.addNamedListener('PUBLISH_API_ATTEMPT', 'apiCallAttempt', function PUBLISH_API_ATTEMPT(event) {\n        process.nextTick(function() {publisher.eventHandler(event);});\n      });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateService: function validateService() {\n  },\n\n  /**\n   * @api private\n   */\n  loadServiceClass: function loadServiceClass(serviceConfig) {\n    var config = serviceConfig;\n    if (!AWS.util.isEmpty(this.api)) {\n      return null;\n    } else if (config.apiConfig) {\n      return AWS.Service.defineServiceApi(this.constructor, config.apiConfig);\n    } else if (!this.constructor.services) {\n      return null;\n    } else {\n      config = new AWS.Config(AWS.config);\n      config.update(serviceConfig, true);\n      var version = config.apiVersions[this.constructor.serviceIdentifier];\n      version = version || config.apiVersion;\n      return this.getLatestServiceClass(version);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceClass: function getLatestServiceClass(version) {\n    version = this.getLatestServiceVersion(version);\n    if (this.constructor.services[version] === null) {\n      AWS.Service.defineServiceApi(this.constructor, version);\n    }\n\n    return this.constructor.services[version];\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceVersion: function getLatestServiceVersion(version) {\n    if (!this.constructor.services || this.constructor.services.length === 0) {\n      throw new Error('No services defined on ' +\n                      this.constructor.serviceIdentifier);\n    }\n\n    if (!version) {\n      version = 'latest';\n    } else if (AWS.util.isType(version, Date)) {\n      version = AWS.util.date.iso8601(version).split('T')[0];\n    }\n\n    if (Object.hasOwnProperty(this.constructor.services, version)) {\n      return version;\n    }\n\n    var keys = Object.keys(this.constructor.services).sort();\n    var selectedVersion = null;\n    for (var i = keys.length - 1; i >= 0; i--) {\n      // versions that end in \"*\" are not available on disk and can be\n      // skipped, so do not choose these as selectedVersions\n      if (keys[i][keys[i].length - 1] !== '*') {\n        selectedVersion = keys[i];\n      }\n      if (keys[i].substr(0, 10) <= version) {\n        return selectedVersion;\n      }\n    }\n\n    throw new Error('Could not find ' + this.constructor.serviceIdentifier +\n                    ' API to satisfy version constraint `' + version + '\\'');\n  },\n\n  /**\n   * @api private\n   */\n  api: {},\n\n  /**\n   * @api private\n   */\n  defaultRetryCount: 3,\n\n  /**\n   * @api private\n   */\n  customizeRequests: function customizeRequests(callback) {\n    if (!callback) {\n      this.customRequestHandler = null;\n    } else if (typeof callback === 'function') {\n      this.customRequestHandler = callback;\n    } else {\n      throw new Error('Invalid callback type \\'' + typeof callback + '\\' provided in customizeRequests');\n    }\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeRequest: function makeRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = null;\n    }\n\n    params = params || {};\n    if (this.config.params) { // copy only toplevel bound params\n      var rules = this.api.operations[operation];\n      if (rules) {\n        params = AWS.util.copy(params);\n        AWS.util.each(this.config.params, function(key, value) {\n          if (rules.input.members[key]) {\n            if (params[key] === undefined || params[key] === null) {\n              params[key] = value;\n            }\n          }\n        });\n      }\n    }\n\n    var request = new AWS.Request(this, operation, params);\n    this.addAllRequestListeners(request);\n    this.attachMonitoringEmitter(request);\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters, without\n   * any authentication data. This method is useful for \"public\" API operations.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeUnauthenticatedRequest: function makeUnauthenticatedRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    }\n\n    var request = this.makeRequest(operation, params).toUnauthenticated();\n    return callback ? request.send(callback) : request;\n  },\n\n  /**\n   * Waits for a given state\n   *\n   * @param state [String] the state on the service to wait for\n   * @param params [map] a map of parameters to pass with each request\n   * @option params $waiter [map] a map of configuration options for the waiter\n   * @option params $waiter.delay [Number] The number of seconds to wait between\n   *                                       requests\n   * @option params $waiter.maxAttempts [Number] The maximum number of requests\n   *                                             to send while waiting\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  waitFor: function waitFor(state, params, callback) {\n    var waiter = new AWS.ResourceWaiter(this, state);\n    return waiter.wait(params, callback);\n  },\n\n  /**\n   * @api private\n   */\n  addAllRequestListeners: function addAllRequestListeners(request) {\n    var list = [AWS.events, AWS.EventListeners.Core, this.serviceInterface(),\n                AWS.EventListeners.CorePost];\n    for (var i = 0; i < list.length; i++) {\n      if (list[i]) request.addListeners(list[i]);\n    }\n\n    // disable parameter validation\n    if (!this.config.paramValidation) {\n      request.removeListener('validate',\n        AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    }\n\n    if (this.config.logger) { // add logging events\n      request.addListeners(AWS.EventListeners.Logger);\n    }\n\n    this.setupRequestListeners(request);\n    // call prototype's customRequestHandler\n    if (typeof this.constructor.prototype.customRequestHandler === 'function') {\n      this.constructor.prototype.customRequestHandler(request);\n    }\n    // call instance's customRequestHandler\n    if (Object.prototype.hasOwnProperty.call(this, 'customRequestHandler') && typeof this.customRequestHandler === 'function') {\n      this.customRequestHandler(request);\n    }\n  },\n\n  /**\n   * Event recording metrics for a whole API call.\n   * @returns {object} a subset of api call metrics\n   * @api private\n   */\n  apiCallEvent: function apiCallEvent(request) {\n    var api = request.service.api.operations[request.operation];\n    var monitoringEvent = {\n      Type: 'ApiCall',\n      Api: api ? api.name : request.operation,\n      Version: 1,\n      Service: request.service.api.serviceId || request.service.api.endpointPrefix,\n      Region: request.httpRequest.region,\n      MaxRetriesExceeded: 0,\n      UserAgent: request.httpRequest.getUserAgent(),\n    };\n    var response = request.response;\n    if (response.httpResponse.statusCode) {\n      monitoringEvent.FinalHttpStatusCode = response.httpResponse.statusCode;\n    }\n    if (response.error) {\n      var error = response.error;\n      var statusCode = response.httpResponse.statusCode;\n      if (statusCode > 299) {\n        if (error.code) monitoringEvent.FinalAwsException = error.code;\n        if (error.message) monitoringEvent.FinalAwsExceptionMessage = error.message;\n      } else {\n        if (error.code || error.name) monitoringEvent.FinalSdkException = error.code || error.name;\n        if (error.message) monitoringEvent.FinalSdkExceptionMessage = error.message;\n      }\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Event recording metrics for an API call attempt.\n   * @returns {object} a subset of api call attempt metrics\n   * @api private\n   */\n  apiAttemptEvent: function apiAttemptEvent(request) {\n    var api = request.service.api.operations[request.operation];\n    var monitoringEvent = {\n      Type: 'ApiCallAttempt',\n      Api: api ? api.name : request.operation,\n      Version: 1,\n      Service: request.service.api.serviceId || request.service.api.endpointPrefix,\n      Fqdn: request.httpRequest.endpoint.hostname,\n      UserAgent: request.httpRequest.getUserAgent(),\n    };\n    var response = request.response;\n    if (response.httpResponse.statusCode) {\n      monitoringEvent.HttpStatusCode = response.httpResponse.statusCode;\n    }\n    if (\n      !request._unAuthenticated &&\n      request.service.config.credentials &&\n      request.service.config.credentials.accessKeyId\n    ) {\n      monitoringEvent.AccessKey = request.service.config.credentials.accessKeyId;\n    }\n    if (!response.httpResponse.headers) return monitoringEvent;\n    if (request.httpRequest.headers['x-amz-security-token']) {\n      monitoringEvent.SessionToken = request.httpRequest.headers['x-amz-security-token'];\n    }\n    if (response.httpResponse.headers['x-amzn-requestid']) {\n      monitoringEvent.XAmznRequestId = response.httpResponse.headers['x-amzn-requestid'];\n    }\n    if (response.httpResponse.headers['x-amz-request-id']) {\n      monitoringEvent.XAmzRequestId = response.httpResponse.headers['x-amz-request-id'];\n    }\n    if (response.httpResponse.headers['x-amz-id-2']) {\n      monitoringEvent.XAmzId2 = response.httpResponse.headers['x-amz-id-2'];\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Add metrics of failed request.\n   * @api private\n   */\n  attemptFailEvent: function attemptFailEvent(request) {\n    var monitoringEvent = this.apiAttemptEvent(request);\n    var response = request.response;\n    var error = response.error;\n    if (response.httpResponse.statusCode > 299 ) {\n      if (error.code) monitoringEvent.AwsException = error.code;\n      if (error.message) monitoringEvent.AwsExceptionMessage = error.message;\n    } else {\n      if (error.code || error.name) monitoringEvent.SdkException = error.code || error.name;\n      if (error.message) monitoringEvent.SdkExceptionMessage = error.message;\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Attach listeners to request object to fetch metrics of each request\n   * and emit data object through \\'ApiCall\\' and \\'ApiCallAttempt\\' events.\n   * @api private\n   */\n  attachMonitoringEmitter: function attachMonitoringEmitter(request) {\n    var attemptTimestamp; //timestamp marking the beginning of a request attempt\n    var attemptStartRealTime; //Start time of request attempt. Used to calculating attemptLatency\n    var attemptLatency; //latency from request sent out to http response reaching SDK\n    var callStartRealTime; //Start time of API call. Used to calculating API call latency\n    var attemptCount = 0; //request.retryCount is not reliable here\n    var region; //region cache region for each attempt since it can be updated in plase (e.g. s3)\n    var callTimestamp; //timestamp when the request is created\n    var self = this;\n    var addToHead = true;\n\n    request.on('validate', function () {\n      callStartRealTime = AWS.util.realClock.now();\n      callTimestamp = Date.now();\n    }, addToHead);\n    request.on('sign', function () {\n      attemptStartRealTime = AWS.util.realClock.now();\n      attemptTimestamp = Date.now();\n      region = request.httpRequest.region;\n      attemptCount++;\n    }, addToHead);\n    request.on('validateResponse', function() {\n      attemptLatency = Math.round(AWS.util.realClock.now() - attemptStartRealTime);\n    });\n    request.addNamedListener('API_CALL_ATTEMPT', 'success', function API_CALL_ATTEMPT() {\n      var apiAttemptEvent = self.apiAttemptEvent(request);\n      apiAttemptEvent.Timestamp = attemptTimestamp;\n      apiAttemptEvent.AttemptLatency = attemptLatency >= 0 ? attemptLatency : 0;\n      apiAttemptEvent.Region = region;\n      self.emit('apiCallAttempt', [apiAttemptEvent]);\n    });\n    request.addNamedListener('API_CALL_ATTEMPT_RETRY', 'retry', function API_CALL_ATTEMPT_RETRY() {\n      var apiAttemptEvent = self.attemptFailEvent(request);\n      apiAttemptEvent.Timestamp = attemptTimestamp;\n      //attemptLatency may not be available if fail before response\n      attemptLatency = attemptLatency ||\n        Math.round(AWS.util.realClock.now() - attemptStartRealTime);\n      apiAttemptEvent.AttemptLatency = attemptLatency >= 0 ? attemptLatency : 0;\n      apiAttemptEvent.Region = region;\n      self.emit('apiCallAttempt', [apiAttemptEvent]);\n    });\n    request.addNamedListener('API_CALL', 'complete', function API_CALL() {\n      var apiCallEvent = self.apiCallEvent(request);\n      apiCallEvent.AttemptCount = attemptCount;\n      if (apiCallEvent.AttemptCount <= 0) return;\n      apiCallEvent.Timestamp = callTimestamp;\n      var latency = Math.round(AWS.util.realClock.now() - callStartRealTime);\n      apiCallEvent.Latency = latency >= 0 ? latency : 0;\n      var response = request.response;\n      if (\n        typeof response.retryCount === 'number' &&\n        typeof response.maxRetries === 'number' &&\n        (response.retryCount >= response.maxRetries)\n      ) {\n        apiCallEvent.MaxRetriesExceeded = 1;\n      }\n      self.emit('apiCall', [apiCallEvent]);\n    });\n  },\n\n  /**\n   * Override this method to setup any custom request listeners for each\n   * new request to the service.\n   *\n   * @method_abstract This is an abstract method.\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n  },\n\n  /**\n   * Gets the signer class for a given request\n   * @api private\n   */\n  getSignerClass: function getSignerClass(request) {\n    var version;\n    // get operation authtype if present\n    var operation = null;\n    var authtype = '';\n    if (request) {\n      var operations = request.service.api.operations || {};\n      operation = operations[request.operation] || null;\n      authtype = operation ? operation.authtype : '';\n    }\n    if (this.config.signatureVersion) {\n      version = this.config.signatureVersion;\n    } else if (authtype === 'v4' || authtype === 'v4-unsigned-body') {\n      version = 'v4';\n    } else {\n      version = this.api.signatureVersion;\n    }\n    return AWS.Signers.RequestSigner.getVersion(version);\n  },\n\n  /**\n   * @api private\n   */\n  serviceInterface: function serviceInterface() {\n    switch (this.api.protocol) {\n      case 'ec2': return AWS.EventListeners.Query;\n      case 'query': return AWS.EventListeners.Query;\n      case 'json': return AWS.EventListeners.Json;\n      case 'rest-json': return AWS.EventListeners.RestJson;\n      case 'rest-xml': return AWS.EventListeners.RestXml;\n    }\n    if (this.api.protocol) {\n      throw new Error('Invalid service `protocol\\' ' +\n        this.api.protocol + ' in API config');\n    }\n  },\n\n  /**\n   * @api private\n   */\n  successfulResponse: function successfulResponse(resp) {\n    return resp.httpResponse.statusCode < 300;\n  },\n\n  /**\n   * How many times a failed request should be retried before giving up.\n   * the defaultRetryCount can be overriden by service classes.\n   *\n   * @api private\n   */\n  numRetries: function numRetries() {\n    if (this.config.maxRetries !== undefined) {\n      return this.config.maxRetries;\n    } else {\n      return this.defaultRetryCount;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  retryDelays: function retryDelays(retryCount) {\n    return AWS.util.calculateRetryDelay(retryCount, this.config.retryDelayOptions);\n  },\n\n  /**\n   * @api private\n   */\n  retryableError: function retryableError(error) {\n    if (this.timeoutError(error)) return true;\n    if (this.networkingError(error)) return true;\n    if (this.expiredCredentialsError(error)) return true;\n    if (this.throttledError(error)) return true;\n    if (error.statusCode >= 500) return true;\n    return false;\n  },\n\n  /**\n   * @api private\n   */\n  networkingError: function networkingError(error) {\n    return error.code === 'NetworkingError';\n  },\n\n  /**\n   * @api private\n   */\n  timeoutError: function timeoutError(error) {\n    return error.code === 'TimeoutError';\n  },\n\n  /**\n   * @api private\n   */\n  expiredCredentialsError: function expiredCredentialsError(error) {\n    // TODO : this only handles *one* of the expired credential codes\n    return (error.code === 'ExpiredTokenException');\n  },\n\n  /**\n   * @api private\n   */\n  clockSkewError: function clockSkewError(error) {\n    switch (error.code) {\n      case 'RequestTimeTooSkewed':\n      case 'RequestExpired':\n      case 'InvalidSignatureException':\n      case 'SignatureDoesNotMatch':\n      case 'AuthFailure':\n      case 'RequestInTheFuture':\n        return true;\n      default: return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getSkewCorrectedDate: function getSkewCorrectedDate() {\n    return new Date(Date.now() + this.config.systemClockOffset);\n  },\n\n  /**\n   * @api private\n   */\n  applyClockOffset: function applyClockOffset(newServerTime) {\n    if (newServerTime) {\n      this.config.systemClockOffset = newServerTime - Date.now();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(newServerTime) {\n    if (newServerTime) {\n      return Math.abs(this.getSkewCorrectedDate().getTime() - newServerTime) >= 30000;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  throttledError: function throttledError(error) {\n    // this logic varies between services\n    switch (error.code) {\n      case 'ProvisionedThroughputExceededException':\n      case 'Throttling':\n      case 'ThrottlingException':\n      case 'RequestLimitExceeded':\n      case 'RequestThrottled':\n      case 'RequestThrottledException':\n      case 'TooManyRequestsException':\n      case 'TransactionInProgressException': //dynamodb\n        return true;\n      default:\n        return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  endpointFromTemplate: function endpointFromTemplate(endpoint) {\n    if (typeof endpoint !== 'string') return endpoint;\n\n    var e = endpoint;\n    e = e.replace(/\\{service\\}/g, this.api.endpointPrefix);\n    e = e.replace(/\\{region\\}/g, this.config.region);\n    e = e.replace(/\\{scheme\\}/g, this.config.sslEnabled ? 'https' : 'http');\n    return e;\n  },\n\n  /**\n   * @api private\n   */\n  setEndpoint: function setEndpoint(endpoint) {\n    this.endpoint = new AWS.Endpoint(endpoint, this.config);\n  },\n\n  /**\n   * @api private\n   */\n  paginationConfig: function paginationConfig(operation, throwException) {\n    var paginator = this.api.operations[operation].paginator;\n    if (!paginator) {\n      if (throwException) {\n        var e = new Error();\n        throw AWS.util.error(e, 'No pagination configuration for ' + operation);\n      }\n      return null;\n    }\n\n    return paginator;\n  }\n});\n\nAWS.util.update(AWS.Service, {\n\n  /**\n   * Adds one method for each operation described in the api configuration\n   *\n   * @api private\n   */\n  defineMethods: function defineMethods(svc) {\n    AWS.util.each(svc.prototype.api.operations, function iterator(method) {\n      if (svc.prototype[method]) return;\n      var operation = svc.prototype.api.operations[method];\n      if (operation.authtype === 'none') {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeUnauthenticatedRequest(method, params, callback);\n        };\n      } else {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeRequest(method, params, callback);\n        };\n      }\n    });\n  },\n\n  /**\n   * Defines a new Service class using a service identifier and list of versions\n   * including an optional set of features (functions) to apply to the class\n   * prototype.\n   *\n   * @param serviceIdentifier [String] the identifier for the service\n   * @param versions [Array<String>] a list of versions that work with this\n   *   service\n   * @param features [Object] an object to attach to the prototype\n   * @return [Class<Service>] the service class defined by this function.\n   */\n  defineService: function defineService(serviceIdentifier, versions, features) {\n    AWS.Service._serviceMap[serviceIdentifier] = true;\n    if (!Array.isArray(versions)) {\n      features = versions;\n      versions = [];\n    }\n\n    var svc = inherit(AWS.Service, features || {});\n\n    if (typeof serviceIdentifier === 'string') {\n      AWS.Service.addVersions(svc, versions);\n\n      var identifier = svc.serviceIdentifier || serviceIdentifier;\n      svc.serviceIdentifier = identifier;\n    } else { // defineService called with an API\n      svc.prototype.api = serviceIdentifier;\n      AWS.Service.defineMethods(svc);\n    }\n    AWS.SequentialExecutor.call(this.prototype);\n    //util.clientSideMonitoring is only available in node\n    if (!this.prototype.publisher && AWS.util.clientSideMonitoring) {\n      var Publisher = AWS.util.clientSideMonitoring.Publisher;\n      var configProvider = AWS.util.clientSideMonitoring.configProvider;\n      var publisherConfig = configProvider();\n      this.prototype.publisher = new Publisher(publisherConfig);\n      if (publisherConfig.enabled) {\n        //if csm is enabled in environment, SDK should send all metrics\n        AWS.Service._clientSideMonitoring = true;\n      }\n    }\n    AWS.SequentialExecutor.call(svc.prototype);\n    AWS.Service.addDefaultMonitoringListeners(svc.prototype);\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  addVersions: function addVersions(svc, versions) {\n    if (!Array.isArray(versions)) versions = [versions];\n\n    svc.services = svc.services || {};\n    for (var i = 0; i < versions.length; i++) {\n      if (svc.services[versions[i]] === undefined) {\n        svc.services[versions[i]] = null;\n      }\n    }\n\n    svc.apiVersions = Object.keys(svc.services).sort();\n  },\n\n  /**\n   * @api private\n   */\n  defineServiceApi: function defineServiceApi(superclass, version, apiConfig) {\n    var svc = inherit(superclass, {\n      serviceIdentifier: superclass.serviceIdentifier\n    });\n\n    function setApi(api) {\n      if (api.isApi) {\n        svc.prototype.api = api;\n      } else {\n        svc.prototype.api = new Api(api);\n      }\n    }\n\n    if (typeof version === 'string') {\n      if (apiConfig) {\n        setApi(apiConfig);\n      } else {\n        try {\n          setApi(AWS.apiLoader(superclass.serviceIdentifier, version));\n        } catch (err) {\n          throw AWS.util.error(err, {\n            message: 'Could not find API configuration ' +\n              superclass.serviceIdentifier + '-' + version\n          });\n        }\n      }\n      if (!Object.prototype.hasOwnProperty.call(superclass.services, version)) {\n        superclass.apiVersions = superclass.apiVersions.concat(version).sort();\n      }\n      superclass.services[version] = svc;\n    } else {\n      setApi(version);\n    }\n\n    AWS.Service.defineMethods(svc);\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  hasService: function(identifier) {\n    return Object.prototype.hasOwnProperty.call(AWS.Service._serviceMap, identifier);\n  },\n\n  /**\n   * @param attachOn attach default monitoring listeners to object\n   *\n   * Each monitoring event should be emitted from service client to service constructor prototype and then\n   * to global service prototype like bubbling up. These default monitoring events listener will transfer\n   * the monitoring events to the upper layer.\n   * @api private\n   */\n  addDefaultMonitoringListeners: function addDefaultMonitoringListeners(attachOn) {\n    attachOn.addNamedListener('MONITOR_EVENTS_BUBBLE', 'apiCallAttempt', function EVENTS_BUBBLE(event) {\n      var baseClass = Object.getPrototypeOf(attachOn);\n      if (baseClass._events) baseClass.emit('apiCallAttempt', [event]);\n    });\n    attachOn.addNamedListener('CALL_EVENTS_BUBBLE', 'apiCall', function CALL_EVENTS_BUBBLE(event) {\n      var baseClass = Object.getPrototypeOf(attachOn);\n      if (baseClass._events) baseClass.emit('apiCall', [event]);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  _serviceMap: {}\n});\n\nAWS.util.mixin(AWS.Service, AWS.SequentialExecutor);\n\n/**\n * @api private\n */\nmodule.exports = AWS.Service;\n","var util = require('./util');\nvar regionConfig = require('./region_config_data.json');\n\nfunction generateRegionPrefix(region) {\n  if (!region) return null;\n\n  var parts = region.split('-');\n  if (parts.length < 3) return null;\n  return parts.slice(0, parts.length - 2).join('-') + '-*';\n}\n\nfunction derivedKeys(service) {\n  var region = service.config.region;\n  var regionPrefix = generateRegionPrefix(region);\n  var endpointPrefix = service.api.endpointPrefix;\n\n  return [\n    [region, endpointPrefix],\n    [regionPrefix, endpointPrefix],\n    [region, '*'],\n    [regionPrefix, '*'],\n    ['*', endpointPrefix],\n    ['*', '*']\n  ].map(function(item) {\n    return item[0] && item[1] ? item.join('/') : null;\n  });\n}\n\nfunction applyConfig(service, config) {\n  util.each(config, function(key, value) {\n    if (key === 'globalEndpoint') return;\n    if (service.config[key] === undefined || service.config[key] === null) {\n      service.config[key] = value;\n    }\n  });\n}\n\nfunction configureEndpoint(service) {\n  var keys = derivedKeys(service);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!key) continue;\n\n    if (Object.prototype.hasOwnProperty.call(regionConfig.rules, key)) {\n      var config = regionConfig.rules[key];\n      if (typeof config === 'string') {\n        config = regionConfig.patterns[config];\n      }\n\n      // set dualstack endpoint\n      if (service.config.useDualstack && util.isDualstackAvailable(service)) {\n        config = util.copy(config);\n        config.endpoint = '{service}.dualstack.{region}.amazonaws.com';\n      }\n\n      // set global endpoint\n      service.isGlobalEndpoint = !!config.globalEndpoint;\n\n      // signature version\n      if (!config.signatureVersion) config.signatureVersion = 'v4';\n\n      // merge config\n      applyConfig(service, config);\n      return;\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = configureEndpoint;\n","var AWS = require('./core');\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nvar PromisesDependency;\n\n/**\n * The main configuration class used by all service objects to set\n * the region, credentials, and other options for requests.\n *\n * By default, credentials and region settings are left unconfigured.\n * This should be configured by the application before using any\n * AWS service APIs.\n *\n * In order to set global configuration options, properties should\n * be assigned to the global {AWS.config} object.\n *\n * @see AWS.config\n *\n * @!group General Configuration Options\n *\n * @!attribute credentials\n *   @return [AWS.Credentials] the AWS credentials to sign requests with.\n *\n * @!attribute region\n *   @example Set the global region setting to us-west-2\n *     AWS.config.update({region: 'us-west-2'});\n *   @return [AWS.Credentials] The region to send service requests to.\n *   @see http://docs.amazonwebservices.com/general/latest/gr/rande.html\n *     A list of available endpoints for each AWS service\n *\n * @!attribute maxRetries\n *   @return [Integer] the maximum amount of retries to perform for a\n *     service request. By default this value is calculated by the specific\n *     service object that the request is being made to.\n *\n * @!attribute maxRedirects\n *   @return [Integer] the maximum amount of redirects to follow for a\n *     service request. Defaults to 10.\n *\n * @!attribute paramValidation\n *   @return [Boolean|map] whether input parameters should be validated against\n *     the operation description before sending the request. Defaults to true.\n *     Pass a map to enable any of the following specific validation features:\n *\n *     * **min** [Boolean] &mdash; Validates that a value meets the min\n *       constraint. This is enabled by default when paramValidation is set\n *       to `true`.\n *     * **max** [Boolean] &mdash; Validates that a value meets the max\n *       constraint.\n *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n *       regular expression.\n *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n *       of the allowable enum values.\n *\n * @!attribute computeChecksums\n *   @return [Boolean] whether to compute checksums for payload bodies when\n *     the service accepts it (currently supported in S3 only).\n *\n * @!attribute convertResponseTypes\n *   @return [Boolean] whether types are converted when parsing response data.\n *     Currently only supported for JSON based services. Turning this off may\n *     improve performance on large response payloads. Defaults to `true`.\n *\n * @!attribute correctClockSkew\n *   @return [Boolean] whether to apply a clock skew correction and retry\n *     requests that fail because of an skewed client clock. Defaults to\n *     `false`.\n *\n * @!attribute sslEnabled\n *   @return [Boolean] whether SSL is enabled for requests\n *\n * @!attribute s3ForcePathStyle\n *   @return [Boolean] whether to force path style URLs for S3 objects\n *\n * @!attribute s3BucketEndpoint\n *   @note Setting this configuration option requires an `endpoint` to be\n *     provided explicitly to the service constructor.\n *   @return [Boolean] whether the provided endpoint addresses an individual\n *     bucket (false if it addresses the root API endpoint).\n *\n * @!attribute s3DisableBodySigning\n *   @return [Boolean] whether to disable S3 body signing when using signature version `v4`.\n *     Body signing can only be disabled when using https. Defaults to `true`.\n *\n * @!attribute useAccelerateEndpoint\n *   @note This configuration option is only compatible with S3 while accessing\n *     dns-compatible buckets.\n *   @return [Boolean] Whether to use the Accelerate endpoint with the S3 service.\n *     Defaults to `false`.\n *\n * @!attribute retryDelayOptions\n *   @example Set the base retry delay for all services to 300 ms\n *     AWS.config.update({retryDelayOptions: {base: 300}});\n *     // Delays with maxRetries = 3: 300, 600, 1200\n *   @example Set a custom backoff function to provide delay values on retries\n *     AWS.config.update({retryDelayOptions: {customBackoff: function(retryCount) {\n *       // returns delay in ms\n *     }}});\n *   @return [map] A set of options to configure the retry delay on retryable errors.\n *     Currently supported options are:\n *\n *     * **base** [Integer] &mdash; The base number of milliseconds to use in the\n *       exponential backoff for operation retries. Defaults to 100 ms for all services except\n *       DynamoDB, where it defaults to 50ms.\n *     * **customBackoff ** [function] &mdash; A custom function that accepts a retry count\n *       and returns the amount of time to delay in milliseconds. The `base` option will be\n *       ignored if this option is supplied.\n *\n * @!attribute httpOptions\n *   @return [map] A set of options to pass to the low-level HTTP request.\n *     Currently supported options are:\n *\n *     * **proxy** [String] &mdash; the URL to proxy requests through\n *     * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n *       HTTP requests with. Used for connection pooling. Note that for\n *       SSL connections, a special Agent object is used in order to enable\n *       peer certificate verification. This feature is only supported in the\n *       Node.js environment.\n *     * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n *       failing to establish a connection with the server after\n *       `connectTimeout` milliseconds. This timeout has no effect once a socket\n *       connection has been established.\n *     * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n *       milliseconds of inactivity on the socket. Defaults to two minutes\n *       (120000)\n *     * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n *       HTTP requests. Used in the browser environment only. Set to false to\n *       send requests synchronously. Defaults to true (async on).\n *     * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n *       property of an XMLHttpRequest object. Used in the browser environment\n *       only. Defaults to false.\n * @!attribute logger\n *   @return [#write,#log] an object that responds to .write() (like a stream)\n *     or .log() (like the console object) in order to log information about\n *     requests\n *\n * @!attribute systemClockOffset\n *   @return [Number] an offset value in milliseconds to apply to all signing\n *     times. Use this to compensate for clock skew when your system may be\n *     out of sync with the service time. Note that this configuration option\n *     can only be applied to the global `AWS.config` object and cannot be\n *     overridden in service-specific configuration. Defaults to 0 milliseconds.\n *\n * @!attribute signatureVersion\n *   @return [String] the signature version to sign requests with (overriding\n *     the API configuration). Possible values are: 'v2', 'v3', 'v4'.\n *\n * @!attribute signatureCache\n *   @return [Boolean] whether the signature to sign requests with (overriding\n *     the API configuration) is cached. Only applies to the signature version 'v4'.\n *     Defaults to `true`.\n *\n * @!attribute endpointDiscoveryEnabled\n *   @return [Boolean] whether to enable endpoint discovery for operations that\n *     allow optionally using an endpoint returned by the service.\n *     Defaults to 'false'\n *\n * @!attribute endpointCacheSize\n *   @return [Number] the size of the global cache storing endpoints from endpoint\n *     discovery operations. Once endpoint cache is created, updating this setting\n *     cannot change existing cache size.\n *     Defaults to 1000\n *\n * @!attribute hostPrefixEnabled\n *   @return [Boolean] whether to marshal request parameters to the prefix of\n *     hostname. Defaults to `true`.\n */\nAWS.Config = AWS.util.inherit({\n  /**\n   * @!endgroup\n   */\n\n  /**\n   * Creates a new configuration object. This is the object that passes\n   * option data along to service requests, including credentials, security,\n   * region information, and some service specific settings.\n   *\n   * @example Creating a new configuration object with credentials and region\n   *   var config = new AWS.Config({\n   *     accessKeyId: 'AKID', secretAccessKey: 'SECRET', region: 'us-west-2'\n   *   });\n   * @option options accessKeyId [String] your AWS access key ID.\n   * @option options secretAccessKey [String] your AWS secret access key.\n   * @option options sessionToken [AWS.Credentials] the optional AWS\n   *   session token to sign requests with.\n   * @option options credentials [AWS.Credentials] the AWS credentials\n   *   to sign requests with. You can either specify this object, or\n   *   specify the accessKeyId and secretAccessKey options directly.\n   * @option options credentialProvider [AWS.CredentialProviderChain] the\n   *   provider chain used to resolve credentials if no static `credentials`\n   *   property is set.\n   * @option options region [String] the region to send service requests to.\n   *   See {region} for more information.\n   * @option options maxRetries [Integer] the maximum amount of retries to\n   *   attempt with a request. See {maxRetries} for more information.\n   * @option options maxRedirects [Integer] the maximum amount of redirects to\n   *   follow with a request. See {maxRedirects} for more information.\n   * @option options sslEnabled [Boolean] whether to enable SSL for\n   *   requests.\n   * @option options paramValidation [Boolean|map] whether input parameters\n   *   should be validated against the operation description before sending\n   *   the request. Defaults to true. Pass a map to enable any of the\n   *   following specific validation features:\n   *\n   *   * **min** [Boolean] &mdash; Validates that a value meets the min\n   *     constraint. This is enabled by default when paramValidation is set\n   *     to `true`.\n   *   * **max** [Boolean] &mdash; Validates that a value meets the max\n   *     constraint.\n   *   * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *     regular expression.\n   *   * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *     of the allowable enum values.\n   * @option options computeChecksums [Boolean] whether to compute checksums\n   *   for payload bodies when the service accepts it (currently supported\n   *   in S3 only)\n   * @option options convertResponseTypes [Boolean] whether types are converted\n   *     when parsing response data. Currently only supported for JSON based\n   *     services. Turning this off may improve performance on large response\n   *     payloads. Defaults to `true`.\n   * @option options correctClockSkew [Boolean] whether to apply a clock skew\n   *     correction and retry requests that fail because of an skewed client\n   *     clock. Defaults to `false`.\n   * @option options s3ForcePathStyle [Boolean] whether to force path\n   *   style URLs for S3 objects.\n   * @option options s3BucketEndpoint [Boolean] whether the provided endpoint\n   *   addresses an individual bucket (false if it addresses the root API\n   *   endpoint). Note that setting this configuration option requires an\n   *   `endpoint` to be provided explicitly to the service constructor.\n   * @option options s3DisableBodySigning [Boolean] whether S3 body signing\n   *   should be disabled when using signature version `v4`. Body signing\n   *   can only be disabled when using https. Defaults to `true`.\n   *\n   * @option options retryDelayOptions [map] A set of options to configure\n   *   the retry delay on retryable errors. Currently supported options are:\n   *\n   *   * **base** [Integer] &mdash; The base number of milliseconds to use in the\n   *     exponential backoff for operation retries. Defaults to 100 ms for all\n   *     services except DynamoDB, where it defaults to 50ms.\n   *   * **customBackoff ** [function] &mdash; A custom function that accepts a retry count\n   *     and returns the amount of time to delay in milliseconds. The `base` option will be\n   *     ignored if this option is supplied.\n   * @option options httpOptions [map] A set of options to pass to the low-level\n   *   HTTP request. Currently supported options are:\n   *\n   *   * **proxy** [String] &mdash; the URL to proxy requests through\n   *   * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n   *     HTTP requests with. Used for connection pooling. Defaults to the global\n   *     agent (`http.globalAgent`) for non-SSL connections. Note that for\n   *     SSL connections, a special Agent object is used in order to enable\n   *     peer certificate verification. This feature is only available in the\n   *     Node.js environment.\n   *   * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n   *     failing to establish a connection with the server after\n   *     `connectTimeout` milliseconds. This timeout has no effect once a socket\n   *     connection has been established.\n   *   * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n   *     milliseconds of inactivity on the socket. Defaults to two minutes\n   *     (120000).\n   *   * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n   *     HTTP requests. Used in the browser environment only. Set to false to\n   *     send requests synchronously. Defaults to true (async on).\n   *   * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n   *     property of an XMLHttpRequest object. Used in the browser environment\n   *     only. Defaults to false.\n   * @option options apiVersion [String, Date] a String in YYYY-MM-DD format\n   *   (or a date) that represents the latest possible API version that can be\n   *   used in all services (unless overridden by `apiVersions`). Specify\n   *   'latest' to use the latest possible version.\n   * @option options apiVersions [map<String, String|Date>] a map of service\n   *   identifiers (the lowercase service class name) with the API version to\n   *   use when instantiating a service. Specify 'latest' for each individual\n   *   that can use the latest available version.\n   * @option options logger [#write,#log] an object that responds to .write()\n   *   (like a stream) or .log() (like the console object) in order to log\n   *   information about requests\n   * @option options systemClockOffset [Number] an offset value in milliseconds\n   *   to apply to all signing times. Use this to compensate for clock skew\n   *   when your system may be out of sync with the service time. Note that\n   *   this configuration option can only be applied to the global `AWS.config`\n   *   object and cannot be overridden in service-specific configuration.\n   *   Defaults to 0 milliseconds.\n   * @option options signatureVersion [String] the signature version to sign\n   *   requests with (overriding the API configuration). Possible values are:\n   *   'v2', 'v3', 'v4'.\n   * @option options signatureCache [Boolean] whether the signature to sign\n   *   requests with (overriding the API configuration) is cached. Only applies\n   *   to the signature version 'v4'. Defaults to `true`.\n   * @option options dynamoDbCrc32 [Boolean] whether to validate the CRC32\n   *   checksum of HTTP response bodies returned by DynamoDB. Default: `true`.\n   * @option options useAccelerateEndpoint [Boolean] Whether to use the\n   *   S3 Transfer Acceleration endpoint with the S3 service. Default: `false`.\n   * @option options clientSideMonitoring [Boolean] whether to collect and\n   *   publish this client's performance metrics of all its API requests.\n   * @option options endpointDiscoveryEnabled [Boolean] whether to enable endpoint\n   *   discovery for operations that allow optionally using an endpoint returned by\n   *   the service.\n   *   Defaults to 'false'\n   * @option options endpointCacheSize [Number] the size of the global cache storing\n   *   endpoints from endpoint discovery operations. Once endpoint cache is created,\n   *   updating this setting cannot change existing cache size.\n   *   Defaults to 1000\n   * @option options hostPrefixEnabled [Boolean] whether to marshal request\n   *   parameters to the prefix of hostname.\n   *   Defaults to `true`.\n   */\n  constructor: function Config(options) {\n    if (options === undefined) options = {};\n    options = this.extractCredentials(options);\n\n    AWS.util.each.call(this, this.keys, function (key, value) {\n      this.set(key, options[key], value);\n    });\n  },\n\n  /**\n   * @!group Managing Credentials\n   */\n\n  /**\n   * Loads credentials from the configuration object. This is used internally\n   * by the SDK to ensure that refreshable {Credentials} objects are properly\n   * refreshed and loaded when sending a request. If you want to ensure that\n   * your credentials are loaded prior to a request, you can use this method\n   * directly to provide accurate credential data stored in the object.\n   *\n   * @note If you configure the SDK with static or environment credentials,\n   *   the credential data should already be present in {credentials} attribute.\n   *   This method is primarily necessary to load credentials from asynchronous\n   *   sources, or sources that can refresh credentials periodically.\n   * @example Getting your access key\n   *   AWS.config.getCredentials(function(err) {\n   *     if (err) console.log(err.stack); // credentials not loaded\n   *     else console.log(\"Access Key:\", AWS.config.credentials.accessKeyId);\n   *   })\n   * @callback callback function(err)\n   *   Called when the {credentials} have been properly set on the configuration\n   *   object.\n   *\n   *   @param err [Error] if this is set, credentials were not successfully\n   *     loaded and this error provides information why.\n   * @see credentials\n   * @see Credentials\n   */\n  getCredentials: function getCredentials(callback) {\n    var self = this;\n\n    function finish(err) {\n      callback(err, err ? null : self.credentials);\n    }\n\n    function credError(msg, err) {\n      return new AWS.util.error(err || new Error(), {\n        code: 'CredentialsError',\n        message: msg,\n        name: 'CredentialsError'\n      });\n    }\n\n    function getAsyncCredentials() {\n      self.credentials.get(function(err) {\n        if (err) {\n          var msg = 'Could not load credentials from ' +\n            self.credentials.constructor.name;\n          err = credError(msg, err);\n        }\n        finish(err);\n      });\n    }\n\n    function getStaticCredentials() {\n      var err = null;\n      if (!self.credentials.accessKeyId || !self.credentials.secretAccessKey) {\n        err = credError('Missing credentials');\n      }\n      finish(err);\n    }\n\n    if (self.credentials) {\n      if (typeof self.credentials.get === 'function') {\n        getAsyncCredentials();\n      } else { // static credentials\n        getStaticCredentials();\n      }\n    } else if (self.credentialProvider) {\n      self.credentialProvider.resolve(function(err, creds) {\n        if (err) {\n          err = credError('Could not load credentials from any providers', err);\n        }\n        self.credentials = creds;\n        finish(err);\n      });\n    } else {\n      finish(credError('No credentials to load'));\n    }\n  },\n\n  /**\n   * @!group Loading and Setting Configuration Options\n   */\n\n  /**\n   * @overload update(options, allowUnknownKeys = false)\n   *   Updates the current configuration object with new options.\n   *\n   *   @example Update maxRetries property of a configuration object\n   *     config.update({maxRetries: 10});\n   *   @param [Object] options a map of option keys and values.\n   *   @param [Boolean] allowUnknownKeys whether unknown keys can be set on\n   *     the configuration object. Defaults to `false`.\n   *   @see constructor\n   */\n  update: function update(options, allowUnknownKeys) {\n    allowUnknownKeys = allowUnknownKeys || false;\n    options = this.extractCredentials(options);\n    AWS.util.each.call(this, options, function (key, value) {\n      if (allowUnknownKeys || Object.prototype.hasOwnProperty.call(this.keys, key) ||\n          AWS.Service.hasService(key)) {\n        this.set(key, value);\n      }\n    });\n  },\n\n  /**\n   * Loads configuration data from a JSON file into this config object.\n   * @note Loading configuration will reset all existing configuration\n   *   on the object.\n   * @!macro nobrowser\n   * @param path [String] the path relative to your process's current\n   *    working directory to load configuration from.\n   * @return [AWS.Config] the same configuration object\n   */\n  loadFromPath: function loadFromPath(path) {\n    this.clear();\n\n    var options = JSON.parse(AWS.util.readFileSync(path));\n    var fileSystemCreds = new AWS.FileSystemCredentials(path);\n    var chain = new AWS.CredentialProviderChain();\n    chain.providers.unshift(fileSystemCreds);\n    chain.resolve(function (err, creds) {\n      if (err) throw err;\n      else options.credentials = creds;\n    });\n\n    this.constructor(options);\n\n    return this;\n  },\n\n  /**\n   * Clears configuration data on this object\n   *\n   * @api private\n   */\n  clear: function clear() {\n    /*jshint forin:false */\n    AWS.util.each.call(this, this.keys, function (key) {\n      delete this[key];\n    });\n\n    // reset credential provider\n    this.set('credentials', undefined);\n    this.set('credentialProvider', undefined);\n  },\n\n  /**\n   * Sets a property on the configuration object, allowing for a\n   * default value\n   * @api private\n   */\n  set: function set(property, value, defaultValue) {\n    if (value === undefined) {\n      if (defaultValue === undefined) {\n        defaultValue = this.keys[property];\n      }\n      if (typeof defaultValue === 'function') {\n        this[property] = defaultValue.call(this);\n      } else {\n        this[property] = defaultValue;\n      }\n    } else if (property === 'httpOptions' && this[property]) {\n      // deep merge httpOptions\n      this[property] = AWS.util.merge(this[property], value);\n    } else {\n      this[property] = value;\n    }\n  },\n\n  /**\n   * All of the keys with their default values.\n   *\n   * @constant\n   * @api private\n   */\n  keys: {\n    credentials: null,\n    credentialProvider: null,\n    region: null,\n    logger: null,\n    apiVersions: {},\n    apiVersion: null,\n    endpoint: undefined,\n    httpOptions: {\n      timeout: 120000\n    },\n    maxRetries: undefined,\n    maxRedirects: 10,\n    paramValidation: true,\n    sslEnabled: true,\n    s3ForcePathStyle: false,\n    s3BucketEndpoint: false,\n    s3DisableBodySigning: true,\n    computeChecksums: true,\n    convertResponseTypes: true,\n    correctClockSkew: false,\n    customUserAgent: null,\n    dynamoDbCrc32: true,\n    systemClockOffset: 0,\n    signatureVersion: null,\n    signatureCache: true,\n    retryDelayOptions: {},\n    useAccelerateEndpoint: false,\n    clientSideMonitoring: false,\n    endpointDiscoveryEnabled: false,\n    endpointCacheSize: 1000,\n    hostPrefixEnabled: true\n  },\n\n  /**\n   * Extracts accessKeyId, secretAccessKey and sessionToken\n   * from a configuration hash.\n   *\n   * @api private\n   */\n  extractCredentials: function extractCredentials(options) {\n    if (options.accessKeyId && options.secretAccessKey) {\n      options = AWS.util.copy(options);\n      options.credentials = new AWS.Credentials(options);\n    }\n    return options;\n  },\n\n  /**\n   * Sets the promise dependency the SDK will use wherever Promises are returned.\n   * Passing `null` will force the SDK to use native Promises if they are available.\n   * If native Promises are not available, passing `null` will have no effect.\n   * @param [Constructor] dep A reference to a Promise constructor\n   */\n  setPromisesDependency: function setPromisesDependency(dep) {\n    PromisesDependency = dep;\n    // if null was passed in, we should try to use native promises\n    if (dep === null && typeof Promise === 'function') {\n      PromisesDependency = Promise;\n    }\n    var constructors = [AWS.Request, AWS.Credentials, AWS.CredentialProviderChain];\n    if (AWS.S3 && AWS.S3.ManagedUpload) constructors.push(AWS.S3.ManagedUpload);\n    AWS.util.addPromises(constructors, PromisesDependency);\n  },\n\n  /**\n   * Gets the promise dependency set by `AWS.config.setPromisesDependency`.\n   */\n  getPromisesDependency: function getPromisesDependency() {\n    return PromisesDependency;\n  }\n});\n\n/**\n * @return [AWS.Config] The global configuration object singleton instance\n * @readonly\n * @see AWS.Config\n */\nAWS.config = new AWS.Config();\n","var AWS = require('./core');\nvar SequentialExecutor = require('./sequential_executor');\nvar DISCOVER_ENDPOINT = require('./discover_endpoint').discoverEndpoint;\n/**\n * The namespace used to register global event listeners for request building\n * and sending.\n */\nAWS.EventListeners = {\n  /**\n   * @!attribute VALIDATE_CREDENTIALS\n   *   A request listener that validates whether the request is being\n   *   sent with credentials.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating credentials\n   *     var listener = AWS.EventListeners.Core.VALIDATE_CREDENTIALS;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_REGION\n   *   A request listener that validates whether the region is set\n   *   for a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating region configuration\n   *     var listener = AWS.EventListeners.Core.VALIDATE_REGION;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_PARAMETERS\n   *   A request listener that validates input parameters in a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating parameters\n   *     var listener = AWS.EventListeners.Core.VALIDATE_PARAMETERS;\n   *     request.removeListener('validate', listener);\n   *   @example Disable parameter validation globally\n   *     AWS.EventListeners.Core.removeListener('validate',\n   *       AWS.EventListeners.Core.VALIDATE_REGION);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute SEND\n   *   A request listener that initiates the HTTP connection for a\n   *   request being sent. Handles the {AWS.Request~send 'send' Request event}\n   *   @example Replacing the HTTP handler\n   *     var listener = AWS.EventListeners.Core.SEND;\n   *     request.removeListener('send', listener);\n   *     request.on('send', function(response) {\n   *       customHandler.send(response);\n   *     });\n   *   @return [Function]\n   *   @readonly\n   * @!attribute HTTP_DATA\n   *   A request listener that reads data from the HTTP connection in order\n   *   to build the response data.\n   *   Handles the {AWS.Request~httpData 'httpData' Request event}.\n   *   Remove this handler if you are overriding the 'httpData' event and\n   *   do not want extra data processing and buffering overhead.\n   *   @example Disabling default data processing\n   *     var listener = AWS.EventListeners.Core.HTTP_DATA;\n   *     request.removeListener('httpData', listener);\n   *   @return [Function]\n   *   @readonly\n   */\n  Core: {} /* doc hack */\n};\n\n/**\n * @api private\n */\nfunction getOperationAuthtype(req) {\n  if (!req.service.api.operations) {\n    return '';\n  }\n  var operation = req.service.api.operations[req.operation];\n  return operation ? operation.authtype : '';\n}\n\nAWS.EventListeners = {\n  Core: new SequentialExecutor().addNamedListeners(function(add, addAsync) {\n    addAsync('VALIDATE_CREDENTIALS', 'validate',\n        function VALIDATE_CREDENTIALS(req, done) {\n      if (!req.service.api.signatureVersion) return done(); // none\n      req.service.config.getCredentials(function(err) {\n        if (err) {\n          req.response.error = AWS.util.error(err,\n            {code: 'CredentialsError', message: 'Missing credentials in config'});\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_REGION', 'validate', function VALIDATE_REGION(req) {\n      if (!req.service.config.region && !req.service.isGlobalEndpoint) {\n        req.response.error = AWS.util.error(new Error(),\n          {code: 'ConfigError', message: 'Missing region in config'});\n      }\n    });\n\n    add('BUILD_IDEMPOTENCY_TOKENS', 'validate', function BUILD_IDEMPOTENCY_TOKENS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      if (!operation) {\n        return;\n      }\n      var idempotentMembers = operation.idempotentMembers;\n      if (!idempotentMembers.length) {\n        return;\n      }\n      // creates a copy of params so user's param object isn't mutated\n      var params = AWS.util.copy(req.params);\n      for (var i = 0, iLen = idempotentMembers.length; i < iLen; i++) {\n        if (!params[idempotentMembers[i]]) {\n          // add the member\n          params[idempotentMembers[i]] = AWS.util.uuid.v4();\n        }\n      }\n      req.params = params;\n    });\n\n    add('VALIDATE_PARAMETERS', 'validate', function VALIDATE_PARAMETERS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var rules = req.service.api.operations[req.operation].input;\n      var validation = req.service.config.paramValidation;\n      new AWS.ParamValidator(validation).validate(rules, req.params);\n    });\n\n    addAsync('COMPUTE_SHA256', 'afterBuild', function COMPUTE_SHA256(req, done) {\n      req.haltHandlersOnError();\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!req.service.api.signatureVersion && !authtype) return done(); // none\n      if (req.service.getSignerClass(req) === AWS.Signers.V4) {\n        var body = req.httpRequest.body || '';\n        if (authtype.indexOf('unsigned-body') >= 0) {\n          req.httpRequest.headers['X-Amz-Content-Sha256'] = 'UNSIGNED-PAYLOAD';\n          return done();\n        }\n        AWS.util.computeSha256(body, function(err, sha) {\n          if (err) {\n            done(err);\n          }\n          else {\n            req.httpRequest.headers['X-Amz-Content-Sha256'] = sha;\n            done();\n          }\n        });\n      } else {\n        done();\n      }\n    });\n\n    add('SET_CONTENT_LENGTH', 'afterBuild', function SET_CONTENT_LENGTH(req) {\n      var authtype = getOperationAuthtype(req);\n      var payloadMember = AWS.util.getRequestPayloadShape(req);\n      if (req.httpRequest.headers['Content-Length'] === undefined) {\n        try {\n          var length = AWS.util.string.byteLength(req.httpRequest.body);\n          req.httpRequest.headers['Content-Length'] = length;\n        } catch (err) {\n          if (payloadMember && payloadMember.isStreaming) {\n            if (payloadMember.requiresLength) {\n              //streaming payload requires length(s3, glacier)\n              throw err;\n            } else if (authtype.indexOf('unsigned-body') >= 0) {\n              //unbounded streaming payload(lex, mediastore)\n              req.httpRequest.headers['Transfer-Encoding'] = 'chunked';\n              return;\n            } else {\n              throw err;\n            }\n          }\n          throw err;\n        }\n      }\n    });\n\n    add('SET_HTTP_HOST', 'afterBuild', function SET_HTTP_HOST(req) {\n      req.httpRequest.headers['Host'] = req.httpRequest.endpoint.host;\n    });\n\n    add('RESTART', 'restart', function RESTART() {\n      var err = this.response.error;\n      if (!err || !err.retryable) return;\n\n      this.httpRequest = new AWS.HttpRequest(\n        this.service.endpoint,\n        this.service.region\n      );\n\n      if (this.response.retryCount < this.service.config.maxRetries) {\n        this.response.retryCount++;\n      } else {\n        this.response.error = null;\n      }\n    });\n\n    var addToHead = true;\n    addAsync('DISCOVER_ENDPOINT', 'sign', DISCOVER_ENDPOINT, addToHead);\n\n    addAsync('SIGN', 'sign', function SIGN(req, done) {\n      var service = req.service;\n      var operations = req.service.api.operations || {};\n      var operation = operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!service.api.signatureVersion && !authtype) return done(); // none\n\n      service.config.getCredentials(function (err, credentials) {\n        if (err) {\n          req.response.error = err;\n          return done();\n        }\n\n        try {\n          var date = service.getSkewCorrectedDate();\n          var SignerClass = service.getSignerClass(req);\n          var signer = new SignerClass(req.httpRequest,\n            service.api.signingName || service.api.endpointPrefix,\n            {\n              signatureCache: service.config.signatureCache,\n              operation: operation,\n              signatureVersion: service.api.signatureVersion\n            });\n          signer.setServiceClientId(service._clientId);\n\n          // clear old authorization headers\n          delete req.httpRequest.headers['Authorization'];\n          delete req.httpRequest.headers['Date'];\n          delete req.httpRequest.headers['X-Amz-Date'];\n\n          // add new authorization\n          signer.addAuthorization(credentials, date);\n          req.signedAt = date;\n        } catch (e) {\n          req.response.error = e;\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_RESPONSE', 'validateResponse', function VALIDATE_RESPONSE(resp) {\n      if (this.service.successfulResponse(resp, this)) {\n        resp.data = {};\n        resp.error = null;\n      } else {\n        resp.data = null;\n        resp.error = AWS.util.error(new Error(),\n          {code: 'UnknownError', message: 'An unknown error occurred.'});\n      }\n    });\n\n    addAsync('SEND', 'send', function SEND(resp, done) {\n      resp.httpResponse._abortCallback = done;\n      resp.error = null;\n      resp.data = null;\n\n      function callback(httpResp) {\n        resp.httpResponse.stream = httpResp;\n        var stream = resp.request.httpRequest.stream;\n        var service = resp.request.service;\n        var api = service.api;\n        var operationName = resp.request.operation;\n        var operation = api.operations[operationName] || {};\n\n        httpResp.on('headers', function onHeaders(statusCode, headers, statusMessage) {\n          resp.request.emit(\n            'httpHeaders',\n            [statusCode, headers, resp, statusMessage]\n          );\n\n          if (!resp.httpResponse.streaming) {\n            if (AWS.HttpClient.streamsApiVersion === 2) { // streams2 API check\n              // if we detect event streams, we're going to have to\n              // return the stream immediately\n              if (operation.hasEventOutput && service.successfulResponse(resp)) {\n                // skip reading the IncomingStream\n                resp.request.emit('httpDone');\n                done();\n                return;\n              }\n\n              httpResp.on('readable', function onReadable() {\n                var data = httpResp.read();\n                if (data !== null) {\n                  resp.request.emit('httpData', [data, resp]);\n                }\n              });\n            } else { // legacy streams API\n              httpResp.on('data', function onData(data) {\n                resp.request.emit('httpData', [data, resp]);\n              });\n            }\n          }\n        });\n\n        httpResp.on('end', function onEnd() {\n          if (!stream || !stream.didCallback) {\n            if (AWS.HttpClient.streamsApiVersion === 2 && (operation.hasEventOutput && service.successfulResponse(resp))) {\n              // don't concatenate response chunks when streaming event stream data when response is successful\n              return;\n            }\n            resp.request.emit('httpDone');\n            done();\n          }\n        });\n      }\n\n      function progress(httpResp) {\n        httpResp.on('sendProgress', function onSendProgress(value) {\n          resp.request.emit('httpUploadProgress', [value, resp]);\n        });\n\n        httpResp.on('receiveProgress', function onReceiveProgress(value) {\n          resp.request.emit('httpDownloadProgress', [value, resp]);\n        });\n      }\n\n      function error(err) {\n        if (err.code !== 'RequestAbortedError') {\n          var errCode = err.code === 'TimeoutError' ? err.code : 'NetworkingError';\n          err = AWS.util.error(err, {\n            code: errCode,\n            region: resp.request.httpRequest.region,\n            hostname: resp.request.httpRequest.endpoint.hostname,\n            retryable: true\n          });\n        }\n        resp.error = err;\n        resp.request.emit('httpError', [resp.error, resp], function() {\n          done();\n        });\n      }\n\n      function executeSend() {\n        var http = AWS.HttpClient.getInstance();\n        var httpOptions = resp.request.service.config.httpOptions || {};\n        try {\n          var stream = http.handleRequest(resp.request.httpRequest, httpOptions,\n                                          callback, error);\n          progress(stream);\n        } catch (err) {\n          error(err);\n        }\n      }\n      var timeDiff = (resp.request.service.getSkewCorrectedDate() - this.signedAt) / 1000;\n      if (timeDiff >= 60 * 10) { // if we signed 10min ago, re-sign\n        this.emit('sign', [this], function(err) {\n          if (err) done(err);\n          else executeSend();\n        });\n      } else {\n        executeSend();\n      }\n    });\n\n    add('HTTP_HEADERS', 'httpHeaders',\n        function HTTP_HEADERS(statusCode, headers, resp, statusMessage) {\n      resp.httpResponse.statusCode = statusCode;\n      resp.httpResponse.statusMessage = statusMessage;\n      resp.httpResponse.headers = headers;\n      resp.httpResponse.body = AWS.util.buffer.toBuffer('');\n      resp.httpResponse.buffers = [];\n      resp.httpResponse.numBytes = 0;\n      var dateHeader = headers.date || headers.Date;\n      var service = resp.request.service;\n      if (dateHeader) {\n        var serverTime = Date.parse(dateHeader);\n        if (service.config.correctClockSkew\n            && service.isClockSkewed(serverTime)) {\n          service.applyClockOffset(serverTime);\n        }\n      }\n    });\n\n    add('HTTP_DATA', 'httpData', function HTTP_DATA(chunk, resp) {\n      if (chunk) {\n        if (AWS.util.isNode()) {\n          resp.httpResponse.numBytes += chunk.length;\n\n          var total = resp.httpResponse.headers['content-length'];\n          var progress = { loaded: resp.httpResponse.numBytes, total: total };\n          resp.request.emit('httpDownloadProgress', [progress, resp]);\n        }\n\n        resp.httpResponse.buffers.push(AWS.util.buffer.toBuffer(chunk));\n      }\n    });\n\n    add('HTTP_DONE', 'httpDone', function HTTP_DONE(resp) {\n      // convert buffers array into single buffer\n      if (resp.httpResponse.buffers && resp.httpResponse.buffers.length > 0) {\n        var body = AWS.util.buffer.concat(resp.httpResponse.buffers);\n        resp.httpResponse.body = body;\n      }\n      delete resp.httpResponse.numBytes;\n      delete resp.httpResponse.buffers;\n    });\n\n    add('FINALIZE_ERROR', 'retry', function FINALIZE_ERROR(resp) {\n      if (resp.httpResponse.statusCode) {\n        resp.error.statusCode = resp.httpResponse.statusCode;\n        if (resp.error.retryable === undefined) {\n          resp.error.retryable = this.service.retryableError(resp.error, this);\n        }\n      }\n    });\n\n    add('INVALIDATE_CREDENTIALS', 'retry', function INVALIDATE_CREDENTIALS(resp) {\n      if (!resp.error) return;\n      switch (resp.error.code) {\n        case 'RequestExpired': // EC2 only\n        case 'ExpiredTokenException':\n        case 'ExpiredToken':\n          resp.error.retryable = true;\n          resp.request.service.config.credentials.expired = true;\n      }\n    });\n\n    add('EXPIRED_SIGNATURE', 'retry', function EXPIRED_SIGNATURE(resp) {\n      var err = resp.error;\n      if (!err) return;\n      if (typeof err.code === 'string' && typeof err.message === 'string') {\n        if (err.code.match(/Signature/) && err.message.match(/expired/)) {\n          resp.error.retryable = true;\n        }\n      }\n    });\n\n    add('CLOCK_SKEWED', 'retry', function CLOCK_SKEWED(resp) {\n      if (!resp.error) return;\n      if (this.service.clockSkewError(resp.error)\n          && this.service.config.correctClockSkew) {\n        resp.error.retryable = true;\n      }\n    });\n\n    add('REDIRECT', 'retry', function REDIRECT(resp) {\n      if (resp.error && resp.error.statusCode >= 300 &&\n          resp.error.statusCode < 400 && resp.httpResponse.headers['location']) {\n        this.httpRequest.endpoint =\n          new AWS.Endpoint(resp.httpResponse.headers['location']);\n        this.httpRequest.headers['Host'] = this.httpRequest.endpoint.host;\n        resp.error.redirect = true;\n        resp.error.retryable = true;\n      }\n    });\n\n    add('RETRY_CHECK', 'retry', function RETRY_CHECK(resp) {\n      if (resp.error) {\n        if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.error.retryDelay = 0;\n        } else if (resp.retryCount < resp.maxRetries) {\n          resp.error.retryDelay = this.service.retryDelays(resp.retryCount) || 0;\n        }\n      }\n    });\n\n    addAsync('RESET_RETRY_STATE', 'afterRetry', function RESET_RETRY_STATE(resp, done) {\n      var delay, willRetry = false;\n\n      if (resp.error) {\n        delay = resp.error.retryDelay || 0;\n        if (resp.error.retryable && resp.retryCount < resp.maxRetries) {\n          resp.retryCount++;\n          willRetry = true;\n        } else if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.redirectCount++;\n          willRetry = true;\n        }\n      }\n\n      if (willRetry) {\n        resp.error = null;\n        setTimeout(done, delay);\n      } else {\n        done();\n      }\n    });\n  }),\n\n  CorePost: new SequentialExecutor().addNamedListeners(function(add) {\n    add('EXTRACT_REQUEST_ID', 'extractData', AWS.util.extractRequestId);\n    add('EXTRACT_REQUEST_ID', 'extractError', AWS.util.extractRequestId);\n\n    add('ENOTFOUND_ERROR', 'httpError', function ENOTFOUND_ERROR(err) {\n      if (err.code === 'NetworkingError' && err.errno === 'ENOTFOUND') {\n        var message = 'Inaccessible host: `' + err.hostname +\n          '\\'. This service may not be available in the `' + err.region +\n          '\\' region.';\n        this.response.error = AWS.util.error(new Error(message), {\n          code: 'UnknownEndpoint',\n          region: err.region,\n          hostname: err.hostname,\n          retryable: true,\n          originalError: err\n        });\n      }\n    });\n  }),\n\n  Logger: new SequentialExecutor().addNamedListeners(function(add) {\n    add('LOG_REQUEST', 'complete', function LOG_REQUEST(resp) {\n      var req = resp.request;\n      var logger = req.service.config.logger;\n      if (!logger) return;\n      function filterSensitiveLog(inputShape, shape) {\n        if (!shape) {\n          return shape;\n        }\n        switch (inputShape.type) {\n          case 'structure':\n            var struct = {};\n            AWS.util.each(shape, function(subShapeName, subShape) {\n              if (Object.prototype.hasOwnProperty.call(inputShape.members, subShapeName)) {\n                struct[subShapeName] = filterSensitiveLog(inputShape.members[subShapeName], subShape);\n              } else {\n                struct[subShapeName] = subShape;\n              }\n            });\n            return struct;\n          case 'list':\n            var list = [];\n            AWS.util.arrayEach(shape, function(subShape, index) {\n              list.push(filterSensitiveLog(inputShape.member, subShape));\n            });\n            return list;\n          case 'map':\n            var map = {};\n            AWS.util.each(shape, function(key, value) {\n              map[key] = filterSensitiveLog(inputShape.value, value);\n            });\n            return map;\n          default:\n            if (inputShape.isSensitive) {\n              return '***SensitiveInformation***';\n            } else {\n              return shape;\n            }\n        }\n      }\n\n      function buildMessage() {\n        var time = resp.request.service.getSkewCorrectedDate().getTime();\n        var delta = (time - req.startTime.getTime()) / 1000;\n        var ansi = logger.isTTY ? true : false;\n        var status = resp.httpResponse.statusCode;\n        var censoredParams = req.params;\n        if (\n          req.service.api.operations &&\n              req.service.api.operations[req.operation] &&\n              req.service.api.operations[req.operation].input\n        ) {\n          var inputShape = req.service.api.operations[req.operation].input;\n          censoredParams = filterSensitiveLog(inputShape, req.params);\n        }\n        var params = require('util').inspect(censoredParams, true, null);\n        var message = '';\n        if (ansi) message += '\\x1B[33m';\n        message += '[AWS ' + req.service.serviceIdentifier + ' ' + status;\n        message += ' ' + delta.toString() + 's ' + resp.retryCount + ' retries]';\n        if (ansi) message += '\\x1B[0;1m';\n        message += ' ' + AWS.util.string.lowerFirst(req.operation);\n        message += '(' + params + ')';\n        if (ansi) message += '\\x1B[0m';\n        return message;\n      }\n\n      var line = buildMessage();\n      if (typeof logger.log === 'function') {\n        logger.log(line);\n      } else if (typeof logger.write === 'function') {\n        logger.write(line + '\\n');\n      }\n    });\n  }),\n\n  Json: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Rest: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestJson: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestXml: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_xml');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Query: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/query');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  })\n};\n","var AWS = require('./core');\nvar util = require('./util');\nvar endpointDiscoveryEnabledEnvs = ['AWS_ENABLE_ENDPOINT_DISCOVERY', 'AWS_ENDPOINT_DISCOVERY_ENABLED'];\n\n/**\n * Generate key (except resources and operation part) to index the endpoints in the cache\n * If input shape has endpointdiscoveryid trait then use\n *   accessKey + operation + resources + region + service as cache key\n * If input shape doesn't have endpointdiscoveryid trait then use\n *   accessKey + region + service as cache key\n * @return [map<String,String>] object with keys to index endpoints.\n * @api private\n */\nfunction getCacheKey(request) {\n  var service = request.service;\n  var api = service.api || {};\n  var operations = api.operations;\n  var identifiers = {};\n  if (service.config.region) {\n    identifiers.region = service.config.region;\n  }\n  if (api.serviceId) {\n    identifiers.serviceId = api.serviceId;\n  }\n  if (service.config.credentials.accessKeyId) {\n    identifiers.accessKeyId = service.config.credentials.accessKeyId;\n  }\n  return identifiers;\n}\n\n/**\n * Recursive helper for marshallCustomIdentifiers().\n * Looks for required string input members that have 'endpointdiscoveryid' trait.\n * @api private\n */\nfunction marshallCustomIdentifiersHelper(result, params, shape) {\n  if (!shape || params === undefined || params === null) return;\n  if (shape.type === 'structure' && shape.required && shape.required.length > 0) {\n    util.arrayEach(shape.required, function(name) {\n      var memberShape = shape.members[name];\n      if (memberShape.endpointDiscoveryId === true) {\n        var locationName = memberShape.isLocationName ? memberShape.name : name;\n        result[locationName] = String(params[name]);\n      } else {\n        marshallCustomIdentifiersHelper(result, params[name], memberShape);\n      }\n    });\n  }\n}\n\n/**\n * Get custom identifiers for cache key.\n * Identifies custom identifiers by checking each shape's `endpointDiscoveryId` trait.\n * @param [object] request object\n * @param [object] input shape of the given operation's api\n * @api private\n */\nfunction marshallCustomIdentifiers(request, shape) {\n  var identifiers = {};\n  marshallCustomIdentifiersHelper(identifiers, request.params, shape);\n  return identifiers;\n}\n\n/**\n * Call endpoint discovery operation when it's optional.\n * When endpoint is available in cache then use the cached endpoints. If endpoints\n * are unavailable then use regional endpoints and call endpoint discovery operation\n * asynchronously. This is turned off by default.\n * @param [object] request object\n * @api private\n */\nfunction optionalDiscoverEndpoint(request) {\n  var service = request.service;\n  var api = service.api;\n  var operationModel = api.operations ? api.operations[request.operation] : undefined;\n  var inputShape = operationModel ? operationModel.input : undefined;\n\n  var identifiers = marshallCustomIdentifiers(request, inputShape);\n  var cacheKey = getCacheKey(request);\n  if (Object.keys(identifiers).length > 0) {\n    cacheKey = util.update(cacheKey, identifiers);\n    if (operationModel) cacheKey.operation = operationModel.name;\n  }\n  var endpoints = AWS.endpointCache.get(cacheKey);\n  if (endpoints && endpoints.length === 1 && endpoints[0].Address === '') {\n    //endpoint operation is being made but response not yet received\n    //or endpoint operation just failed in 1 minute\n    return;\n  } else if (endpoints && endpoints.length > 0) {\n    //found endpoint record from cache\n    request.httpRequest.updateEndpoint(endpoints[0].Address);\n  } else {\n    //endpoint record not in cache or outdated. make discovery operation\n    var endpointRequest = service.makeRequest(api.endpointOperation, {\n      Operation: operationModel.name,\n      Identifiers: identifiers,\n    });\n    addApiVersionHeader(endpointRequest);\n    endpointRequest.removeListener('validate', AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    endpointRequest.removeListener('retry', AWS.EventListeners.Core.RETRY_CHECK);\n    //put in a placeholder for endpoints already requested, prevent\n    //too much in-flight calls\n    AWS.endpointCache.put(cacheKey, [{\n      Address: '',\n      CachePeriodInMinutes: 1\n    }]);\n    endpointRequest.send(function(err, data) {\n      if (data && data.Endpoints) {\n        AWS.endpointCache.put(cacheKey, data.Endpoints);\n      } else if (err) {\n        AWS.endpointCache.put(cacheKey, [{\n          Address: '',\n          CachePeriodInMinutes: 1 //not to make more endpoint operation in next 1 minute\n        }]);\n      }\n    });\n  }\n}\n\nvar requestQueue = {};\n\n/**\n * Call endpoint discovery operation when it's required.\n * When endpoint is available in cache then use cached ones. If endpoints are\n * unavailable then SDK should call endpoint operation then use returned new\n * endpoint for the api call. SDK will automatically attempt to do endpoint\n * discovery. This is turned off by default\n * @param [object] request object\n * @api private\n */\nfunction requiredDiscoverEndpoint(request, done) {\n  var service = request.service;\n  var api = service.api;\n  var operationModel = api.operations ? api.operations[request.operation] : undefined;\n  var inputShape = operationModel ? operationModel.input : undefined;\n\n  var identifiers = marshallCustomIdentifiers(request, inputShape);\n  var cacheKey = getCacheKey(request);\n  if (Object.keys(identifiers).length > 0) {\n    cacheKey = util.update(cacheKey, identifiers);\n    if (operationModel) cacheKey.operation = operationModel.name;\n  }\n  var cacheKeyStr = AWS.EndpointCache.getKeyString(cacheKey);\n  var endpoints = AWS.endpointCache.get(cacheKeyStr); //endpoint cache also accepts string keys\n  if (endpoints && endpoints.length === 1 && endpoints[0].Address === '') {\n    //endpoint operation is being made but response not yet received\n    //push request object to a pending queue\n    if (!requestQueue[cacheKeyStr]) requestQueue[cacheKeyStr] = [];\n    requestQueue[cacheKeyStr].push({request: request, callback: done});\n    return;\n  } else if (endpoints && endpoints.length > 0) {\n    request.httpRequest.updateEndpoint(endpoints[0].Address);\n    done();\n  } else {\n    var endpointRequest = service.makeRequest(api.endpointOperation, {\n      Operation: operationModel.name,\n      Identifiers: identifiers,\n    });\n    endpointRequest.removeListener('validate', AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    addApiVersionHeader(endpointRequest);\n\n    //put in a placeholder for endpoints already requested, prevent\n    //too much in-flight calls\n    AWS.endpointCache.put(cacheKeyStr, [{\n      Address: '',\n      CachePeriodInMinutes: 60 //long-live cache\n    }]);\n    endpointRequest.send(function(err, data) {\n      if (err) {\n        var errorParams = {\n          code: 'EndpointDiscoveryException',\n          message: 'Request cannot be fulfilled without specifying an endpoint',\n          retryable: false\n        };\n        request.response.error = util.error(err, errorParams);\n        AWS.endpointCache.remove(cacheKey);\n\n        //fail all the pending requests in batch\n        if (requestQueue[cacheKeyStr]) {\n          var pendingRequests = requestQueue[cacheKeyStr];\n          util.arrayEach(pendingRequests, function(requestContext) {\n            requestContext.request.response.error = util.error(err, errorParams);\n            requestContext.callback();\n          });\n          delete requestQueue[cacheKeyStr];\n        }\n      } else if (data) {\n        AWS.endpointCache.put(cacheKeyStr, data.Endpoints);\n        request.httpRequest.updateEndpoint(data.Endpoints[0].Address);\n\n        //update the endpoint for all the pending requests in batch\n        if (requestQueue[cacheKeyStr]) {\n          var pendingRequests = requestQueue[cacheKeyStr];\n          util.arrayEach(pendingRequests, function(requestContext) {\n            requestContext.request.httpRequest.updateEndpoint(data.Endpoints[0].Address);\n            requestContext.callback();\n          });\n          delete requestQueue[cacheKeyStr];\n        }\n      }\n      done();\n    });\n  }\n}\n\n/**\n * add api version header to endpoint operation\n * @api private\n */\nfunction addApiVersionHeader(endpointRequest) {\n  var api = endpointRequest.service.api;\n  var apiVersion = api.apiVersion;\n  if (apiVersion && !endpointRequest.httpRequest.headers['x-amz-api-version']) {\n    endpointRequest.httpRequest.headers['x-amz-api-version'] = apiVersion;\n  }\n}\n\n/**\n * If api call gets invalid endpoint exception, SDK should attempt to remove the invalid\n * endpoint from cache.\n * @api private\n */\nfunction invalidateCachedEndpoints(response) {\n  var error = response.error;\n  var httpResponse = response.httpResponse;\n  if (error &&\n    (error.code === 'InvalidEndpointException' || httpResponse.statusCode === 421)\n  ) {\n    var request = response.request;\n    var operations = request.service.api.operations || {};\n    var inputShape = operations[request.operation] ? operations[request.operation].input : undefined;\n    var identifiers = marshallCustomIdentifiers(request, inputShape);\n    var cacheKey = getCacheKey(request);\n    if (Object.keys(identifiers).length > 0) {\n      cacheKey = util.update(cacheKey, identifiers);\n      if (operations[request.operation]) cacheKey.operation = operations[request.operation].name;\n    }\n    AWS.endpointCache.remove(cacheKey);\n  }\n}\n\n/**\n * If endpoint is explicitly configured, SDK should not do endpoint discovery in anytime.\n * @param [object] client Service client object.\n * @api private\n */\nfunction hasCustomEndpoint(client) {\n  //if set endpoint is set for specific client, enable endpoint discovery will raise an error.\n  if (client._originalConfig && client._originalConfig.endpoint && client._originalConfig.endpointDiscoveryEnabled === true) {\n    throw util.error(new Error(), {\n      code: 'ConfigurationException',\n      message: 'Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.'\n    });\n  };\n  var svcConfig = AWS.config[client.serviceIdentifier] || {};\n  return Boolean(AWS.config.endpoint || svcConfig.endpoint || (client._originalConfig && client._originalConfig.endpoint));\n}\n\n/**\n * @api private\n */\nfunction isFalsy(value) {\n  return ['false', '0'].indexOf(value) >= 0;\n}\n\n/**\n * If endpoint discovery should perform for this request when endpoint discovery is optional.\n * SDK performs config resolution in order like below:\n * 1. If turned on client configuration(default to off) then turn on endpoint discovery.\n * 2. If turned on in env AWS_ENABLE_ENDPOINT_DISCOVERY then turn on endpoint discovery.\n * 3. If turned on in shared ini config file with key 'endpoint_discovery_enabled', then\n *   turn on endpoint discovery.\n * @param [object] request request object.\n * @api private\n */\nfunction isEndpointDiscoveryApplicable(request) {\n  var service = request.service || {};\n  if (service.config.endpointDiscoveryEnabled === true) return true;\n\n  //shared ini file is only available in Node\n  //not to check env in browser\n  if (util.isBrowser()) return false;\n\n  for (var i = 0; i < endpointDiscoveryEnabledEnvs.length; i++) {\n    var env = endpointDiscoveryEnabledEnvs[i];\n    if (Object.prototype.hasOwnProperty.call(process.env, env)) {\n      if (process.env[env] === '' || process.env[env] === undefined) {\n        throw util.error(new Error(), {\n          code: 'ConfigurationException',\n          message: 'environmental variable ' + env + ' cannot be set to nothing'\n        });\n      }\n      if (!isFalsy(process.env[env])) return true;\n    }\n  }\n\n  var configFile = {};\n  try {\n    configFile = AWS.util.iniLoader ? AWS.util.iniLoader.loadFrom({\n      isConfig: true,\n      filename: process.env[AWS.util.sharedConfigFileEnv]\n    }) : {};\n  } catch (e) {}\n  var sharedFileConfig = configFile[\n    process.env.AWS_PROFILE || AWS.util.defaultProfile\n  ] || {};\n  if (Object.prototype.hasOwnProperty.call(sharedFileConfig, 'endpoint_discovery_enabled')) {\n    if (sharedFileConfig.endpoint_discovery_enabled === undefined) {\n      throw util.error(new Error(), {\n        code: 'ConfigurationException',\n        message: 'config file entry \\'endpoint_discovery_enabled\\' cannot be set to nothing'\n      });\n    }\n    if (!isFalsy(sharedFileConfig.endpoint_discovery_enabled)) return true;\n  }\n  return false;\n}\n\n/**\n * attach endpoint discovery logic to request object\n * @param [object] request\n * @api private\n */\nfunction discoverEndpoint(request, done) {\n  var service = request.service || {};\n  if (hasCustomEndpoint(service) || request.isPresigned()) return done();\n\n  if (!isEndpointDiscoveryApplicable(request)) return done();\n\n  request.httpRequest.appendToUserAgent('endpoint-discovery');\n\n  var operations = service.api.operations || {};\n  var operationModel = operations[request.operation];\n  var isEndpointDiscoveryRequired = operationModel ? operationModel.endpointDiscoveryRequired : 'NULL';\n  switch (isEndpointDiscoveryRequired) {\n    case 'OPTIONAL':\n      optionalDiscoverEndpoint(request);\n      request.addNamedListener('INVALIDATE_CACHED_ENDPOINTS', 'extractError', invalidateCachedEndpoints);\n      done();\n      break;\n    case 'REQUIRED':\n      request.addNamedListener('INVALIDATE_CACHED_ENDPOINTS', 'extractError', invalidateCachedEndpoints);\n      requiredDiscoverEndpoint(request, done);\n      break;\n    case 'NULL':\n    default:\n      done();\n      break;\n  }\n}\n\nmodule.exports = {\n  discoverEndpoint: discoverEndpoint,\n  requiredDiscoverEndpoint: requiredDiscoverEndpoint,\n  optionalDiscoverEndpoint: optionalDiscoverEndpoint,\n  marshallCustomIdentifiers: marshallCustomIdentifiers,\n  getCacheKey: getCacheKey,\n  invalidateCachedEndpoint: invalidateCachedEndpoints,\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","var AWS = require('./core');\nvar AcceptorStateMachine = require('./state_machine');\nvar inherit = AWS.util.inherit;\nvar domain = AWS.util.domain;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nvar hardErrorStates = {success: 1, error: 1, complete: 1};\n\nfunction isTerminalState(machine) {\n  return Object.prototype.hasOwnProperty.call(hardErrorStates, machine._asm.currentState);\n}\n\nvar fsm = new AcceptorStateMachine();\nfsm.setupStates = function() {\n  var transition = function(_, done) {\n    var self = this;\n    self._haltHandlersOnError = false;\n\n    self.emit(self._asm.currentState, function(err) {\n      if (err) {\n        if (isTerminalState(self)) {\n          if (domain && self.domain instanceof domain.Domain) {\n            err.domainEmitter = self;\n            err.domain = self.domain;\n            err.domainThrown = false;\n            self.domain.emit('error', err);\n          } else {\n            throw err;\n          }\n        } else {\n          self.response.error = err;\n          done(err);\n        }\n      } else {\n        done(self.response.error);\n      }\n    });\n\n  };\n\n  this.addState('validate', 'build', 'error', transition);\n  this.addState('build', 'afterBuild', 'restart', transition);\n  this.addState('afterBuild', 'sign', 'restart', transition);\n  this.addState('sign', 'send', 'retry', transition);\n  this.addState('retry', 'afterRetry', 'afterRetry', transition);\n  this.addState('afterRetry', 'sign', 'error', transition);\n  this.addState('send', 'validateResponse', 'retry', transition);\n  this.addState('validateResponse', 'extractData', 'extractError', transition);\n  this.addState('extractError', 'extractData', 'retry', transition);\n  this.addState('extractData', 'success', 'retry', transition);\n  this.addState('restart', 'build', 'error', transition);\n  this.addState('success', 'complete', 'complete', transition);\n  this.addState('error', 'complete', 'complete', transition);\n  this.addState('complete', null, null, transition);\n};\nfsm.setupStates();\n\n/**\n * ## Asynchronous Requests\n *\n * All requests made through the SDK are asynchronous and use a\n * callback interface. Each service method that kicks off a request\n * returns an `AWS.Request` object that you can use to register\n * callbacks.\n *\n * For example, the following service method returns the request\n * object as \"request\", which can be used to register callbacks:\n *\n * ```javascript\n * // request is an AWS.Request object\n * var request = ec2.describeInstances();\n *\n * // register callbacks on request to retrieve response data\n * request.on('success', function(response) {\n *   console.log(response.data);\n * });\n * ```\n *\n * When a request is ready to be sent, the {send} method should\n * be called:\n *\n * ```javascript\n * request.send();\n * ```\n *\n * Since registered callbacks may or may not be idempotent, requests should only\n * be sent once. To perform the same operation multiple times, you will need to\n * create multiple request objects, each with its own registered callbacks.\n *\n * ## Removing Default Listeners for Events\n *\n * Request objects are built with default listeners for the various events,\n * depending on the service type. In some cases, you may want to remove\n * some built-in listeners to customize behaviour. Doing this requires\n * access to the built-in listener functions, which are exposed through\n * the {AWS.EventListeners.Core} namespace. For instance, you may\n * want to customize the HTTP handler used when sending a request. In this\n * case, you can remove the built-in listener associated with the 'send'\n * event, the {AWS.EventListeners.Core.SEND} listener and add your own.\n *\n * ## Multiple Callbacks and Chaining\n *\n * You can register multiple callbacks on any request object. The\n * callbacks can be registered for different events, or all for the\n * same event. In addition, you can chain callback registration, for\n * example:\n *\n * ```javascript\n * request.\n *   on('success', function(response) {\n *     console.log(\"Success!\");\n *   }).\n *   on('error', function(error, response) {\n *     console.log(\"Error!\");\n *   }).\n *   on('complete', function(response) {\n *     console.log(\"Always!\");\n *   }).\n *   send();\n * ```\n *\n * The above example will print either \"Success! Always!\", or \"Error! Always!\",\n * depending on whether the request succeeded or not.\n *\n * @!attribute httpRequest\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpRequest] the raw HTTP request object\n *     containing request headers and body information\n *     sent by the service.\n *\n * @!attribute startTime\n *   @readonly\n *   @!group Operation Properties\n *   @return [Date] the time that the request started\n *\n * @!group Request Building Events\n *\n * @!event validate(request)\n *   Triggered when a request is being validated. Listeners\n *   should throw an error if the request should not be sent.\n *   @param request [Request] the request object being sent\n *   @see AWS.EventListeners.Core.VALIDATE_CREDENTIALS\n *   @see AWS.EventListeners.Core.VALIDATE_REGION\n *   @example Ensuring that a certain parameter is set before sending a request\n *     var req = s3.putObject(params);\n *     req.on('validate', function() {\n *       if (!req.params.Body.match(/^Hello\\s/)) {\n *         throw new Error('Body must start with \"Hello \"');\n *       }\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event build(request)\n *   Triggered when the request payload is being built. Listeners\n *   should fill the necessary information to send the request\n *   over HTTP.\n *   @param (see AWS.Request~validate)\n *   @example Add a custom HTTP header to a request\n *     var req = s3.putObject(params);\n *     req.on('build', function() {\n *       req.httpRequest.headers['Custom-Header'] = 'value';\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event sign(request)\n *   Triggered when the request is being signed. Listeners should\n *   add the correct authentication headers and/or adjust the body,\n *   depending on the authentication mechanism being used.\n *   @param (see AWS.Request~validate)\n *\n * @!group Request Sending Events\n *\n * @!event send(response)\n *   Triggered when the request is ready to be sent. Listeners\n *   should call the underlying transport layer to initiate\n *   the sending of the request.\n *   @param response [Response] the response object\n *   @context [Request] the request object that was sent\n *   @see AWS.EventListeners.Core.SEND\n *\n * @!event retry(response)\n *   Triggered when a request failed and might need to be retried or redirected.\n *   If the response is retryable, the listener should set the\n *   `response.error.retryable` property to `true`, and optionally set\n *   `response.error.retryDelay` to the millisecond delay for the next attempt.\n *   In the case of a redirect, `response.error.redirect` should be set to\n *   `true` with `retryDelay` set to an optional delay on the next request.\n *\n *   If a listener decides that a request should not be retried,\n *   it should set both `retryable` and `redirect` to false.\n *\n *   Note that a retryable error will be retried at most\n *   {AWS.Config.maxRetries} times (based on the service object's config).\n *   Similarly, a request that is redirected will only redirect at most\n *   {AWS.Config.maxRedirects} times.\n *\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @example Adding a custom retry for a 404 response\n *     request.on('retry', function(response) {\n *       // this resource is not yet available, wait 10 seconds to get it again\n *       if (response.httpResponse.statusCode === 404 && response.error) {\n *         response.error.retryable = true;   // retry this error\n *         response.error.retryDelay = 10000; // wait 10 seconds\n *       }\n *     });\n *\n * @!group Data Parsing Events\n *\n * @!event extractError(response)\n *   Triggered on all non-2xx requests so that listeners can extract\n *   error details from the response body. Listeners to this event\n *   should set the `response.error` property.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event extractData(response)\n *   Triggered in successful requests to allow listeners to\n *   de-serialize the response body into `response.data`.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group Completion Events\n *\n * @!event success(response)\n *   Triggered when the request completed successfully.\n *   `response.data` will contain the response data and\n *   `response.error` will be null.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event error(error, response)\n *   Triggered when an error occurs at any point during the\n *   request. `response.error` will contain details about the error\n *   that occurred. `response.data` will be null.\n *   @param error [Error] the error object containing details about\n *     the error that occurred.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event complete(response)\n *   Triggered whenever a request cycle completes. `response.error`\n *   should be checked, since the request may have failed.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group HTTP Events\n *\n * @!event httpHeaders(statusCode, headers, response, statusMessage)\n *   Triggered when headers are sent by the remote server\n *   @param statusCode [Integer] the HTTP response code\n *   @param headers [map<String,String>] the response headers\n *   @param (see AWS.Request~send)\n *   @param statusMessage [String] A status message corresponding to the HTTP\n *                                 response code\n *   @context (see AWS.Request~send)\n *\n * @!event httpData(chunk, response)\n *   Triggered when data is sent by the remote server\n *   @param chunk [Buffer] the buffer data containing the next data chunk\n *     from the server\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @see AWS.EventListeners.Core.HTTP_DATA\n *\n * @!event httpUploadProgress(progress, response)\n *   Triggered when the HTTP request has uploaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpDownloadProgress(progress, response)\n *   Triggered when the HTTP request has downloaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpError(error, response)\n *   Triggered when the HTTP request failed\n *   @param error [Error] the error object that was thrown\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event httpDone(response)\n *   Triggered when the server is finished sending data\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @see AWS.Response\n */\nAWS.Request = inherit({\n\n  /**\n   * Creates a request for an operation on a given service with\n   * a set of input parameters.\n   *\n   * @param service [AWS.Service] the service to perform the operation on\n   * @param operation [String] the operation to perform on the service\n   * @param params [Object] parameters to send to the operation.\n   *   See the operation's documentation for the format of the\n   *   parameters.\n   */\n  constructor: function Request(service, operation, params) {\n    var endpoint = service.endpoint;\n    var region = service.config.region;\n    var customUserAgent = service.config.customUserAgent;\n\n    // global endpoints sign as us-east-1\n    if (service.isGlobalEndpoint) region = 'us-east-1';\n\n    this.domain = domain && domain.active;\n    this.service = service;\n    this.operation = operation;\n    this.params = params || {};\n    this.httpRequest = new AWS.HttpRequest(endpoint, region);\n    this.httpRequest.appendToUserAgent(customUserAgent);\n    this.startTime = service.getSkewCorrectedDate();\n\n    this.response = new AWS.Response(this);\n    this._asm = new AcceptorStateMachine(fsm.states, 'validate');\n    this._haltHandlersOnError = false;\n\n    AWS.SequentialExecutor.call(this);\n    this.emit = this.emitEvent;\n  },\n\n  /**\n   * @!group Sending a Request\n   */\n\n  /**\n   * @overload send(callback = null)\n   *   Sends the request object.\n   *\n   *   @callback callback function(err, data)\n   *     If a callback is supplied, it is called when a response is returned\n   *     from the service.\n   *     @context [AWS.Request] the request object being sent.\n   *     @param err [Error] the error object returned from the request.\n   *       Set to `null` if the request is successful.\n   *     @param data [Object] the de-serialized data returned from\n   *       the request. Set to `null` if a request error occurs.\n   *   @example Sending a request with a callback\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.send(function(err, data) { console.log(err, data); });\n   *   @example Sending a request with no callback (using event handlers)\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.on('complete', function(response) { ... }); // register a callback\n   *     request.send();\n   */\n  send: function send(callback) {\n    if (callback) {\n      // append to user agent\n      this.httpRequest.appendToUserAgent('callback');\n      this.on('complete', function (resp) {\n        callback.call(resp, resp.error, resp.data);\n      });\n    }\n    this.runTo();\n\n    return this.response;\n  },\n\n  /**\n   * @!method  promise()\n   *   Sends the request and returns a 'thenable' promise.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(data)\n   *     Called if the promise is fulfilled.\n   *     @param data [Object] the de-serialized data returned from the request.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param error [Error] the error object returned from the request.\n   *   @return [Promise] A promise that represents the state of the request.\n   *   @example Sending a request using promises.\n   *     var request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     var result = request.promise();\n   *     result.then(function(data) { ... }, function(error) { ... });\n   */\n\n  /**\n   * @api private\n   */\n  build: function build(callback) {\n    return this.runTo('send', callback);\n  },\n\n  /**\n   * @api private\n   */\n  runTo: function runTo(state, done) {\n    this._asm.runTo(state, done, this);\n    return this;\n  },\n\n  /**\n   * Aborts a request, emitting the error and complete events.\n   *\n   * @!macro nobrowser\n   * @example Aborting a request after sending\n   *   var params = {\n   *     Bucket: 'bucket', Key: 'key',\n   *     Body: Buffer.alloc(1024 * 1024 * 5) // 5MB payload\n   *   };\n   *   var request = s3.putObject(params);\n   *   request.send(function (err, data) {\n   *     if (err) console.log(\"Error:\", err.code, err.message);\n   *     else console.log(data);\n   *   });\n   *\n   *   // abort request in 1 second\n   *   setTimeout(request.abort.bind(request), 1000);\n   *\n   *   // prints \"Error: RequestAbortedError Request aborted by user\"\n   * @return [AWS.Request] the same request object, for chaining.\n   * @since v1.4.0\n   */\n  abort: function abort() {\n    this.removeAllListeners('validateResponse');\n    this.removeAllListeners('extractError');\n    this.on('validateResponse', function addAbortedError(resp) {\n      resp.error = AWS.util.error(new Error('Request aborted by user'), {\n         code: 'RequestAbortedError', retryable: false\n      });\n    });\n\n    if (this.httpRequest.stream && !this.httpRequest.stream.didCallback) { // abort HTTP stream\n      this.httpRequest.stream.abort();\n      if (this.httpRequest._abortCallback) {\n         this.httpRequest._abortCallback();\n      } else {\n        this.removeAllListeners('send'); // haven't sent yet, so let's not\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * Iterates over each page of results given a pageable request, calling\n   * the provided callback with each page of data. After all pages have been\n   * retrieved, the callback is called with `null` data.\n   *\n   * @note This operation can generate multiple requests to a service.\n   * @example Iterating over multiple pages of objects in an S3 bucket\n   *   var pages = 1;\n   *   s3.listObjects().eachPage(function(err, data) {\n   *     if (err) return;\n   *     console.log(\"Page\", pages++);\n   *     console.log(data);\n   *   });\n   * @example Iterating over multiple pages with an asynchronous callback\n   *   s3.listObjects(params).eachPage(function(err, data, done) {\n   *     doSomethingAsyncAndOrExpensive(function() {\n   *       // The next page of results isn't fetched until done is called\n   *       done();\n   *     });\n   *   });\n   * @callback callback function(err, data, [doneCallback])\n   *   Called with each page of resulting data from the request. If the\n   *   optional `doneCallback` is provided in the function, it must be called\n   *   when the callback is complete.\n   *\n   *   @param err [Error] an error object, if an error occurred.\n   *   @param data [Object] a single page of response data. If there is no\n   *     more data, this object will be `null`.\n   *   @param doneCallback [Function] an optional done callback. If this\n   *     argument is defined in the function declaration, it should be called\n   *     when the next page is ready to be retrieved. This is useful for\n   *     controlling serial pagination across asynchronous operations.\n   *   @return [Boolean] if the callback returns `false`, pagination will\n   *     stop.\n   *\n   * @see AWS.Request.eachItem\n   * @see AWS.Response.nextPage\n   * @since v1.4.0\n   */\n  eachPage: function eachPage(callback) {\n    // Make all callbacks async-ish\n    callback = AWS.util.fn.makeAsync(callback, 3);\n\n    function wrappedCallback(response) {\n      callback.call(response, response.error, response.data, function (result) {\n        if (result === false) return;\n\n        if (response.hasNextPage()) {\n          response.nextPage().on('complete', wrappedCallback).send();\n        } else {\n          callback.call(response, null, null, AWS.util.fn.noop);\n        }\n      });\n    }\n\n    this.on('complete', wrappedCallback).send();\n  },\n\n  /**\n   * Enumerates over individual items of a request, paging the responses if\n   * necessary.\n   *\n   * @api experimental\n   * @since v1.4.0\n   */\n  eachItem: function eachItem(callback) {\n    var self = this;\n    function wrappedCallback(err, data) {\n      if (err) return callback(err, null);\n      if (data === null) return callback(null, null);\n\n      var config = self.service.paginationConfig(self.operation);\n      var resultKey = config.resultKey;\n      if (Array.isArray(resultKey)) resultKey = resultKey[0];\n      var items = jmespath.search(data, resultKey);\n      var continueIteration = true;\n      AWS.util.arrayEach(items, function(item) {\n        continueIteration = callback(null, item);\n        if (continueIteration === false) {\n          return AWS.util.abort;\n        }\n      });\n      return continueIteration;\n    }\n\n    this.eachPage(wrappedCallback);\n  },\n\n  /**\n   * @return [Boolean] whether the operation can return multiple pages of\n   *   response data.\n   * @see AWS.Response.eachPage\n   * @since v1.4.0\n   */\n  isPageable: function isPageable() {\n    return this.service.paginationConfig(this.operation) ? true : false;\n  },\n\n  /**\n   * Sends the request and converts the request object into a readable stream\n   * that can be read from or piped into a writable stream.\n   *\n   * @note The data read from a readable stream contains only\n   *   the raw HTTP body contents.\n   * @example Manually reading from a stream\n   *   request.createReadStream().on('data', function(data) {\n   *     console.log(\"Got data:\", data.toString());\n   *   });\n   * @example Piping a request body into a file\n   *   var out = fs.createWriteStream('/path/to/outfile.jpg');\n   *   s3.service.getObject(params).createReadStream().pipe(out);\n   * @return [Stream] the readable stream object that can be piped\n   *   or read from (by registering 'data' event listeners).\n   * @!macro nobrowser\n   */\n  createReadStream: function createReadStream() {\n    var streams = AWS.util.stream;\n    var req = this;\n    var stream = null;\n\n    if (AWS.HttpClient.streamsApiVersion === 2) {\n      stream = new streams.PassThrough();\n      process.nextTick(function() { req.send(); });\n    } else {\n      stream = new streams.Stream();\n      stream.readable = true;\n\n      stream.sent = false;\n      stream.on('newListener', function(event) {\n        if (!stream.sent && event === 'data') {\n          stream.sent = true;\n          process.nextTick(function() { req.send(); });\n        }\n      });\n    }\n\n    this.on('error', function(err) {\n      stream.emit('error', err);\n    });\n\n    this.on('httpHeaders', function streamHeaders(statusCode, headers, resp) {\n      if (statusCode < 300) {\n        req.removeListener('httpData', AWS.EventListeners.Core.HTTP_DATA);\n        req.removeListener('httpError', AWS.EventListeners.Core.HTTP_ERROR);\n        req.on('httpError', function streamHttpError(error) {\n          resp.error = error;\n          resp.error.retryable = false;\n        });\n\n        var shouldCheckContentLength = false;\n        var expectedLen;\n        if (req.httpRequest.method !== 'HEAD') {\n          expectedLen = parseInt(headers['content-length'], 10);\n        }\n        if (expectedLen !== undefined && !isNaN(expectedLen) && expectedLen >= 0) {\n          shouldCheckContentLength = true;\n          var receivedLen = 0;\n        }\n\n        var checkContentLengthAndEmit = function checkContentLengthAndEmit() {\n          if (shouldCheckContentLength && receivedLen !== expectedLen) {\n            stream.emit('error', AWS.util.error(\n              new Error('Stream content length mismatch. Received ' +\n                receivedLen + ' of ' + expectedLen + ' bytes.'),\n              { code: 'StreamContentLengthMismatch' }\n            ));\n          } else if (AWS.HttpClient.streamsApiVersion === 2) {\n            stream.end();\n          } else {\n            stream.emit('end');\n          }\n        };\n\n        var httpStream = resp.httpResponse.createUnbufferedStream();\n\n        if (AWS.HttpClient.streamsApiVersion === 2) {\n          if (shouldCheckContentLength) {\n            var lengthAccumulator = new streams.PassThrough();\n            lengthAccumulator._write = function(chunk) {\n              if (chunk && chunk.length) {\n                receivedLen += chunk.length;\n              }\n              return streams.PassThrough.prototype._write.apply(this, arguments);\n            };\n\n            lengthAccumulator.on('end', checkContentLengthAndEmit);\n            stream.on('error', function(err) {\n              shouldCheckContentLength = false;\n              httpStream.unpipe(lengthAccumulator);\n              lengthAccumulator.emit('end');\n              lengthAccumulator.end();\n            });\n            httpStream.pipe(lengthAccumulator).pipe(stream, { end: false });\n          } else {\n            httpStream.pipe(stream);\n          }\n        } else {\n\n          if (shouldCheckContentLength) {\n            httpStream.on('data', function(arg) {\n              if (arg && arg.length) {\n                receivedLen += arg.length;\n              }\n            });\n          }\n\n          httpStream.on('data', function(arg) {\n            stream.emit('data', arg);\n          });\n          httpStream.on('end', checkContentLengthAndEmit);\n        }\n\n        httpStream.on('error', function(err) {\n          shouldCheckContentLength = false;\n          stream.emit('error', err);\n        });\n      }\n    });\n\n    return stream;\n  },\n\n  /**\n   * @param [Array,Response] args This should be the response object,\n   *   or an array of args to send to the event.\n   * @api private\n   */\n  emitEvent: function emit(eventName, args, done) {\n    if (typeof args === 'function') { done = args; args = null; }\n    if (!done) done = function() { };\n    if (!args) args = this.eventParameters(eventName, this.response);\n\n    var origEmit = AWS.SequentialExecutor.prototype.emit;\n    origEmit.call(this, eventName, args, function (err) {\n      if (err) this.response.error = err;\n      done.call(this, err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  eventParameters: function eventParameters(eventName) {\n    switch (eventName) {\n      case 'restart':\n      case 'validate':\n      case 'sign':\n      case 'build':\n      case 'afterValidate':\n      case 'afterBuild':\n        return [this];\n      case 'error':\n        return [this.response.error, this.response];\n      default:\n        return [this.response];\n    }\n  },\n\n  /**\n   * @api private\n   */\n  presign: function presign(expires, callback) {\n    if (!callback && typeof expires === 'function') {\n      callback = expires;\n      expires = null;\n    }\n    return new AWS.Signers.Presign().sign(this.toGet(), expires, callback);\n  },\n\n  /**\n   * @api private\n   */\n  isPresigned: function isPresigned() {\n    return Object.prototype.hasOwnProperty.call(this.httpRequest.headers, 'presigned-expires');\n  },\n\n  /**\n   * @api private\n   */\n  toUnauthenticated: function toUnauthenticated() {\n    this._unAuthenticated = true;\n    this.removeListener('validate', AWS.EventListeners.Core.VALIDATE_CREDENTIALS);\n    this.removeListener('sign', AWS.EventListeners.Core.SIGN);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  toGet: function toGet() {\n    if (this.service.api.protocol === 'query' ||\n        this.service.api.protocol === 'ec2') {\n      this.removeListener('build', this.buildAsGet);\n      this.addListener('build', this.buildAsGet);\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  buildAsGet: function buildAsGet(request) {\n    request.httpRequest.method = 'GET';\n    request.httpRequest.path = request.service.endpoint.path +\n                               '?' + request.httpRequest.body;\n    request.httpRequest.body = '';\n\n    // don't need these headers on a GET request\n    delete request.httpRequest.headers['Content-Length'];\n    delete request.httpRequest.headers['Content-Type'];\n  },\n\n  /**\n   * @api private\n   */\n  haltHandlersOnError: function haltHandlersOnError() {\n    this._haltHandlersOnError = true;\n  }\n});\n\n/**\n * @api private\n */\nAWS.Request.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.promise = function promise() {\n    var self = this;\n    // append to user agent\n    this.httpRequest.appendToUserAgent('promise');\n    return new PromiseDependency(function(resolve, reject) {\n      self.on('complete', function(resp) {\n        if (resp.error) {\n          reject(resp.error);\n        } else {\n          // define $response property so that it is not enumberable\n          // this prevents circular reference errors when stringifying the JSON object\n          resolve(Object.defineProperty(\n            resp.data || {},\n            '$response',\n            {value: resp}\n          ));\n        }\n      });\n      self.runTo();\n    });\n  };\n};\n\n/**\n * @api private\n */\nAWS.Request.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.promise;\n};\n\nAWS.util.addPromises(AWS.Request);\n\nAWS.util.mixin(AWS.Request, AWS.SequentialExecutor);\n","function AcceptorStateMachine(states, state) {\n  this.currentState = state || null;\n  this.states = states || {};\n}\n\nAcceptorStateMachine.prototype.runTo = function runTo(finalState, done, bindObject, inputError) {\n  if (typeof finalState === 'function') {\n    inputError = bindObject; bindObject = done;\n    done = finalState; finalState = null;\n  }\n\n  var self = this;\n  var state = self.states[self.currentState];\n  state.fn.call(bindObject || self, inputError, function(err) {\n    if (err) {\n      if (state.fail) self.currentState = state.fail;\n      else return done ? done.call(bindObject, err) : null;\n    } else {\n      if (state.accept) self.currentState = state.accept;\n      else return done ? done.call(bindObject) : null;\n    }\n    if (self.currentState === finalState) {\n      return done ? done.call(bindObject, err) : null;\n    }\n\n    self.runTo(finalState, done, bindObject, err);\n  });\n};\n\nAcceptorStateMachine.prototype.addState = function addState(name, acceptState, failState, fn) {\n  if (typeof acceptState === 'function') {\n    fn = acceptState; acceptState = null; failState = null;\n  } else if (typeof failState === 'function') {\n    fn = failState; failState = null;\n  }\n\n  if (!this.currentState) this.currentState = name;\n  this.states[name] = { accept: acceptState, fail: failState, fn: fn };\n  return this;\n};\n\n/**\n * @api private\n */\nmodule.exports = AcceptorStateMachine;\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * This class encapsulates the response information\n * from a service request operation sent through {AWS.Request}.\n * The response object has two main properties for getting information\n * back from a request:\n *\n * ## The `data` property\n *\n * The `response.data` property contains the serialized object data\n * retrieved from the service request. For instance, for an\n * Amazon DynamoDB `listTables` method call, the response data might\n * look like:\n *\n * ```\n * > resp.data\n * { TableNames:\n *    [ 'table1', 'table2', ... ] }\n * ```\n *\n * The `data` property can be null if an error occurs (see below).\n *\n * ## The `error` property\n *\n * In the event of a service error (or transfer error), the\n * `response.error` property will be filled with the given\n * error data in the form:\n *\n * ```\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\n *   message: 'Some human readable error message' }\n * ```\n *\n * In the case of an error, the `data` property will be `null`.\n * Note that if you handle events that can be in a failure state,\n * you should always check whether `response.error` is set\n * before attempting to access the `response.data` property.\n *\n * @!attribute data\n *   @readonly\n *   @!group Data Properties\n *   @note Inside of a {AWS.Request~httpData} event, this\n *     property contains a single raw packet instead of the\n *     full de-serialized service response.\n *   @return [Object] the de-serialized response data\n *     from the service.\n *\n * @!attribute error\n *   An structure containing information about a service\n *   or networking error.\n *   @readonly\n *   @!group Data Properties\n *   @note This attribute is only filled if a service or\n *     networking error occurs.\n *   @return [Error]\n *     * code [String] a unique short code representing the\n *       error that was emitted.\n *     * message [String] a longer human readable error message\n *     * retryable [Boolean] whether the error message is\n *       retryable.\n *     * statusCode [Numeric] in the case of a request that reached the service,\n *       this value contains the response status code.\n *     * time [Date] the date time object when the error occurred.\n *     * hostname [String] set when a networking error occurs to easily\n *       identify the endpoint of the request.\n *     * region [String] set when a networking error occurs to easily\n *       identify the region of the request.\n *\n * @!attribute requestId\n *   @readonly\n *   @!group Data Properties\n *   @return [String] the unique request ID associated with the response.\n *     Log this value when debugging requests for AWS support.\n *\n * @!attribute retryCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of retries that were\n *     attempted before the request was completed.\n *\n * @!attribute redirectCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of redirects that were\n *     followed before the request was completed.\n *\n * @!attribute httpResponse\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpResponse] the raw HTTP response object\n *     containing the response headers and body information\n *     from the server.\n *\n * @see AWS.Request\n */\nAWS.Response = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function Response(request) {\n    this.request = request;\n    this.data = null;\n    this.error = null;\n    this.retryCount = 0;\n    this.redirectCount = 0;\n    this.httpResponse = new AWS.HttpResponse();\n    if (request) {\n      this.maxRetries = request.service.numRetries();\n      this.maxRedirects = request.service.config.maxRedirects;\n    }\n  },\n\n  /**\n   * Creates a new request for the next page of response data, calling the\n   * callback with the page data if a callback is provided.\n   *\n   * @callback callback function(err, data)\n   *   Called when a page of data is returned from the next request.\n   *\n   *   @param err [Error] an error object, if an error occurred in the request\n   *   @param data [Object] the next page of data, or null, if there are no\n   *     more pages left.\n   * @return [AWS.Request] the request object for the next page of data\n   * @return [null] if no callback is provided and there are no pages left\n   *   to retrieve.\n   * @since v1.4.0\n   */\n  nextPage: function nextPage(callback) {\n    var config;\n    var service = this.request.service;\n    var operation = this.request.operation;\n    try {\n      config = service.paginationConfig(operation, true);\n    } catch (e) { this.error = e; }\n\n    if (!this.hasNextPage()) {\n      if (callback) callback(this.error, null);\n      else if (this.error) throw this.error;\n      return null;\n    }\n\n    var params = AWS.util.copy(this.request.params);\n    if (!this.nextPageTokens) {\n      return callback ? callback(null, null) : null;\n    } else {\n      var inputTokens = config.inputToken;\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n      for (var i = 0; i < inputTokens.length; i++) {\n        params[inputTokens[i]] = this.nextPageTokens[i];\n      }\n      return service.makeRequest(this.request.operation, params, callback);\n    }\n  },\n\n  /**\n   * @return [Boolean] whether more pages of data can be returned by further\n   *   requests\n   * @since v1.4.0\n   */\n  hasNextPage: function hasNextPage() {\n    this.cacheNextPageTokens();\n    if (this.nextPageTokens) return true;\n    if (this.nextPageTokens === undefined) return undefined;\n    else return false;\n  },\n\n  /**\n   * @api private\n   */\n  cacheNextPageTokens: function cacheNextPageTokens() {\n    if (Object.prototype.hasOwnProperty.call(this, 'nextPageTokens')) return this.nextPageTokens;\n    this.nextPageTokens = undefined;\n\n    var config = this.request.service.paginationConfig(this.request.operation);\n    if (!config) return this.nextPageTokens;\n\n    this.nextPageTokens = null;\n    if (config.moreResults) {\n      if (!jmespath.search(this.data, config.moreResults)) {\n        return this.nextPageTokens;\n      }\n    }\n\n    var exprs = config.outputToken;\n    if (typeof exprs === 'string') exprs = [exprs];\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\n      var output = jmespath.search(this.data, expr);\n      if (output) {\n        this.nextPageTokens = this.nextPageTokens || [];\n        this.nextPageTokens.push(output);\n      }\n    });\n\n    return this.nextPageTokens;\n  }\n\n});\n","/**\n * Copyright 2012-2013 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You\n * may not use this file except in compliance with the License. A copy of\n * the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n */\n\nvar AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nfunction CHECK_ACCEPTORS(resp) {\n  var waiter = resp.request._waiter;\n  var acceptors = waiter.config.acceptors;\n  var acceptorMatched = false;\n  var state = 'retry';\n\n  acceptors.forEach(function(acceptor) {\n    if (!acceptorMatched) {\n      var matcher = waiter.matchers[acceptor.matcher];\n      if (matcher && matcher(resp, acceptor.expected, acceptor.argument)) {\n        acceptorMatched = true;\n        state = acceptor.state;\n      }\n    }\n  });\n\n  if (!acceptorMatched && resp.error) state = 'failure';\n\n  if (state === 'success') {\n    waiter.setSuccess(resp);\n  } else {\n    waiter.setError(resp, state === 'retry');\n  }\n}\n\n/**\n * @api private\n */\nAWS.ResourceWaiter = inherit({\n  /**\n   * Waits for a given state on a service object\n   * @param service [Service] the service object to wait on\n   * @param state [String] the state (defined in waiter configuration) to wait\n   *   for.\n   * @example Create a waiter for running EC2 instances\n   *   var ec2 = new AWS.EC2;\n   *   var waiter = new AWS.ResourceWaiter(ec2, 'instanceRunning');\n   */\n  constructor: function constructor(service, state) {\n    this.service = service;\n    this.state = state;\n    this.loadWaiterConfig(this.state);\n  },\n\n  service: null,\n\n  state: null,\n\n  config: null,\n\n  matchers: {\n    path: function(resp, expected, argument) {\n      try {\n        var result = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      return jmespath.strictDeepEqual(result,expected);\n    },\n\n    pathAll: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      if (!numResults) return false;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (!jmespath.strictDeepEqual(results[ind], expected)) {\n          return false;\n        }\n      }\n      return true;\n    },\n\n    pathAny: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (jmespath.strictDeepEqual(results[ind], expected)) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    status: function(resp, expected) {\n      var statusCode = resp.httpResponse.statusCode;\n      return (typeof statusCode === 'number') && (statusCode === expected);\n    },\n\n    error: function(resp, expected) {\n      if (typeof expected === 'string' && resp.error) {\n        return expected === resp.error.code;\n      }\n      // if expected is not string, can be boolean indicating presence of error\n      return expected === !!resp.error;\n    }\n  },\n\n  listeners: new AWS.SequentialExecutor().addNamedListeners(function(add) {\n    add('RETRY_CHECK', 'retry', function(resp) {\n      var waiter = resp.request._waiter;\n      if (resp.error && resp.error.code === 'ResourceNotReady') {\n        resp.error.retryDelay = (waiter.config.delay || 0) * 1000;\n      }\n    });\n\n    add('CHECK_OUTPUT', 'extractData', CHECK_ACCEPTORS);\n\n    add('CHECK_ERROR', 'extractError', CHECK_ACCEPTORS);\n  }),\n\n  /**\n   * @return [AWS.Request]\n   */\n  wait: function wait(params, callback) {\n    if (typeof params === 'function') {\n      callback = params; params = undefined;\n    }\n\n    if (params && params.$waiter) {\n      params = AWS.util.copy(params);\n      if (typeof params.$waiter.delay === 'number') {\n        this.config.delay = params.$waiter.delay;\n      }\n      if (typeof params.$waiter.maxAttempts === 'number') {\n        this.config.maxAttempts = params.$waiter.maxAttempts;\n      }\n      delete params.$waiter;\n    }\n\n    var request = this.service.makeRequest(this.config.operation, params);\n    request._waiter = this;\n    request.response.maxRetries = this.config.maxAttempts;\n    request.addListeners(this.listeners);\n\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  setSuccess: function setSuccess(resp) {\n    resp.error = null;\n    resp.data = resp.data || {};\n    resp.request.removeAllListeners('extractData');\n  },\n\n  setError: function setError(resp, retryable) {\n    resp.data = null;\n    resp.error = AWS.util.error(resp.error || new Error(), {\n      code: 'ResourceNotReady',\n      message: 'Resource is not in the state ' + this.state,\n      retryable: retryable\n    });\n  },\n\n  /**\n   * Loads waiter configuration from API configuration\n   *\n   * @api private\n   */\n  loadWaiterConfig: function loadWaiterConfig(state) {\n    if (!this.service.api.waiters[state]) {\n      throw new AWS.util.error(new Error(), {\n        code: 'StateNotFoundError',\n        message: 'State ' + state + ' not found.'\n      });\n    }\n\n    this.config = AWS.util.copy(this.service.api.waiters[state]);\n  }\n});\n","var AWS = require('../core');\n\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.RequestSigner = inherit({\n  constructor: function RequestSigner(request) {\n    this.request = request;\n  },\n\n  setServiceClientId: function setServiceClientId(id) {\n    this.serviceClientId = id;\n  },\n\n  getServiceClientId: function getServiceClientId() {\n    return this.serviceClientId;\n  }\n});\n\nAWS.Signers.RequestSigner.getVersion = function getVersion(version) {\n  switch (version) {\n    case 'v2': return AWS.Signers.V2;\n    case 'v3': return AWS.Signers.V3;\n    case 's3v4': return AWS.Signers.V4;\n    case 'v4': return AWS.Signers.V4;\n    case 's3': return AWS.Signers.S3;\n    case 'v3https': return AWS.Signers.V3Https;\n  }\n  throw new Error('Unknown signing version ' + version);\n};\n\nrequire('./v2');\nrequire('./v3');\nrequire('./v3https');\nrequire('./v4');\nrequire('./s3');\nrequire('./presign');\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V2 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    if (!date) date = AWS.util.date.getDate();\n\n    var r = this.request;\n\n    r.params.Timestamp = AWS.util.date.iso8601(date);\n    r.params.SignatureVersion = '2';\n    r.params.SignatureMethod = 'HmacSHA256';\n    r.params.AWSAccessKeyId = credentials.accessKeyId;\n\n    if (credentials.sessionToken) {\n      r.params.SecurityToken = credentials.sessionToken;\n    }\n\n    delete r.params.Signature; // delete old Signature for re-signing\n    r.params.Signature = this.signature(credentials);\n\n    r.body = AWS.util.queryParamsToString(r.params);\n    r.headers['Content-Length'] = r.body.length;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push(this.request.endpoint.host.toLowerCase());\n    parts.push(this.request.pathname());\n    parts.push(AWS.util.queryParamsToString(this.request.params));\n    return parts.join('\\n');\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V2;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\nrequire('./v3');\n\n/**\n * @api private\n */\nAWS.Signers.V3Https = inherit(AWS.Signers.V3, {\n  authorization: function authorization(credentials) {\n    return 'AWS3-HTTPS ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  stringToSign: function stringToSign() {\n    return this.request.headers['X-Amz-Date'];\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3Https;\n","var AWS = require('../core');\nvar v4Credentials = require('./v4_credentials');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nAWS.Signers.V4 = inherit(AWS.Signers.RequestSigner, {\n  constructor: function V4(request, serviceName, options) {\n    AWS.Signers.RequestSigner.call(this, request);\n    this.serviceName = serviceName;\n    options = options || {};\n    this.signatureCache = typeof options.signatureCache === 'boolean' ? options.signatureCache : true;\n    this.operation = options.operation;\n    this.signatureVersion = options.signatureVersion;\n  },\n\n  algorithm: 'AWS4-HMAC-SHA256',\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.iso8601(date).replace(/[:\\-]|\\.\\d{3}/g, '');\n\n    if (this.isPresigned()) {\n      this.updateForPresigned(credentials, datetime);\n    } else {\n      this.addHeaders(credentials, datetime);\n    }\n\n    this.request.headers['Authorization'] =\n      this.authorization(credentials, datetime);\n  },\n\n  addHeaders: function addHeaders(credentials, datetime) {\n    this.request.headers['X-Amz-Date'] = datetime;\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n  },\n\n  updateForPresigned: function updateForPresigned(credentials, datetime) {\n    var credString = this.credentialString(datetime);\n    var qs = {\n      'X-Amz-Date': datetime,\n      'X-Amz-Algorithm': this.algorithm,\n      'X-Amz-Credential': credentials.accessKeyId + '/' + credString,\n      'X-Amz-Expires': this.request.headers[expiresHeader],\n      'X-Amz-SignedHeaders': this.signedHeaders()\n    };\n\n    if (credentials.sessionToken) {\n      qs['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n\n    if (this.request.headers['Content-Type']) {\n      qs['Content-Type'] = this.request.headers['Content-Type'];\n    }\n    if (this.request.headers['Content-MD5']) {\n      qs['Content-MD5'] = this.request.headers['Content-MD5'];\n    }\n    if (this.request.headers['Cache-Control']) {\n      qs['Cache-Control'] = this.request.headers['Cache-Control'];\n    }\n\n    // need to pull in any other X-Amz-* headers\n    AWS.util.each.call(this, this.request.headers, function(key, value) {\n      if (key === expiresHeader) return;\n      if (this.isSignableHeader(key)) {\n        var lowerKey = key.toLowerCase();\n        // Metadata should be normalized\n        if (lowerKey.indexOf('x-amz-meta-') === 0) {\n          qs[lowerKey] = value;\n        } else if (lowerKey.indexOf('x-amz-') === 0) {\n          qs[key] = value;\n        }\n      }\n    });\n\n    var sep = this.request.path.indexOf('?') >= 0 ? '&' : '?';\n    this.request.path += sep + AWS.util.queryParamsToString(qs);\n  },\n\n  authorization: function authorization(credentials, datetime) {\n    var parts = [];\n    var credString = this.credentialString(datetime);\n    parts.push(this.algorithm + ' Credential=' +\n      credentials.accessKeyId + '/' + credString);\n    parts.push('SignedHeaders=' + this.signedHeaders());\n    parts.push('Signature=' + this.signature(credentials, datetime));\n    return parts.join(', ');\n  },\n\n  signature: function signature(credentials, datetime) {\n    var signingKey = v4Credentials.getSigningKey(\n      credentials,\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName,\n      this.signatureCache\n    );\n    return AWS.util.crypto.hmac(signingKey, this.stringToSign(datetime), 'hex');\n  },\n\n  stringToSign: function stringToSign(datetime) {\n    var parts = [];\n    parts.push('AWS4-HMAC-SHA256');\n    parts.push(datetime);\n    parts.push(this.credentialString(datetime));\n    parts.push(this.hexEncodedHash(this.canonicalString()));\n    return parts.join('\\n');\n  },\n\n  canonicalString: function canonicalString() {\n    var parts = [], pathname = this.request.pathname();\n    if (this.serviceName !== 's3' && this.signatureVersion !== 's3v4') pathname = AWS.util.uriEscapePath(pathname);\n\n    parts.push(this.request.method);\n    parts.push(pathname);\n    parts.push(this.request.search());\n    parts.push(this.canonicalHeaders() + '\\n');\n    parts.push(this.signedHeaders());\n    parts.push(this.hexEncodedBodyHash());\n    return parts.join('\\n');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = [];\n    AWS.util.each.call(this, this.request.headers, function (key, item) {\n      headers.push([key, item]);\n    });\n    headers.sort(function (a, b) {\n      return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : 1;\n    });\n    var parts = [];\n    AWS.util.arrayEach.call(this, headers, function (item) {\n      var key = item[0].toLowerCase();\n      if (this.isSignableHeader(key)) {\n        var value = item[1];\n        if (typeof value === 'undefined' || value === null || typeof value.toString !== 'function') {\n          throw AWS.util.error(new Error('Header ' + key + ' contains invalid value'), {\n            code: 'InvalidHeader'\n          });\n        }\n        parts.push(key + ':' +\n          this.canonicalHeaderValues(value.toString()));\n      }\n    });\n    return parts.join('\\n');\n  },\n\n  canonicalHeaderValues: function canonicalHeaderValues(values) {\n    return values.replace(/\\s+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n  },\n\n  signedHeaders: function signedHeaders() {\n    var keys = [];\n    AWS.util.each.call(this, this.request.headers, function (key) {\n      key = key.toLowerCase();\n      if (this.isSignableHeader(key)) keys.push(key);\n    });\n    return keys.sort().join(';');\n  },\n\n  credentialString: function credentialString(datetime) {\n    return v4Credentials.createScope(\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName\n    );\n  },\n\n  hexEncodedHash: function hash(string) {\n    return AWS.util.crypto.sha256(string, 'hex');\n  },\n\n  hexEncodedBodyHash: function hexEncodedBodyHash() {\n    var request = this.request;\n    if (this.isPresigned() && this.serviceName === 's3' && !request.body) {\n      return 'UNSIGNED-PAYLOAD';\n    } else if (request.headers['X-Amz-Content-Sha256']) {\n      return request.headers['X-Amz-Content-Sha256'];\n    } else {\n      return this.hexEncodedHash(this.request.body || '');\n    }\n  },\n\n  unsignableHeaders: [\n    'authorization',\n    'content-type',\n    'content-length',\n    'user-agent',\n    expiresHeader,\n    'expect',\n    'x-amzn-trace-id'\n  ],\n\n  isSignableHeader: function isSignableHeader(key) {\n    if (key.toLowerCase().indexOf('x-amz-') === 0) return true;\n    return this.unsignableHeaders.indexOf(key) < 0;\n  },\n\n  isPresigned: function isPresigned() {\n    return this.request.headers[expiresHeader] ? true : false;\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V4;\n","var AWS = require('../core');\n\n/**\n * @api private\n */\nvar cachedSecret = {};\n\n/**\n * @api private\n */\nvar cacheQueue = [];\n\n/**\n * @api private\n */\nvar maxCacheEntries = 50;\n\n/**\n * @api private\n */\nvar v4Identifier = 'aws4_request';\n\n/**\n * @api private\n */\nmodule.exports = {\n  /**\n   * @api private\n   *\n   * @param date [String]\n   * @param region [String]\n   * @param serviceName [String]\n   * @return [String]\n   */\n  createScope: function createScope(date, region, serviceName) {\n    return [\n      date.substr(0, 8),\n      region,\n      serviceName,\n      v4Identifier\n    ].join('/');\n  },\n\n  /**\n   * @api private\n   *\n   * @param credentials [Credentials]\n   * @param date [String]\n   * @param region [String]\n   * @param service [String]\n   * @param shouldCache [Boolean]\n   * @return [String]\n   */\n  getSigningKey: function getSigningKey(\n    credentials,\n    date,\n    region,\n    service,\n    shouldCache\n  ) {\n    var credsIdentifier = AWS.util.crypto\n      .hmac(credentials.secretAccessKey, credentials.accessKeyId, 'base64');\n    var cacheKey = [credsIdentifier, date, region, service].join('_');\n    shouldCache = shouldCache !== false;\n    if (shouldCache && (cacheKey in cachedSecret)) {\n      return cachedSecret[cacheKey];\n    }\n\n    var kDate = AWS.util.crypto.hmac(\n      'AWS4' + credentials.secretAccessKey,\n      date,\n      'buffer'\n    );\n    var kRegion = AWS.util.crypto.hmac(kDate, region, 'buffer');\n    var kService = AWS.util.crypto.hmac(kRegion, service, 'buffer');\n\n    var signingKey = AWS.util.crypto.hmac(kService, v4Identifier, 'buffer');\n    if (shouldCache) {\n      cachedSecret[cacheKey] = signingKey;\n      cacheQueue.push(cacheKey);\n      if (cacheQueue.length > maxCacheEntries) {\n        // remove the oldest entry (not the least recently used)\n        delete cachedSecret[cacheQueue.shift()];\n      }\n    }\n\n    return signingKey;\n  },\n\n  /**\n   * @api private\n   *\n   * Empties the derived signing key cache. Made available for testing purposes\n   * only.\n   */\n  emptyCache: function emptyCache() {\n    cachedSecret = {};\n    cacheQueue = [];\n  }\n};\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.S3 = inherit(AWS.Signers.RequestSigner, {\n  /**\n   * When building the stringToSign, these sub resource params should be\n   * part of the canonical resource string with their NON-decoded values\n   */\n  subResources: {\n    'acl': 1,\n    'accelerate': 1,\n    'analytics': 1,\n    'cors': 1,\n    'lifecycle': 1,\n    'delete': 1,\n    'inventory': 1,\n    'location': 1,\n    'logging': 1,\n    'metrics': 1,\n    'notification': 1,\n    'partNumber': 1,\n    'policy': 1,\n    'requestPayment': 1,\n    'replication': 1,\n    'restore': 1,\n    'tagging': 1,\n    'torrent': 1,\n    'uploadId': 1,\n    'uploads': 1,\n    'versionId': 1,\n    'versioning': 1,\n    'versions': 1,\n    'website': 1\n  },\n\n  // when building the stringToSign, these querystring params should be\n  // part of the canonical resource string with their NON-encoded values\n  responseHeaders: {\n    'response-content-type': 1,\n    'response-content-language': 1,\n    'response-expires': 1,\n    'response-cache-control': 1,\n    'response-content-disposition': 1,\n    'response-content-encoding': 1\n  },\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    if (!this.request.headers['presigned-expires']) {\n      this.request.headers['X-Amz-Date'] = AWS.util.date.rfc822(date);\n    }\n\n    if (credentials.sessionToken) {\n      // presigned URLs require this header to be lowercased\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    var signature = this.sign(credentials.secretAccessKey, this.stringToSign());\n    var auth = 'AWS ' + credentials.accessKeyId + ':' + signature;\n\n    this.request.headers['Authorization'] = auth;\n  },\n\n  stringToSign: function stringToSign() {\n    var r = this.request;\n\n    var parts = [];\n    parts.push(r.method);\n    parts.push(r.headers['Content-MD5'] || '');\n    parts.push(r.headers['Content-Type'] || '');\n\n    // This is the \"Date\" header, but we use X-Amz-Date.\n    // The S3 signing mechanism requires us to pass an empty\n    // string for this Date header regardless.\n    parts.push(r.headers['presigned-expires'] || '');\n\n    var headers = this.canonicalizedAmzHeaders();\n    if (headers) parts.push(headers);\n    parts.push(this.canonicalizedResource());\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedAmzHeaders: function canonicalizedAmzHeaders() {\n\n    var amzHeaders = [];\n\n    AWS.util.each(this.request.headers, function (name) {\n      if (name.match(/^x-amz-/i))\n        amzHeaders.push(name);\n    });\n\n    amzHeaders.sort(function (a, b) {\n      return a.toLowerCase() < b.toLowerCase() ? -1 : 1;\n    });\n\n    var parts = [];\n    AWS.util.arrayEach.call(this, amzHeaders, function (name) {\n      parts.push(name.toLowerCase() + ':' + String(this.request.headers[name]));\n    });\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedResource: function canonicalizedResource() {\n\n    var r = this.request;\n\n    var parts = r.path.split('?');\n    var path = parts[0];\n    var querystring = parts[1];\n\n    var resource = '';\n\n    if (r.virtualHostedBucket)\n      resource += '/' + r.virtualHostedBucket;\n\n    resource += path;\n\n    if (querystring) {\n\n      // collect a list of sub resources and query params that need to be signed\n      var resources = [];\n\n      AWS.util.arrayEach.call(this, querystring.split('&'), function (param) {\n        var name = param.split('=')[0];\n        var value = param.split('=')[1];\n        if (this.subResources[name] || this.responseHeaders[name]) {\n          var subresource = { name: name };\n          if (value !== undefined) {\n            if (this.subResources[name]) {\n              subresource.value = value;\n            } else {\n              subresource.value = decodeURIComponent(value);\n            }\n          }\n          resources.push(subresource);\n        }\n      });\n\n      resources.sort(function (a, b) { return a.name < b.name ? -1 : 1; });\n\n      if (resources.length) {\n\n        querystring = [];\n        AWS.util.arrayEach(resources, function (res) {\n          if (res.value === undefined) {\n            querystring.push(res.name);\n          } else {\n            querystring.push(res.name + '=' + res.value);\n          }\n        });\n\n        resource += '?' + querystring.join('&');\n      }\n\n    }\n\n    return resource;\n\n  },\n\n  sign: function sign(secret, string) {\n    return AWS.util.crypto.hmac(secret, string, 'base64', 'sha1');\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.S3;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nfunction signedUrlBuilder(request) {\n  var expires = request.httpRequest.headers[expiresHeader];\n  var signerClass = request.service.getSignerClass(request);\n\n  delete request.httpRequest.headers['User-Agent'];\n  delete request.httpRequest.headers['X-Amz-User-Agent'];\n\n  if (signerClass === AWS.Signers.V4) {\n    if (expires > 604800) { // one week expiry is invalid\n      var message = 'Presigning does not support expiry time greater ' +\n                    'than a week with SigV4 signing.';\n      throw AWS.util.error(new Error(), {\n        code: 'InvalidExpiryTime', message: message, retryable: false\n      });\n    }\n    request.httpRequest.headers[expiresHeader] = expires;\n  } else if (signerClass === AWS.Signers.S3) {\n    var now = request.service ? request.service.getSkewCorrectedDate() : AWS.util.date.getDate();\n    request.httpRequest.headers[expiresHeader] = parseInt(\n      AWS.util.date.unixTimestamp(now) + expires, 10).toString();\n  } else {\n    throw AWS.util.error(new Error(), {\n      message: 'Presigning only supports S3 or SigV4 signing.',\n      code: 'UnsupportedSigner', retryable: false\n    });\n  }\n}\n\n/**\n * @api private\n */\nfunction signedUrlSigner(request) {\n  var endpoint = request.httpRequest.endpoint;\n  var parsedUrl = AWS.util.urlParse(request.httpRequest.path);\n  var queryParams = {};\n\n  if (parsedUrl.search) {\n    queryParams = AWS.util.queryStringParse(parsedUrl.search.substr(1));\n  }\n\n  var auth = request.httpRequest.headers['Authorization'].split(' ');\n  if (auth[0] === 'AWS') {\n    auth = auth[1].split(':');\n    queryParams['AWSAccessKeyId'] = auth[0];\n    queryParams['Signature'] = auth[1];\n\n    AWS.util.each(request.httpRequest.headers, function (key, value) {\n      if (key === expiresHeader) key = 'Expires';\n      if (key.indexOf('x-amz-meta-') === 0) {\n        // Delete existing, potentially not normalized key\n        delete queryParams[key];\n        key = key.toLowerCase();\n      }\n      queryParams[key] = value;\n    });\n    delete request.httpRequest.headers[expiresHeader];\n    delete queryParams['Authorization'];\n    delete queryParams['Host'];\n  } else if (auth[0] === 'AWS4-HMAC-SHA256') { // SigV4 signing\n    auth.shift();\n    var rest = auth.join(' ');\n    var signature = rest.match(/Signature=(.*?)(?:,|\\s|\\r?\\n|$)/)[1];\n    queryParams['X-Amz-Signature'] = signature;\n    delete queryParams['Expires'];\n  }\n\n  // build URL\n  endpoint.pathname = parsedUrl.pathname;\n  endpoint.search = AWS.util.queryParamsToString(queryParams);\n}\n\n/**\n * @api private\n */\nAWS.Signers.Presign = inherit({\n  /**\n   * @api private\n   */\n  sign: function sign(request, expireTime, callback) {\n    request.httpRequest.headers[expiresHeader] = expireTime || 3600;\n    request.on('build', signedUrlBuilder);\n    request.on('sign', signedUrlSigner);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.SET_CONTENT_LENGTH);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.COMPUTE_SHA256);\n\n    request.emit('beforePresign', [request]);\n\n    if (callback) {\n      request.build(function() {\n        if (this.response.error) callback(this.response.error);\n        else {\n          callback(null, AWS.util.urlFormat(request.httpRequest.endpoint));\n        }\n      });\n    } else {\n      request.build();\n      if (request.response.error) throw request.response.error;\n      return AWS.util.urlFormat(request.httpRequest.endpoint);\n    }\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.Presign;\n","var AWS = require('./core');\n\n/**\n * @api private\n */\nAWS.ParamValidator = AWS.util.inherit({\n  /**\n   * Create a new validator object.\n   *\n   * @param validation [Boolean|map] whether input parameters should be\n   *     validated against the operation description before sending the\n   *     request. Pass a map to enable any of the following specific\n   *     validation features:\n   *\n   *     * **min** [Boolean] &mdash; Validates that a value meets the min\n   *       constraint. This is enabled by default when paramValidation is set\n   *       to `true`.\n   *     * **max** [Boolean] &mdash; Validates that a value meets the max\n   *       constraint.\n   *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *       regular expression.\n   *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *       of the allowable enum values.\n   */\n  constructor: function ParamValidator(validation) {\n    if (validation === true || validation === undefined) {\n      validation = {'min': true};\n    }\n    this.validation = validation;\n  },\n\n  validate: function validate(shape, params, context) {\n    this.errors = [];\n    this.validateMember(shape, params || {}, context || 'params');\n\n    if (this.errors.length > 1) {\n      var msg = this.errors.join('\\n* ');\n      msg = 'There were ' + this.errors.length +\n        ' validation errors:\\n* ' + msg;\n      throw AWS.util.error(new Error(msg),\n        {code: 'MultipleValidationErrors', errors: this.errors});\n    } else if (this.errors.length === 1) {\n      throw this.errors[0];\n    } else {\n      return true;\n    }\n  },\n\n  fail: function fail(code, message) {\n    this.errors.push(AWS.util.error(new Error(message), {code: code}));\n  },\n\n  validateStructure: function validateStructure(shape, params, context) {\n    this.validateType(params, context, ['object'], 'structure');\n\n    var paramName;\n    for (var i = 0; shape.required && i < shape.required.length; i++) {\n      paramName = shape.required[i];\n      var value = params[paramName];\n      if (value === undefined || value === null) {\n        this.fail('MissingRequiredParameter',\n          'Missing required key \\'' + paramName + '\\' in ' + context);\n      }\n    }\n\n    // validate hash members\n    for (paramName in params) {\n      if (!Object.prototype.hasOwnProperty.call(params, paramName)) continue;\n\n      var paramValue = params[paramName],\n          memberShape = shape.members[paramName];\n\n      if (memberShape !== undefined) {\n        var memberContext = [context, paramName].join('.');\n        this.validateMember(memberShape, paramValue, memberContext);\n      } else {\n        this.fail('UnexpectedParameter',\n          'Unexpected key \\'' + paramName + '\\' found in ' + context);\n      }\n    }\n\n    return true;\n  },\n\n  validateMember: function validateMember(shape, param, context) {\n    switch (shape.type) {\n      case 'structure':\n        return this.validateStructure(shape, param, context);\n      case 'list':\n        return this.validateList(shape, param, context);\n      case 'map':\n        return this.validateMap(shape, param, context);\n      default:\n        return this.validateScalar(shape, param, context);\n    }\n  },\n\n  validateList: function validateList(shape, params, context) {\n    if (this.validateType(params, context, [Array])) {\n      this.validateRange(shape, params.length, context, 'list member count');\n      // validate array members\n      for (var i = 0; i < params.length; i++) {\n        this.validateMember(shape.member, params[i], context + '[' + i + ']');\n      }\n    }\n  },\n\n  validateMap: function validateMap(shape, params, context) {\n    if (this.validateType(params, context, ['object'], 'map')) {\n      // Build up a count of map members to validate range traits.\n      var mapCount = 0;\n      for (var param in params) {\n        if (!Object.prototype.hasOwnProperty.call(params, param)) continue;\n        // Validate any map key trait constraints\n        this.validateMember(shape.key, param,\n                            context + '[key=\\'' + param + '\\']');\n        this.validateMember(shape.value, params[param],\n                            context + '[\\'' + param + '\\']');\n        mapCount++;\n      }\n      this.validateRange(shape, mapCount, context, 'map member count');\n    }\n  },\n\n  validateScalar: function validateScalar(shape, value, context) {\n    switch (shape.type) {\n      case null:\n      case undefined:\n      case 'string':\n        return this.validateString(shape, value, context);\n      case 'base64':\n      case 'binary':\n        return this.validatePayload(value, context);\n      case 'integer':\n      case 'float':\n        return this.validateNumber(shape, value, context);\n      case 'boolean':\n        return this.validateType(value, context, ['boolean']);\n      case 'timestamp':\n        return this.validateType(value, context, [Date,\n          /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/, 'number'],\n          'Date object, ISO-8601 string, or a UNIX timestamp');\n      default:\n        return this.fail('UnkownType', 'Unhandled type ' +\n                         shape.type + ' for ' + context);\n    }\n  },\n\n  validateString: function validateString(shape, value, context) {\n    var validTypes = ['string'];\n    if (shape.isJsonValue) {\n      validTypes = validTypes.concat(['number', 'object', 'boolean']);\n    }\n    if (value !== null && this.validateType(value, context, validTypes)) {\n      this.validateEnum(shape, value, context);\n      this.validateRange(shape, value.length, context, 'string length');\n      this.validatePattern(shape, value, context);\n      this.validateUri(shape, value, context);\n    }\n  },\n\n  validateUri: function validateUri(shape, value, context) {\n    if (shape['location'] === 'uri') {\n      if (value.length === 0) {\n        this.fail('UriParameterError', 'Expected uri parameter to have length >= 1,'\n          + ' but found \"' + value +'\" for ' + context);\n      }\n    }\n  },\n\n  validatePattern: function validatePattern(shape, value, context) {\n    if (this.validation['pattern'] && shape['pattern'] !== undefined) {\n      if (!(new RegExp(shape['pattern'])).test(value)) {\n        this.fail('PatternMatchError', 'Provided value \"' + value + '\" '\n          + 'does not match regex pattern /' + shape['pattern'] + '/ for '\n          + context);\n      }\n    }\n  },\n\n  validateRange: function validateRange(shape, value, context, descriptor) {\n    if (this.validation['min']) {\n      if (shape['min'] !== undefined && value < shape['min']) {\n        this.fail('MinRangeError', 'Expected ' + descriptor + ' >= '\n          + shape['min'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n    if (this.validation['max']) {\n      if (shape['max'] !== undefined && value > shape['max']) {\n        this.fail('MaxRangeError', 'Expected ' + descriptor + ' <= '\n          + shape['max'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n  },\n\n  validateEnum: function validateRange(shape, value, context) {\n    if (this.validation['enum'] && shape['enum'] !== undefined) {\n      // Fail if the string value is not present in the enum list\n      if (shape['enum'].indexOf(value) === -1) {\n        this.fail('EnumError', 'Found string value of ' + value + ', but '\n          + 'expected ' + shape['enum'].join('|') + ' for ' + context);\n      }\n    }\n  },\n\n  validateType: function validateType(value, context, acceptedTypes, type) {\n    // We will not log an error for null or undefined, but we will return\n    // false so that callers know that the expected type was not strictly met.\n    if (value === null || value === undefined) return false;\n\n    var foundInvalidType = false;\n    for (var i = 0; i < acceptedTypes.length; i++) {\n      if (typeof acceptedTypes[i] === 'string') {\n        if (typeof value === acceptedTypes[i]) return true;\n      } else if (acceptedTypes[i] instanceof RegExp) {\n        if ((value || '').toString().match(acceptedTypes[i])) return true;\n      } else {\n        if (value instanceof acceptedTypes[i]) return true;\n        if (AWS.util.isType(value, acceptedTypes[i])) return true;\n        if (!type && !foundInvalidType) acceptedTypes = acceptedTypes.slice();\n        acceptedTypes[i] = AWS.util.typeName(acceptedTypes[i]);\n      }\n      foundInvalidType = true;\n    }\n\n    var acceptedType = type;\n    if (!acceptedType) {\n      acceptedType = acceptedTypes.join(', ').replace(/,([^,]+)$/, ', or$1');\n    }\n\n    var vowel = acceptedType.match(/^[aeiou]/i) ? 'n' : '';\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a' +\n              vowel + ' ' + acceptedType);\n    return false;\n  },\n\n  validateNumber: function validateNumber(shape, value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') {\n      var castedValue = parseFloat(value);\n      if (castedValue.toString() === value) value = castedValue;\n    }\n    if (this.validateType(value, context, ['number'])) {\n      this.validateRange(shape, value, context, 'numeric value');\n    }\n  },\n\n  validatePayload: function validatePayload(value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') return;\n    if (value && typeof value.byteLength === 'number') return; // typed arrays\n    if (AWS.util.isNode()) { // special check for buffer/stream in Node.js\n      var Stream = AWS.util.stream.Stream;\n      if (AWS.util.Buffer.isBuffer(value) || value instanceof Stream) return;\n    } else {\n      if (typeof Blob !== void 0 && value instanceof Blob) return;\n    }\n\n    var types = ['Buffer', 'Stream', 'File', 'Blob', 'ArrayBuffer', 'DataView'];\n    if (value) {\n      for (var i = 0; i < types.length; i++) {\n        if (AWS.util.isType(value, types[i])) return;\n        if (AWS.util.typeName(value.constructor) === types[i]) return;\n      }\n    }\n\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a ' +\n      'string, Buffer, Stream, Blob, or typed array object');\n  }\n});\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var Hmac = require('./browserHmac');\nvar Md5 = require('./browserMd5');\nvar Sha1 = require('./browserSha1');\nvar Sha256 = require('./browserSha256');\n\n/**\n * @api private\n */\nmodule.exports = exports = {\n    createHash: function createHash(alg) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Md5();\n      } else if (alg === 'sha256') {\n        return new Sha256();\n      } else if (alg === 'sha1') {\n        return new Sha1();\n      }\n\n      throw new Error('Hash algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createHmac: function createHmac(alg, key) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Hmac(Md5, key);\n      } else if (alg === 'sha256') {\n        return new Hmac(Sha256, key);\n      } else if (alg === 'sha1') {\n        return new Hmac(Sha1, key);\n      }\n\n      throw new Error('HMAC algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createSign: function() {\n      throw new Error('createSign is not implemented in the browser');\n    }\n  };\n","var hashUtils = require('./browserHashUtils');\n\n/**\n * @api private\n */\nfunction Hmac(hashCtor, secret) {\n    this.hash = new hashCtor();\n    this.outer = new hashCtor();\n\n    var inner = bufferFromSecret(hashCtor, secret);\n    var outer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    outer.set(inner);\n\n    for (var i = 0; i < hashCtor.BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n    }\n\n    this.hash.update(inner);\n    this.outer.update(outer);\n\n    // Zero out the copied key buffer.\n    for (var i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n    }\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Hmac;\n\nHmac.prototype.update = function (toHash) {\n    if (hashUtils.isEmptyData(toHash) || this.error) {\n        return this;\n    }\n\n    try {\n        this.hash.update(hashUtils.convertToBuffer(toHash));\n    } catch (e) {\n        this.error = e;\n    }\n\n    return this;\n};\n\nHmac.prototype.digest = function (encoding) {\n    if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n    }\n\n    return this.outer.digest(encoding);\n};\n\nfunction bufferFromSecret(hashCtor, secret) {\n    var input = hashUtils.convertToBuffer(secret);\n    if (input.byteLength > hashCtor.BLOCK_SIZE) {\n        var bufferHash = new hashCtor;\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var hashUtils = require('./browserHashUtils');\nvar Buffer = require('buffer/').Buffer;\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 16;\n\nvar INIT = [\n    0x67452301,\n    0xefcdab89,\n    0x98badcfe,\n    0x10325476,\n];\n\n/**\n * @api private\n */\nfunction Md5() {\n    this.state = [\n        0x67452301,\n        0xefcdab89,\n        0x98badcfe,\n        0x10325476,\n    ];\n    this.buffer = new DataView(new ArrayBuffer(BLOCK_SIZE));\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    this.finished = false;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Md5;\n\nMd5.BLOCK_SIZE = BLOCK_SIZE;\n\nMd5.prototype.update = function (sourceData) {\n    if (hashUtils.isEmptyData(sourceData)) {\n        return this;\n    } else if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    var data = hashUtils.convertToBuffer(sourceData);\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    while (byteLength > 0) {\n        this.buffer.setUint8(this.bufferLength++, data[position++]);\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nMd5.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var _a = this, buffer = _a.buffer, undecoratedLength = _a.bufferLength, bytesHashed = _a.bytesHashed;\n        var bitsHashed = bytesHashed * 8;\n        buffer.setUint8(this.bufferLength++, 128);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                buffer.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            buffer.setUint8(i, 0);\n        }\n        buffer.setUint32(BLOCK_SIZE - 8, bitsHashed >>> 0, true);\n        buffer.setUint32(BLOCK_SIZE - 4, Math.floor(bitsHashed / 0x100000000), true);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    var out = new DataView(new ArrayBuffer(DIGEST_LENGTH));\n    for (var i = 0; i < 4; i++) {\n        out.setUint32(i * 4, this.state[i], true);\n    }\n    var buff = new Buffer(out.buffer, out.byteOffset, out.byteLength);\n    return encoding ? buff.toString(encoding) : buff;\n};\n\nMd5.prototype.hashBuffer = function () {\n    var _a = this, buffer = _a.buffer, state = _a.state;\n    var a = state[0], b = state[1], c = state[2], d = state[3];\n    a = ff(a, b, c, d, buffer.getUint32(0, true), 7, 0xd76aa478);\n    d = ff(d, a, b, c, buffer.getUint32(4, true), 12, 0xe8c7b756);\n    c = ff(c, d, a, b, buffer.getUint32(8, true), 17, 0x242070db);\n    b = ff(b, c, d, a, buffer.getUint32(12, true), 22, 0xc1bdceee);\n    a = ff(a, b, c, d, buffer.getUint32(16, true), 7, 0xf57c0faf);\n    d = ff(d, a, b, c, buffer.getUint32(20, true), 12, 0x4787c62a);\n    c = ff(c, d, a, b, buffer.getUint32(24, true), 17, 0xa8304613);\n    b = ff(b, c, d, a, buffer.getUint32(28, true), 22, 0xfd469501);\n    a = ff(a, b, c, d, buffer.getUint32(32, true), 7, 0x698098d8);\n    d = ff(d, a, b, c, buffer.getUint32(36, true), 12, 0x8b44f7af);\n    c = ff(c, d, a, b, buffer.getUint32(40, true), 17, 0xffff5bb1);\n    b = ff(b, c, d, a, buffer.getUint32(44, true), 22, 0x895cd7be);\n    a = ff(a, b, c, d, buffer.getUint32(48, true), 7, 0x6b901122);\n    d = ff(d, a, b, c, buffer.getUint32(52, true), 12, 0xfd987193);\n    c = ff(c, d, a, b, buffer.getUint32(56, true), 17, 0xa679438e);\n    b = ff(b, c, d, a, buffer.getUint32(60, true), 22, 0x49b40821);\n    a = gg(a, b, c, d, buffer.getUint32(4, true), 5, 0xf61e2562);\n    d = gg(d, a, b, c, buffer.getUint32(24, true), 9, 0xc040b340);\n    c = gg(c, d, a, b, buffer.getUint32(44, true), 14, 0x265e5a51);\n    b = gg(b, c, d, a, buffer.getUint32(0, true), 20, 0xe9b6c7aa);\n    a = gg(a, b, c, d, buffer.getUint32(20, true), 5, 0xd62f105d);\n    d = gg(d, a, b, c, buffer.getUint32(40, true), 9, 0x02441453);\n    c = gg(c, d, a, b, buffer.getUint32(60, true), 14, 0xd8a1e681);\n    b = gg(b, c, d, a, buffer.getUint32(16, true), 20, 0xe7d3fbc8);\n    a = gg(a, b, c, d, buffer.getUint32(36, true), 5, 0x21e1cde6);\n    d = gg(d, a, b, c, buffer.getUint32(56, true), 9, 0xc33707d6);\n    c = gg(c, d, a, b, buffer.getUint32(12, true), 14, 0xf4d50d87);\n    b = gg(b, c, d, a, buffer.getUint32(32, true), 20, 0x455a14ed);\n    a = gg(a, b, c, d, buffer.getUint32(52, true), 5, 0xa9e3e905);\n    d = gg(d, a, b, c, buffer.getUint32(8, true), 9, 0xfcefa3f8);\n    c = gg(c, d, a, b, buffer.getUint32(28, true), 14, 0x676f02d9);\n    b = gg(b, c, d, a, buffer.getUint32(48, true), 20, 0x8d2a4c8a);\n    a = hh(a, b, c, d, buffer.getUint32(20, true), 4, 0xfffa3942);\n    d = hh(d, a, b, c, buffer.getUint32(32, true), 11, 0x8771f681);\n    c = hh(c, d, a, b, buffer.getUint32(44, true), 16, 0x6d9d6122);\n    b = hh(b, c, d, a, buffer.getUint32(56, true), 23, 0xfde5380c);\n    a = hh(a, b, c, d, buffer.getUint32(4, true), 4, 0xa4beea44);\n    d = hh(d, a, b, c, buffer.getUint32(16, true), 11, 0x4bdecfa9);\n    c = hh(c, d, a, b, buffer.getUint32(28, true), 16, 0xf6bb4b60);\n    b = hh(b, c, d, a, buffer.getUint32(40, true), 23, 0xbebfbc70);\n    a = hh(a, b, c, d, buffer.getUint32(52, true), 4, 0x289b7ec6);\n    d = hh(d, a, b, c, buffer.getUint32(0, true), 11, 0xeaa127fa);\n    c = hh(c, d, a, b, buffer.getUint32(12, true), 16, 0xd4ef3085);\n    b = hh(b, c, d, a, buffer.getUint32(24, true), 23, 0x04881d05);\n    a = hh(a, b, c, d, buffer.getUint32(36, true), 4, 0xd9d4d039);\n    d = hh(d, a, b, c, buffer.getUint32(48, true), 11, 0xe6db99e5);\n    c = hh(c, d, a, b, buffer.getUint32(60, true), 16, 0x1fa27cf8);\n    b = hh(b, c, d, a, buffer.getUint32(8, true), 23, 0xc4ac5665);\n    a = ii(a, b, c, d, buffer.getUint32(0, true), 6, 0xf4292244);\n    d = ii(d, a, b, c, buffer.getUint32(28, true), 10, 0x432aff97);\n    c = ii(c, d, a, b, buffer.getUint32(56, true), 15, 0xab9423a7);\n    b = ii(b, c, d, a, buffer.getUint32(20, true), 21, 0xfc93a039);\n    a = ii(a, b, c, d, buffer.getUint32(48, true), 6, 0x655b59c3);\n    d = ii(d, a, b, c, buffer.getUint32(12, true), 10, 0x8f0ccc92);\n    c = ii(c, d, a, b, buffer.getUint32(40, true), 15, 0xffeff47d);\n    b = ii(b, c, d, a, buffer.getUint32(4, true), 21, 0x85845dd1);\n    a = ii(a, b, c, d, buffer.getUint32(32, true), 6, 0x6fa87e4f);\n    d = ii(d, a, b, c, buffer.getUint32(60, true), 10, 0xfe2ce6e0);\n    c = ii(c, d, a, b, buffer.getUint32(24, true), 15, 0xa3014314);\n    b = ii(b, c, d, a, buffer.getUint32(52, true), 21, 0x4e0811a1);\n    a = ii(a, b, c, d, buffer.getUint32(16, true), 6, 0xf7537e82);\n    d = ii(d, a, b, c, buffer.getUint32(44, true), 10, 0xbd3af235);\n    c = ii(c, d, a, b, buffer.getUint32(8, true), 15, 0x2ad7d2bb);\n    b = ii(b, c, d, a, buffer.getUint32(36, true), 21, 0xeb86d391);\n    state[0] = (a + state[0]) & 0xFFFFFFFF;\n    state[1] = (b + state[1]) & 0xFFFFFFFF;\n    state[2] = (c + state[2]) & 0xFFFFFFFF;\n    state[3] = (d + state[3]) & 0xFFFFFFFF;\n};\n\nfunction cmn(q, a, b, x, s, t) {\n    a = (((a + q) & 0xFFFFFFFF) + ((x + t) & 0xFFFFFFFF)) & 0xFFFFFFFF;\n    return (((a << s) | (a >>> (32 - s))) + b) & 0xFFFFFFFF;\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n    return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n    return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n    return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n    return cmn(c ^ (b | (~d)), a, b, x, s, t);\n}\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 20;\n\nvar KEY = new Uint32Array([\n    0x5a827999,\n    0x6ed9eba1,\n    0x8f1bbcdc | 0,\n    0xca62c1d6 | 0\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @api private\n */\nfunction Sha1() {\n    this.h0 = 0x67452301;\n    this.h1 = 0xEFCDAB89;\n    this.h2 = 0x98BADCFE;\n    this.h3 = 0x10325476;\n    this.h4 = 0xC3D2E1F0;\n    // The first 64 bytes (16 words) is the data chunk\n    this.block = new Uint32Array(80);\n    this.offset = 0;\n    this.shift = 24;\n    this.totalLength = 0;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Sha1;\n\nSha1.BLOCK_SIZE = BLOCK_SIZE;\n\nSha1.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var length = data.length;\n    this.totalLength += length * 8;\n    for (var i = 0; i < length; i++) {\n        this.write(data[i]);\n    }\n\n    return this;\n};\n\nSha1.prototype.write = function write(byte) {\n    this.block[this.offset] |= (byte & 0xff) << this.shift;\n    if (this.shift) {\n        this.shift -= 8;\n    } else {\n        this.offset++;\n        this.shift = 24;\n    }\n\n    if (this.offset === 16) this.processBlock();\n};\n\nSha1.prototype.digest = function (encoding) {\n    // Pad\n    this.write(0x80);\n    if (this.offset > 14 || (this.offset === 14 && this.shift < 24)) {\n      this.processBlock();\n    }\n    this.offset = 14;\n    this.shift = 24;\n\n    // 64-bit length big-endian\n    this.write(0x00); // numbers this big aren't accurate in javascript anyway\n    this.write(0x00); // ..So just hard-code to zero.\n    this.write(this.totalLength > 0xffffffffff ? this.totalLength / 0x10000000000 : 0x00);\n    this.write(this.totalLength > 0xffffffff ? this.totalLength / 0x100000000 : 0x00);\n    for (var s = 24; s >= 0; s -= 8) {\n        this.write(this.totalLength >> s);\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    var outView = new DataView(out.buffer);\n    outView.setUint32(0, this.h0, false);\n    outView.setUint32(4, this.h1, false);\n    outView.setUint32(8, this.h2, false);\n    outView.setUint32(12, this.h3, false);\n    outView.setUint32(16, this.h4, false);\n\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha1.prototype.processBlock = function processBlock() {\n    // Extend the sixteen 32-bit words into eighty 32-bit words:\n    for (var i = 16; i < 80; i++) {\n      var w = this.block[i - 3] ^ this.block[i - 8] ^ this.block[i - 14] ^ this.block[i - 16];\n      this.block[i] = (w << 1) | (w >>> 31);\n    }\n\n    // Initialize hash value for this chunk:\n    var a = this.h0;\n    var b = this.h1;\n    var c = this.h2;\n    var d = this.h3;\n    var e = this.h4;\n    var f, k;\n\n    // Main loop:\n    for (i = 0; i < 80; i++) {\n      if (i < 20) {\n        f = d ^ (b & (c ^ d));\n        k = 0x5A827999;\n      }\n      else if (i < 40) {\n        f = b ^ c ^ d;\n        k = 0x6ED9EBA1;\n      }\n      else if (i < 60) {\n        f = (b & c) | (d & (b | c));\n        k = 0x8F1BBCDC;\n      }\n      else {\n        f = b ^ c ^ d;\n        k = 0xCA62C1D6;\n      }\n      var temp = (a << 5 | a >>> 27) + f + e + k + (this.block[i]|0);\n      e = d;\n      d = c;\n      c = (b << 30 | b >>> 2);\n      b = a;\n      a = temp;\n    }\n\n    // Add this chunk's hash to result so far:\n    this.h0 = (this.h0 + a) | 0;\n    this.h1 = (this.h1 + b) | 0;\n    this.h2 = (this.h2 + c) | 0;\n    this.h3 = (this.h3 + d) | 0;\n    this.h4 = (this.h4 + e) | 0;\n\n    // The block is now reusable.\n    this.offset = 0;\n    for (i = 0; i < 16; i++) {\n        this.block[i] = 0;\n    }\n};\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 32;\n\nvar KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @private\n */\nfunction Sha256() {\n    this.state = [\n        0x6a09e667,\n        0xbb67ae85,\n        0x3c6ef372,\n        0xa54ff53a,\n        0x510e527f,\n        0x9b05688c,\n        0x1f83d9ab,\n        0x5be0cd19,\n    ];\n    this.temp = new Int32Array(64);\n    this.buffer = new Uint8Array(64);\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    /**\n     * @private\n     */\n    this.finished = false;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Sha256;\n\nSha256.BLOCK_SIZE = BLOCK_SIZE;\n\nSha256.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {\n        throw new Error('Cannot hash more than 2^53 - 1 bits');\n    }\n\n    while (byteLength > 0) {\n        this.buffer[this.bufferLength++] = data[position++];\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nSha256.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var bitsHashed = this.bytesHashed * 8;\n        var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n        var undecoratedLength = this.bufferLength;\n        bufferView.setUint8(this.bufferLength++, 0x80);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            bufferView.setUint8(i, 0);\n        }\n        bufferView.setUint32(BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n        bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    for (var i = 0; i < 8; i++) {\n        out[i * 4] = (this.state[i] >>> 24) & 0xff;\n        out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n        out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n        out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n    }\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha256.prototype.hashBuffer = function () {\n    var _a = this,\n        buffer = _a.buffer,\n        state = _a.state;\n    var state0 = state[0],\n        state1 = state[1],\n        state2 = state[2],\n        state3 = state[3],\n        state4 = state[4],\n        state5 = state[5],\n        state6 = state[6],\n        state7 = state[7];\n    for (var i = 0; i < BLOCK_SIZE; i++) {\n        if (i < 16) {\n            this.temp[i] = (((buffer[i * 4] & 0xff) << 24) |\n                ((buffer[(i * 4) + 1] & 0xff) << 16) |\n                ((buffer[(i * 4) + 2] & 0xff) << 8) |\n                (buffer[(i * 4) + 3] & 0xff));\n        }\n        else {\n            var u = this.temp[i - 2];\n            var t1_1 = (u >>> 17 | u << 15) ^\n                (u >>> 19 | u << 13) ^\n                (u >>> 10);\n            u = this.temp[i - 15];\n            var t2_1 = (u >>> 7 | u << 25) ^\n                (u >>> 18 | u << 14) ^\n                (u >>> 3);\n            this.temp[i] = (t1_1 + this.temp[i - 7] | 0) +\n                (t2_1 + this.temp[i - 16] | 0);\n        }\n        var t1 = (((((state4 >>> 6 | state4 << 26) ^\n            (state4 >>> 11 | state4 << 21) ^\n            (state4 >>> 25 | state4 << 7))\n            + ((state4 & state5) ^ (~state4 & state6))) | 0)\n            + ((state7 + ((KEY[i] + this.temp[i]) | 0)) | 0)) | 0;\n        var t2 = (((state0 >>> 2 | state0 << 30) ^\n            (state0 >>> 13 | state0 << 19) ^\n            (state0 >>> 22 | state0 << 10)) + ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) | 0;\n        state7 = state6;\n        state6 = state5;\n        state5 = state4;\n        state4 = (state3 + t1) | 0;\n        state3 = state2;\n        state2 = state1;\n        state1 = state0;\n        state0 = (t1 + t2) | 0;\n    }\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n};\n","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","module.exports = {\n  //provide realtime clock for performance measurement\n  now: function now() {\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n      return performance.now();\n    }\n    return Date.now();\n  }\n};\n","var eventMessageChunker = require('../event-stream/event-message-chunker').eventMessageChunker;\nvar parseEvent = require('./parse-event').parseEvent;\n\nfunction createEventStream(body, parser, model) {\n    var eventMessages = eventMessageChunker(body);\n\n    var events = [];\n\n    for (var i = 0; i < eventMessages.length; i++) {\n        events.push(parseEvent(parser, eventMessages[i], model));\n    }\n\n    return events;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    createEventStream: createEventStream\n};\n","/**\n * Takes in a buffer of event messages and splits them into individual messages.\n * @param {Buffer} buffer\n * @api private\n */\nfunction eventMessageChunker(buffer) {\n    /** @type Buffer[] */\n    var messages = [];\n    var offset = 0;\n\n    while (offset < buffer.length) {\n        var totalLength = buffer.readInt32BE(offset);\n\n        // create new buffer for individual message (shares memory with original)\n        var message = buffer.slice(offset, totalLength + offset);\n        // increment offset to it starts at the next message\n        offset += totalLength;\n\n        messages.push(message);\n    }\n\n    return messages;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    eventMessageChunker: eventMessageChunker\n};\n","var parseMessage = require('./parse-message').parseMessage;\n\n/**\n *\n * @param {*} parser\n * @param {Buffer} message\n * @param {*} shape\n * @api private\n */\nfunction parseEvent(parser, message, shape) {\n    var parsedMessage = parseMessage(message);\n\n    // check if message is an event or error\n    var messageType = parsedMessage.headers[':message-type'];\n    if (messageType) {\n        if (messageType.value === 'error') {\n            throw parseError(parsedMessage);\n        } else if (messageType.value !== 'event') {\n            // not sure how to parse non-events/non-errors, ignore for now\n            return;\n        }\n    }\n\n    // determine event type\n    var eventType = parsedMessage.headers[':event-type'];\n    // check that the event type is modeled\n    var eventModel = shape.members[eventType.value];\n    if (!eventModel) {\n        return;\n    }\n\n    var result = {};\n    // check if an event payload exists\n    var eventPayloadMemberName = eventModel.eventPayloadMemberName;\n    if (eventPayloadMemberName) {\n        var payloadShape = eventModel.members[eventPayloadMemberName];\n        // if the shape is binary, return the byte array\n        if (payloadShape.type === 'binary') {\n            result[eventPayloadMemberName] = parsedMessage.body;\n        } else {\n            result[eventPayloadMemberName] = parser.parse(parsedMessage.body.toString(), payloadShape);\n        }\n    }\n\n    // read event headers\n    var eventHeaderNames = eventModel.eventHeaderMemberNames;\n    for (var i = 0; i < eventHeaderNames.length; i++) {\n        var name = eventHeaderNames[i];\n        if (parsedMessage.headers[name]) {\n            // parse the header!\n            result[name] = eventModel.members[name].toType(parsedMessage.headers[name].value);\n        }\n    }\n\n    var output = {};\n    output[eventType.value] = result;\n    return output;\n}\n\nfunction parseError(message) {\n    var errorCode = message.headers[':error-code'];\n    var errorMessage = message.headers[':error-message'];\n    var error = new Error(errorMessage.value || errorMessage);\n    error.code = error.name = errorCode.value || errorCode;\n    return error;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    parseEvent: parseEvent\n};\n","var Int64 = require('./int64').Int64;\n\nvar splitMessage = require('./split-message').splitMessage;\n\nvar BOOLEAN_TAG = 'boolean';\nvar BYTE_TAG = 'byte';\nvar SHORT_TAG = 'short';\nvar INT_TAG = 'integer';\nvar LONG_TAG = 'long';\nvar BINARY_TAG = 'binary';\nvar STRING_TAG = 'string';\nvar TIMESTAMP_TAG = 'timestamp';\nvar UUID_TAG = 'uuid';\n\n/**\n * @api private\n *\n * @param {Buffer} headers\n */\nfunction parseHeaders(headers) {\n    var out = {};\n    var position = 0;\n    while (position < headers.length) {\n        var nameLength = headers.readUInt8(position++);\n        var name = headers.slice(position, position + nameLength).toString();\n        position += nameLength;\n        switch (headers.readUInt8(position++)) {\n            case 0 /* boolTrue */:\n                out[name] = {\n                    type: BOOLEAN_TAG,\n                    value: true\n                };\n                break;\n            case 1 /* boolFalse */:\n                out[name] = {\n                    type: BOOLEAN_TAG,\n                    value: false\n                };\n                break;\n            case 2 /* byte */:\n                out[name] = {\n                    type: BYTE_TAG,\n                    value: headers.readInt8(position++)\n                };\n                break;\n            case 3 /* short */:\n                out[name] = {\n                    type: SHORT_TAG,\n                    value: headers.readInt16BE(position)\n                };\n                position += 2;\n                break;\n            case 4 /* integer */:\n                out[name] = {\n                    type: INT_TAG,\n                    value: headers.readInt32BE(position)\n                };\n                position += 4;\n                break;\n            case 5 /* long */:\n                out[name] = {\n                    type: LONG_TAG,\n                    value: new Int64(headers.slice(position, position + 8))\n                };\n                position += 8;\n                break;\n            case 6 /* byteArray */:\n                var binaryLength = headers.readUInt16BE(position);\n                position += 2;\n                out[name] = {\n                    type: BINARY_TAG,\n                    value: headers.slice(position, position + binaryLength)\n                };\n                position += binaryLength;\n                break;\n            case 7 /* string */:\n                var stringLength = headers.readUInt16BE(position);\n                position += 2;\n                out[name] = {\n                    type: STRING_TAG,\n                    value: headers.slice(\n                        position,\n                        position + stringLength\n                    ).toString()\n                };\n                position += stringLength;\n                break;\n            case 8 /* timestamp */:\n                out[name] = {\n                    type: TIMESTAMP_TAG,\n                    value: new Date(\n                        new Int64(headers.slice(position, position + 8))\n                            .valueOf()\n                    )\n                };\n                position += 8;\n                break;\n            case 9 /* uuid */:\n                var uuidChars = headers.slice(position, position + 16)\n                    .toString('hex');\n                position += 16;\n                out[name] = {\n                    type: UUID_TAG,\n                    value: uuidChars.substr(0, 8) + '-' +\n                        uuidChars.substr(8, 4) + '-' +\n                        uuidChars.substr(12, 4) + '-' +\n                        uuidChars.substr(16, 4) + '-' +\n                        uuidChars.substr(20)\n                };\n                break;\n            default:\n                throw new Error('Unrecognized header type tag');\n        }\n    }\n    return out;\n}\n\nfunction parseMessage(message) {\n    var parsed = splitMessage(message);\n    return { headers: parseHeaders(parsed.headers), body: parsed.body };\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    parseMessage: parseMessage\n};\n","var util = require('../core').util;\nvar toBuffer = util.buffer.toBuffer;\n\n/**\n * A lossless representation of a signed, 64-bit integer. Instances of this\n * class may be used in arithmetic expressions as if they were numeric\n * primitives, but the binary representation will be preserved unchanged as the\n * `bytes` property of the object. The bytes should be encoded as big-endian,\n * two's complement integers.\n * @param {Buffer} bytes\n *\n * @api private\n */\nfunction Int64(bytes) {\n    if (bytes.length !== 8) {\n        throw new Error('Int64 buffers must be exactly 8 bytes');\n    }\n    if (!util.Buffer.isBuffer(bytes)) bytes = toBuffer(bytes);\n\n    this.bytes = bytes;\n}\n\n/**\n * @param {number} number\n * @returns {Int64}\n *\n * @api private\n */\nInt64.fromNumber = function(number) {\n    if (number > 9223372036854775807 || number < -9223372036854775808) {\n        throw new Error(\n            number + ' is too large (or, if negative, too small) to represent as an Int64'\n        );\n    }\n\n    var bytes = new Uint8Array(8);\n    for (\n        var i = 7, remaining = Math.abs(Math.round(number));\n        i > -1 && remaining > 0;\n        i--, remaining /= 256\n    ) {\n        bytes[i] = remaining;\n    }\n\n    if (number < 0) {\n        negate(bytes);\n    }\n\n    return new Int64(bytes);\n};\n\n/**\n * @returns {number}\n *\n * @api private\n */\nInt64.prototype.valueOf = function() {\n    var bytes = this.bytes.slice(0);\n    var negative = bytes[0] & 128;\n    if (negative) {\n        negate(bytes);\n    }\n\n    return parseInt(bytes.toString('hex'), 16) * (negative ? -1 : 1);\n};\n\nInt64.prototype.toString = function() {\n    return String(this.valueOf());\n};\n\n/**\n * @param {Buffer} bytes\n *\n * @api private\n */\nfunction negate(bytes) {\n    for (var i = 0; i < 8; i++) {\n        bytes[i] ^= 0xFF;\n    }\n    for (var i = 7; i > -1; i--) {\n        bytes[i]++;\n        if (bytes[i] !== 0) {\n            break;\n        }\n    }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    Int64: Int64\n};\n","var util = require('../core').util;\nvar toBuffer = util.buffer.toBuffer;\n\n// All prelude components are unsigned, 32-bit integers\nvar PRELUDE_MEMBER_LENGTH = 4;\n// The prelude consists of two components\nvar PRELUDE_LENGTH = PRELUDE_MEMBER_LENGTH * 2;\n// Checksums are always CRC32 hashes.\nvar CHECKSUM_LENGTH = 4;\n// Messages must include a full prelude, a prelude checksum, and a message checksum\nvar MINIMUM_MESSAGE_LENGTH = PRELUDE_LENGTH + CHECKSUM_LENGTH * 2;\n\n/**\n * @api private\n *\n * @param {Buffer} message\n */\nfunction splitMessage(message) {\n    if (!util.Buffer.isBuffer(message)) message = toBuffer(message);\n\n    if (message.length < MINIMUM_MESSAGE_LENGTH) {\n        throw new Error('Provided message too short to accommodate event stream message overhead');\n    }\n\n    if (message.length !== message.readUInt32BE(0)) {\n        throw new Error('Reported message length does not match received message length');\n    }\n\n    var expectedPreludeChecksum = message.readUInt32BE(PRELUDE_LENGTH);\n\n    if (\n        expectedPreludeChecksum !== util.crypto.crc32(\n            message.slice(0, PRELUDE_LENGTH)\n        )\n    ) {\n        throw new Error(\n            'The prelude checksum specified in the message (' +\n            expectedPreludeChecksum +\n            ') does not match the calculated CRC32 checksum.'\n        );\n    }\n\n    var expectedMessageChecksum = message.readUInt32BE(message.length - CHECKSUM_LENGTH);\n\n    if (\n        expectedMessageChecksum !== util.crypto.crc32(\n            message.slice(0, message.length - CHECKSUM_LENGTH)\n        )\n    ) {\n        throw new Error(\n            'The message checksum did not match the expected value of ' +\n                expectedMessageChecksum\n        );\n    }\n\n    var headersStart = PRELUDE_LENGTH + CHECKSUM_LENGTH;\n    var headersEnd = headersStart + message.readUInt32BE(PRELUDE_MEMBER_LENGTH);\n\n    return {\n        headers: message.slice(headersStart, headersEnd),\n        body: message.slice(headersEnd, message.length - CHECKSUM_LENGTH),\n    };\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    splitMessage: splitMessage\n};\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents temporary credentials retrieved from {AWS.STS}. Without any\n * extra parameters, credentials will be fetched from the\n * {AWS.STS.getSessionToken} operation. If an IAM role is provided, the\n * {AWS.STS.assumeRole} operation will be used to fetch credentials for the\n * role instead.\n *\n * @note AWS.TemporaryCredentials is deprecated, but remains available for\n *   backwards compatibility. {AWS.ChainableTemporaryCredentials} is the\n *   preferred class for temporary credentials.\n *\n * To setup temporary credentials, configure a set of master credentials\n * using the standard credentials providers (environment, EC2 instance metadata,\n * or from the filesystem), then set the global credentials to a new\n * temporary credentials object:\n *\n * ```javascript\n * // Note that environment credentials are loaded by default,\n * // the following line is shown for clarity:\n * AWS.config.credentials = new AWS.EnvironmentCredentials('AWS');\n *\n * // Now set temporary credentials seeded from the master credentials\n * AWS.config.credentials = new AWS.TemporaryCredentials();\n *\n * // subsequent requests will now use temporary credentials from AWS STS.\n * new AWS.S3().listBucket(function(err, data) { ... });\n * ```\n *\n * @!attribute masterCredentials\n *   @return [AWS.Credentials] the master (non-temporary) credentials used to\n *     get and refresh temporary credentials from AWS STS.\n * @note (see constructor)\n */\nAWS.TemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new temporary credentials object.\n   *\n   * @note In order to create temporary credentials, you first need to have\n   *   \"master\" credentials configured in {AWS.Config.credentials}. These\n   *   master credentials are necessary to retrieve the temporary credentials,\n   *   as well as refresh the credentials when they expire.\n   * @param params [map] a map of options that are passed to the\n   *   {AWS.STS.assumeRole} or {AWS.STS.getSessionToken} operations.\n   *   If a `RoleArn` parameter is passed in, credentials will be based on the\n   *   IAM role.\n   * @param masterCredentials [AWS.Credentials] the master (non-temporary) credentials\n   *  used to get and refresh temporary credentials from AWS STS.\n   * @example Creating a new credentials object for generic temporary credentials\n   *   AWS.config.credentials = new AWS.TemporaryCredentials();\n   * @example Creating a new credentials object for an IAM role\n   *   AWS.config.credentials = new AWS.TemporaryCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/TemporaryCredentials',\n   *   });\n   * @see AWS.STS.assumeRole\n   * @see AWS.STS.getSessionToken\n   */\n  constructor: function TemporaryCredentials(params, masterCredentials) {\n    AWS.Credentials.call(this);\n    this.loadMasterCredentials(masterCredentials);\n    this.expired = true;\n\n    this.params = params || {};\n    if (this.params.RoleArn) {\n      this.params.RoleSessionName =\n        this.params.RoleSessionName || 'temporary-credentials';\n    }\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRole} or\n   * {AWS.STS.getSessionToken}, depending on whether an IAM role ARN was passed\n   * to the credentials {constructor}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh (callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load (callback) {\n    var self = this;\n    self.createClients();\n    self.masterCredentials.get(function () {\n      self.service.config.credentials = self.masterCredentials;\n      var operation = self.params.RoleArn ?\n        self.service.assumeRole : self.service.getSessionToken;\n      operation.call(self.service, function (err, data) {\n        if (!err) {\n          self.service.credentialsFrom(data, self);\n        }\n        callback(err);\n      });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadMasterCredentials: function loadMasterCredentials (masterCredentials) {\n    this.masterCredentials = masterCredentials || AWS.config.credentials;\n    while (this.masterCredentials.masterCredentials) {\n      this.masterCredentials = this.masterCredentials.masterCredentials;\n    }\n\n    if (typeof this.masterCredentials.get !== 'function') {\n      this.masterCredentials = new AWS.Credentials(this.masterCredentials);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function () {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","var AWS = require('../core');\n\nAWS.util.update(AWS.STS.prototype, {\n  /**\n   * @overload credentialsFrom(data, credentials = null)\n   *   Creates a credentials object from STS response data containing\n   *   credentials information. Useful for quickly setting AWS credentials.\n   *\n   *   @note This is a low-level utility function. If you want to load temporary\n   *     credentials into your process for subsequent requests to AWS resources,\n   *     you should use {AWS.TemporaryCredentials} instead.\n   *   @param data [map] data retrieved from a call to {getFederatedToken},\n   *     {getSessionToken}, {assumeRole}, or {assumeRoleWithWebIdentity}.\n   *   @param credentials [AWS.Credentials] an optional credentials object to\n   *     fill instead of creating a new object. Useful when modifying an\n   *     existing credentials object from a refresh call.\n   *   @return [AWS.TemporaryCredentials] the set of temporary credentials\n   *     loaded from a raw STS operation response.\n   *   @example Using credentialsFrom to load global AWS credentials\n   *     var sts = new AWS.STS();\n   *     sts.getSessionToken(function (err, data) {\n   *       if (err) console.log(\"Error getting credentials\");\n   *       else {\n   *         AWS.config.credentials = sts.credentialsFrom(data);\n   *       }\n   *     });\n   *   @see AWS.TemporaryCredentials\n   */\n  credentialsFrom: function credentialsFrom(data, credentials) {\n    if (!data) return null;\n    if (!credentials) credentials = new AWS.TemporaryCredentials();\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretAccessKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n    return credentials;\n  },\n\n  assumeRoleWithWebIdentity: function assumeRoleWithWebIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithWebIdentity', params, callback);\n  },\n\n  assumeRoleWithSAML: function assumeRoleWithSAML(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithSAML', params, callback);\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents temporary credentials retrieved from {AWS.STS}. Without any\n * extra parameters, credentials will be fetched from the\n * {AWS.STS.getSessionToken} operation. If an IAM role is provided, the\n * {AWS.STS.assumeRole} operation will be used to fetch credentials for the\n * role instead.\n *\n * AWS.ChainableTemporaryCredentials differs from AWS.TemporaryCredentials in\n * the way masterCredentials and refreshes are handled.\n * AWS.ChainableTemporaryCredentials refreshes expired credentials using the\n * masterCredentials passed by the user to support chaining of STS credentials.\n * However, AWS.TemporaryCredentials recursively collapses the masterCredentials\n * during instantiation, precluding the ability to refresh credentials which\n * require intermediate, temporary credentials.\n *\n * For example, if the application should use RoleA, which must be assumed from\n * RoleB, and the environment provides credentials which can assume RoleB, then\n * AWS.ChainableTemporaryCredentials must be used to support refreshing the\n * temporary credentials for RoleA:\n *\n * ```javascript\n * var roleACreds = new AWS.ChainableTemporaryCredentials({\n *   params: {RoleArn: 'RoleA'},\n *   masterCredentials: new AWS.ChainableTemporaryCredentials({\n *     params: {RoleArn: 'RoleB'},\n *     masterCredentials: new AWS.EnvironmentCredentials('AWS')\n *   })\n * });\n * ```\n *\n * If AWS.TemporaryCredentials had been used in the previous example,\n * `roleACreds` would fail to refresh because `roleACreds` would\n * use the environment credentials for the AssumeRole request.\n *\n * Another difference is that AWS.ChainableTemporaryCredentials creates the STS\n * service instance during instantiation while AWS.TemporaryCredentials creates\n * the STS service instance during the first refresh. Creating the service\n * instance during instantiation effectively captures the master credentials\n * from the global config, so that subsequent changes to the global config do\n * not affect the master credentials used to refresh the temporary credentials.\n *\n * This allows an instance of AWS.ChainableTemporaryCredentials to be assigned\n * to AWS.config.credentials:\n *\n * ```javascript\n * var envCreds = new AWS.EnvironmentCredentials('AWS');\n * AWS.config.credentials = envCreds;\n * // masterCredentials will be envCreds\n * AWS.config.credentials = new AWS.ChainableTemporaryCredentials({\n *   params: {RoleArn: '...'}\n * });\n * ```\n *\n * Similarly, to use the CredentialProviderChain's default providers as the\n * master credentials, simply create a new instance of\n * AWS.ChainableTemporaryCredentials:\n *\n * ```javascript\n * AWS.config.credentials = new ChainableTemporaryCredentials({\n *   params: {RoleArn: '...'}\n * });\n * ```\n *\n * @!attribute service\n *   @return [AWS.STS] the STS service instance used to\n *     get and refresh temporary credentials from AWS STS.\n * @note (see constructor)\n */\nAWS.ChainableTemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new temporary credentials object.\n   *\n   * @param options [map] a set of options\n   * @option options params [map] ({}) a map of options that are passed to the\n   *   {AWS.STS.assumeRole} or {AWS.STS.getSessionToken} operations.\n   *   If a `RoleArn` parameter is passed in, credentials will be based on the\n   *   IAM role. If a `SerialNumber` parameter is passed in, {tokenCodeFn} must\n   *   also be passed in or an error will be thrown.\n   * @option options masterCredentials [AWS.Credentials] the master credentials\n   *   used to get and refresh temporary credentials from AWS STS. By default,\n   *   AWS.config.credentials or AWS.config.credentialProvider will be used.\n   * @option options tokenCodeFn [Function] (null) Function to provide\n   *   `TokenCode`, if `SerialNumber` is provided for profile in {params}. Function\n   *   is called with value of `SerialNumber` and `callback`, and should provide\n   *   the `TokenCode` or an error to the callback in the format\n   *   `callback(err, token)`.\n   * @example Creating a new credentials object for generic temporary credentials\n   *   AWS.config.credentials = new AWS.ChainableTemporaryCredentials();\n   * @example Creating a new credentials object for an IAM role\n   *   AWS.config.credentials = new AWS.ChainableTemporaryCredentials({\n   *     params: {\n   *       RoleArn: 'arn:aws:iam::1234567890:role/TemporaryCredentials'\n   *     }\n   *   });\n   * @see AWS.STS.assumeRole\n   * @see AWS.STS.getSessionToken\n   */\n  constructor: function ChainableTemporaryCredentials(options) {\n    AWS.Credentials.call(this);\n    options = options || {};\n    this.errorCode = 'ChainableTemporaryCredentialsProviderFailure';\n    this.expired = true;\n    this.tokenCodeFn = null;\n\n    var params = AWS.util.copy(options.params) || {};\n    if (params.RoleArn) {\n      params.RoleSessionName = params.RoleSessionName || 'temporary-credentials';\n    }\n    if (params.SerialNumber) {\n      if (!options.tokenCodeFn || (typeof options.tokenCodeFn !== 'function')) {\n        throw new AWS.util.error(\n          new Error('tokenCodeFn must be a function when params.SerialNumber is given'),\n          {code: this.errorCode}\n        );\n      } else {\n        this.tokenCodeFn = options.tokenCodeFn;\n      }\n    }\n    this.service = new STS({\n      params: params,\n      credentials: options.masterCredentials || AWS.config.credentials\n    });\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRole} or\n   * {AWS.STS.getSessionToken}, depending on whether an IAM role ARN was passed\n   * to the credentials {constructor}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see AWS.Credentials.get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    var self = this;\n    var operation = self.service.config.params.RoleArn ? 'assumeRole' : 'getSessionToken';\n    this.getTokenCode(function (err, tokenCode) {\n      var params = {};\n      if (err) {\n        callback(err);\n        return;\n      }\n      if (tokenCode) {\n        params.TokenCode = tokenCode;\n      }\n      self.service[operation](params, function (err, data) {\n        if (!err) {\n          self.service.credentialsFrom(data, self);\n        }\n        callback(err);\n      });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  getTokenCode: function getTokenCode(callback) {\n    var self = this;\n    if (this.tokenCodeFn) {\n      this.tokenCodeFn(this.service.config.params.SerialNumber, function (err, token) {\n        if (err) {\n          var message = err;\n          if (err instanceof Error) {\n            message = err.message;\n          }\n          callback(\n            AWS.util.error(\n              new Error('Error fetching MFA token: ' + message),\n              { code: self.errorCode}\n            )\n          );\n          return;\n        }\n        callback(null, token);\n      });\n    } else {\n      callback(null);\n    }\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given. In addition, the\n * `WebIdentityToken` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn` and `WebIdentityToken` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.WebIdentityToken = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n */\nAWS.WebIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithWebIdentity)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.WebIdentityCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/WebIdentity',\n   *     WebIdentityToken: 'ABCDEFGHIJKLMNOP', // token from identity service\n   *     RoleSessionName: 'web' // optional name, defaults to web-identity\n   *   }, {\n   *     // optionally provide configuration to apply to the underlying AWS.STS service client\n   *     // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *     // specify timeout options\n   *     httpOptions: {\n   *       timeout: 100\n   *     }\n   *   });\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.Config\n   */\n  constructor: function WebIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.params.RoleSessionName = this.params.RoleSessionName || 'web-identity';\n    this.data = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithWebIdentity}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.service.assumeRoleWithWebIdentity(function (err, data) {\n      self.data = null;\n      if (!err) {\n        self.data = data;\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    if (!this.service) {\n      var stsConfig = AWS.util.merge({}, this._clientConfig);\n      stsConfig.params = this.params;\n      this.service = new STS(stsConfig);\n    }\n  }\n\n});\n","var AWS = require('../core');\nvar CognitoIdentity = require('../../clients/cognitoidentity');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation using\n * the Amazon Cognito Identity service.\n *\n * By default this provider gets credentials using the\n * {AWS.CognitoIdentity.getCredentialsForIdentity} service operation, which\n * requires either an `IdentityId` or an `IdentityPoolId` (Amazon Cognito\n * Identity Pool ID), which is used to call {AWS.CognitoIdentity.getId} to\n * obtain an `IdentityId`. If the identity or identity pool is not configured in\n * the Amazon Cognito Console to use IAM roles with the appropriate permissions,\n * then additionally a `RoleArn` is required containing the ARN of the IAM trust\n * policy for the Amazon Cognito role that the user will log into. If a `RoleArn`\n * is provided, then this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation, after first getting an\n * Open ID token from {AWS.CognitoIdentity.getOpenIdToken}.\n *\n * In addition, if this credential provider is used to provide authenticated\n * login, the `Logins` map may be set to the tokens provided by the respective\n * identity providers. See {constructor} for an example on creating a credentials\n * object with proper property values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.Logins['graph.facebook.com'] = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.CognitoIdentity.getId},\n *     {AWS.CognitoIdentity.getOpenIdToken}, and\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.CognitoIdentity.getCredentialsForIdentity}, or\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n * @!attribute identityId\n *   @return [String] the Cognito ID returned by the last call to\n *     {AWS.CognitoIdentity.getOpenIdToken}. This ID represents the actual\n *     final resolved identity ID from Amazon Cognito.\n */\nAWS.CognitoIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * @api private\n   */\n  localStorageKey: {\n    id: 'aws.cognito.identity-id.',\n    providers: 'aws.cognito.identity-providers.'\n  },\n\n  /**\n   * Creates a new credentials object.\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n   *\n   *     // either IdentityPoolId or IdentityId is required\n   *     // See the IdentityPoolId param for AWS.CognitoIdentity.getID (linked below)\n   *     // See the IdentityId param for AWS.CognitoIdentity.getCredentialsForIdentity\n   *     // or AWS.CognitoIdentity.getOpenIdToken (linked below)\n   *     IdentityPoolId: 'us-east-1:1699ebc0-7900-4099-b910-2df94f52a030',\n   *     IdentityId: 'us-east-1:128d0a74-c82f-4553-916d-90053e4a8b0f'\n   *\n   *     // optional, only necessary when the identity pool is not configured\n   *     // to use IAM roles in the Amazon Cognito Console\n   *     // See the RoleArn param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleArn: 'arn:aws:iam::1234567890:role/MYAPP-CognitoIdentity',\n   *\n   *     // optional tokens, used for authenticated login\n   *     // See the Logins param for AWS.CognitoIdentity.getID (linked below)\n   *     Logins: {\n   *       'graph.facebook.com': 'FBTOKEN',\n   *       'www.amazon.com': 'AMAZONTOKEN',\n   *       'accounts.google.com': 'GOOGLETOKEN',\n   *       'api.twitter.com': 'TWITTERTOKEN',\n   *       'www.digits.com': 'DIGITSTOKEN'\n   *     },\n   *\n   *     // optional name, defaults to web-identity\n   *     // See the RoleSessionName param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleSessionName: 'web',\n   *\n   *     // optional, only necessary when application runs in a browser\n   *     // and multiple users are signed in at once, used for caching\n   *     LoginId: 'example@gmail.com'\n   *\n   *   }, {\n   *      // optionally provide configuration to apply to the underlying service clients\n   *      // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *      // region should match the region your identity pool is located in\n   *      region: 'us-east-1',\n   *\n   *      // specify timeout options\n   *      httpOptions: {\n   *        timeout: 100\n   *      }\n   *   });\n   * @see AWS.CognitoIdentity.getId\n   * @see AWS.CognitoIdentity.getCredentialsForIdentity\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.CognitoIdentity.getOpenIdToken\n   * @see AWS.Config\n   * @note If a region is not provided in the global AWS.config, or\n   *   specified in the `clientConfig` to the CognitoIdentityCredentials\n   *   constructor, you may encounter a 'Missing credentials in config' error\n   *   when calling making a service call.\n   */\n  constructor: function CognitoIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.data = null;\n    this._identityId = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n    this.loadCachedId();\n    var self = this;\n    Object.defineProperty(this, 'identityId', {\n      get: function() {\n        self.loadCachedId();\n        return self._identityId || self.params.IdentityId;\n      },\n      set: function(identityId) {\n        self._identityId = identityId;\n      }\n    });\n  },\n\n  /**\n   * Refreshes credentials using {AWS.CognitoIdentity.getCredentialsForIdentity},\n   * or {AWS.STS.assumeRoleWithWebIdentity}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see AWS.Credentials.get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.data = null;\n    self._identityId = null;\n    self.getId(function(err) {\n      if (!err) {\n        if (!self.params.RoleArn) {\n          self.getCredentialsForIdentity(callback);\n        } else {\n          self.getCredentialsFromSTS(callback);\n        }\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * Clears the cached Cognito ID associated with the currently configured\n   * identity pool ID. Use this to manually invalidate your cache if\n   * the identity pool ID was deleted.\n   */\n  clearCachedId: function clearCache() {\n    this._identityId = null;\n    delete this.params.IdentityId;\n\n    var poolId = this.params.IdentityPoolId;\n    var loginId = this.params.LoginId || '';\n    delete this.storage[this.localStorageKey.id + poolId + loginId];\n    delete this.storage[this.localStorageKey.providers + poolId + loginId];\n  },\n\n  /**\n   * @api private\n   */\n  clearIdOnNotAuthorized: function clearIdOnNotAuthorized(err) {\n    var self = this;\n    if (err.code == 'NotAuthorizedException') {\n      self.clearCachedId();\n    }\n  },\n\n  /**\n   * Retrieves a Cognito ID, loading from cache if it was already retrieved\n   * on this device.\n   *\n   * @callback callback function(err, identityId)\n   *   @param err [Error, null] an error object if the call failed or null if\n   *     it succeeded.\n   *   @param identityId [String, null] if successful, the callback will return\n   *     the Cognito ID.\n   * @note If not loaded explicitly, the Cognito ID is loaded and stored in\n   *   localStorage in the browser environment of a device.\n   * @api private\n   */\n  getId: function getId(callback) {\n    var self = this;\n    if (typeof self.params.IdentityId === 'string') {\n      return callback(null, self.params.IdentityId);\n    }\n\n    self.cognito.getId(function(err, data) {\n      if (!err && data.IdentityId) {\n        self.params.IdentityId = data.IdentityId;\n        callback(null, data.IdentityId);\n      } else {\n        callback(err);\n      }\n    });\n  },\n\n\n  /**\n   * @api private\n   */\n  loadCredentials: function loadCredentials(data, credentials) {\n    if (!data || !credentials) return;\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsForIdentity: function getCredentialsForIdentity(callback) {\n    var self = this;\n    self.cognito.getCredentialsForIdentity(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.data = data;\n        self.loadCredentials(self.data, self);\n      } else {\n        self.clearIdOnNotAuthorized(err);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsFromSTS: function getCredentialsFromSTS(callback) {\n    var self = this;\n    self.cognito.getOpenIdToken(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.params.WebIdentityToken = data.Token;\n        self.webIdentityCredentials.refresh(function(webErr) {\n          if (!webErr) {\n            self.data = self.webIdentityCredentials.data;\n            self.sts.credentialsFrom(self.data, self);\n          }\n          callback(webErr);\n        });\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadCachedId: function loadCachedId() {\n    var self = this;\n\n    // in the browser we source default IdentityId from localStorage\n    if (AWS.util.isBrowser() && !self.params.IdentityId) {\n      var id = self.getStorage('id');\n      if (id && self.params.Logins) {\n        var actualProviders = Object.keys(self.params.Logins);\n        var cachedProviders =\n          (self.getStorage('providers') || '').split(',');\n\n        // only load ID if at least one provider used this ID before\n        var intersect = cachedProviders.filter(function(n) {\n          return actualProviders.indexOf(n) !== -1;\n        });\n        if (intersect.length !== 0) {\n          self.params.IdentityId = id;\n        }\n      } else if (id) {\n        self.params.IdentityId = id;\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    var clientConfig = this._clientConfig;\n    this.webIdentityCredentials = this.webIdentityCredentials ||\n      new AWS.WebIdentityCredentials(this.params, clientConfig);\n    if (!this.cognito) {\n      var cognitoConfig = AWS.util.merge({}, clientConfig);\n      cognitoConfig.params = this.params;\n      this.cognito = new CognitoIdentity(cognitoConfig);\n    }\n    this.sts = this.sts || new STS(clientConfig);\n  },\n\n  /**\n   * @api private\n   */\n  cacheId: function cacheId(data) {\n    this._identityId = data.IdentityId;\n    this.params.IdentityId = this._identityId;\n\n    // cache this IdentityId in browser localStorage if possible\n    if (AWS.util.isBrowser()) {\n      this.setStorage('id', data.IdentityId);\n\n      if (this.params.Logins) {\n        this.setStorage('providers', Object.keys(this.params.Logins).join(','));\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getStorage: function getStorage(key) {\n    return this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')];\n  },\n\n  /**\n   * @api private\n   */\n  setStorage: function setStorage(key, val) {\n    try {\n      this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')] = val;\n    } catch (_) {}\n  },\n\n  /**\n   * @api private\n   */\n  storage: (function() {\n    try {\n      var storage = AWS.util.isBrowser() && window.localStorage !== null && typeof window.localStorage === 'object' ?\n          window.localStorage : {};\n\n      // Test set/remove which would throw an error in Safari's private browsing\n      storage['aws.test-storage'] = 'foobar';\n      delete storage['aws.test-storage'];\n\n      return storage;\n    } catch (_) {\n      return {};\n    }\n  })()\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cognitoidentity'] = {};\nAWS.CognitoIdentity = Service.defineService('cognitoidentity', ['2014-06-30']);\nrequire('../lib/services/cognitoidentity');\nObject.defineProperty(apiLoader.services['cognitoidentity'], '2014-06-30', {\n  get: function get() {\n    var model = require('../apis/cognito-identity-2014-06-30.min.json');\n    model.paginators = require('../apis/cognito-identity-2014-06-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CognitoIdentity;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.CognitoIdentity.prototype, {\n  getOpenIdToken: function getOpenIdToken(params, callback) {\n    return this.makeUnauthenticatedRequest('getOpenIdToken', params, callback);\n  },\n\n  getId: function getId(params, callback) {\n    return this.makeUnauthenticatedRequest('getId', params, callback);\n  },\n\n  getCredentialsForIdentity: function getCredentialsForIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('getCredentialsForIdentity', params, callback);\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS SAML support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithSAML} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given, as well as a `PrincipalArn`\n * representing the ARN for the SAML identity provider. In addition, the\n * `SAMLAssertion` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn`, `PrincipalArn`, and `SAMLAssertion` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the SAMLAssertion, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.SAMLAssertion = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithSAML}. To update the token, set the\n *     `params.SAMLAssertion` property.\n */\nAWS.SAMLCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithSAML)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.SAMLCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/SAMLRole',\n   *     PrincipalArn: 'arn:aws:iam::1234567890:role/SAMLPrincipal',\n   *     SAMLAssertion: 'base64-token', // base64-encoded token from IdP\n   *   });\n   * @see AWS.STS.assumeRoleWithSAML\n   */\n  constructor: function SAMLCredentials(params) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithSAML}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.service.assumeRoleWithSAML(function (err, data) {\n      if (!err) {\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","var util = require('../util');\nvar Shape = require('../model/shape');\n\nfunction DomXmlParser() { }\n\nDomXmlParser.prototype.parse = function(xml, shape) {\n  if (xml.replace(/^\\s+/, '') === '') return {};\n\n  var result, error;\n  try {\n    if (window.DOMParser) {\n      try {\n        var parser = new DOMParser();\n        result = parser.parseFromString(xml, 'text/xml');\n      } catch (syntaxError) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            originalError: syntaxError,\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      if (result.documentElement === null) {\n        throw util.error(new Error('Cannot parse empty document.'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      var isError = result.getElementsByTagName('parsererror')[0];\n      if (isError && (isError.parentNode === result ||\n          isError.parentNode.nodeName === 'body' ||\n          isError.parentNode.parentNode === result ||\n          isError.parentNode.parentNode.nodeName === 'body')) {\n        var errorElement = isError.getElementsByTagName('div')[0] || isError;\n        throw util.error(new Error(errorElement.textContent || 'Parser error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else if (window.ActiveXObject) {\n      result = new window.ActiveXObject('Microsoft.XMLDOM');\n      result.async = false;\n\n      if (!result.loadXML(xml)) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else {\n      throw new Error('Cannot load XML parser');\n    }\n  } catch (e) {\n    error = e;\n  }\n\n  if (result && result.documentElement && !error) {\n    var data = parseXml(result.documentElement, shape);\n    var metadata = getElementByTagName(result.documentElement, 'ResponseMetadata');\n    if (metadata) {\n      data.ResponseMetadata = parseXml(metadata, {});\n    }\n    return data;\n  } else if (error) {\n    throw util.error(error || new Error(), {code: 'XMLParserError', retryable: true});\n  } else { // empty xml document\n    return {};\n  }\n};\n\nfunction getElementByTagName(xml, tag) {\n  var elements = xml.getElementsByTagName(tag);\n  for (var i = 0, iLen = elements.length; i < iLen; i++) {\n    if (elements[i].parentNode === xml) {\n      return elements[i];\n    }\n  }\n}\n\nfunction parseXml(xml, shape) {\n  if (!shape) shape = {};\n  switch (shape.type) {\n    case 'structure': return parseStructure(xml, shape);\n    case 'map': return parseMap(xml, shape);\n    case 'list': return parseList(xml, shape);\n    case undefined: case null: return parseUnknown(xml);\n    default: return parseScalar(xml, shape);\n  }\n}\n\nfunction parseStructure(xml, shape) {\n  var data = {};\n  if (xml === null) return data;\n\n  util.each(shape.members, function(memberName, memberShape) {\n    if (memberShape.isXmlAttribute) {\n      if (Object.prototype.hasOwnProperty.call(xml.attributes, memberShape.name)) {\n        var value = xml.attributes[memberShape.name].value;\n        data[memberName] = parseXml({textContent: value}, memberShape);\n      }\n    } else {\n      var xmlChild = memberShape.flattened ? xml :\n        getElementByTagName(xml, memberShape.name);\n      if (xmlChild) {\n        data[memberName] = parseXml(xmlChild, memberShape);\n      } else if (!memberShape.flattened && memberShape.type === 'list') {\n        data[memberName] = memberShape.defaultValue;\n      }\n    }\n  });\n\n  return data;\n}\n\nfunction parseMap(xml, shape) {\n  var data = {};\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n  var tagName = shape.flattened ? shape.name : 'entry';\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      var key = getElementByTagName(child, xmlKey).textContent;\n      var value = getElementByTagName(child, xmlValue);\n      data[key] = parseXml(value, shape.value);\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseList(xml, shape) {\n  var data = [];\n  var tagName = shape.flattened ? shape.name : (shape.member.name || 'member');\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      data.push(parseXml(child, shape.member));\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseScalar(xml, shape) {\n  if (xml.getAttribute) {\n    var encoding = xml.getAttribute('encoding');\n    if (encoding === 'base64') {\n      shape = new Shape.create({type: encoding});\n    }\n  }\n\n  var text = xml.textContent;\n  if (text === '') text = null;\n  if (typeof shape.toType === 'function') {\n    return shape.toType(text);\n  } else {\n    return text;\n  }\n}\n\nfunction parseUnknown(xml) {\n  if (xml === undefined || xml === null) return '';\n\n  // empty object\n  if (!xml.firstElementChild) {\n    if (xml.parentNode.parentNode === null) return {};\n    if (xml.childNodes.length === 0) return '';\n    else return xml.textContent;\n  }\n\n  // object, parse as structure\n  var shape = {type: 'structure', members: {}};\n  var child = xml.firstElementChild;\n  while (child) {\n    var tag = child.nodeName;\n    if (Object.prototype.hasOwnProperty.call(shape.members, tag)) {\n      // multiple tags of the same name makes it a list\n      shape.members[tag].type = 'list';\n    } else {\n      shape.members[tag] = {name: tag};\n    }\n    child = child.nextElementSibling;\n  }\n  return parseStructure(xml, shape);\n}\n\n/**\n * @api private\n */\nmodule.exports = DomXmlParser;\n","var AWS = require('../core');\nvar EventEmitter = require('events').EventEmitter;\nrequire('../http');\n\n/**\n * @api private\n */\nAWS.XHRClient = AWS.util.inherit({\n  handleRequest: function handleRequest(httpRequest, httpOptions, callback, errCallback) {\n    var self = this;\n    var endpoint = httpRequest.endpoint;\n    var emitter = new EventEmitter();\n    var href = endpoint.protocol + '//' + endpoint.hostname;\n    if (endpoint.port !== 80 && endpoint.port !== 443) {\n      href += ':' + endpoint.port;\n    }\n    href += httpRequest.path;\n\n    var xhr = new XMLHttpRequest(), headersEmitted = false;\n    httpRequest.stream = xhr;\n\n    xhr.addEventListener('readystatechange', function() {\n      try {\n        if (xhr.status === 0) return; // 0 code is invalid\n      } catch (e) { return; }\n\n      if (this.readyState >= this.HEADERS_RECEIVED && !headersEmitted) {\n        emitter.statusCode = xhr.status;\n        emitter.headers = self.parseHeaders(xhr.getAllResponseHeaders());\n        emitter.emit(\n          'headers',\n          emitter.statusCode,\n          emitter.headers,\n          xhr.statusText\n        );\n        headersEmitted = true;\n      }\n      if (this.readyState === this.DONE) {\n        self.finishRequest(xhr, emitter);\n      }\n    }, false);\n    xhr.upload.addEventListener('progress', function (evt) {\n      emitter.emit('sendProgress', evt);\n    });\n    xhr.addEventListener('progress', function (evt) {\n      emitter.emit('receiveProgress', evt);\n    }, false);\n    xhr.addEventListener('timeout', function () {\n      errCallback(AWS.util.error(new Error('Timeout'), {code: 'TimeoutError'}));\n    }, false);\n    xhr.addEventListener('error', function () {\n      errCallback(AWS.util.error(new Error('Network Failure'), {\n        code: 'NetworkingError'\n      }));\n    }, false);\n    xhr.addEventListener('abort', function () {\n      errCallback(AWS.util.error(new Error('Request aborted'), {\n        code: 'RequestAbortedError'\n      }));\n    }, false);\n\n    callback(emitter);\n    xhr.open(httpRequest.method, href, httpOptions.xhrAsync !== false);\n    AWS.util.each(httpRequest.headers, function (key, value) {\n      if (key !== 'Content-Length' && key !== 'User-Agent' && key !== 'Host') {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n\n    if (httpOptions.timeout && httpOptions.xhrAsync !== false) {\n      xhr.timeout = httpOptions.timeout;\n    }\n\n    if (httpOptions.xhrWithCredentials) {\n      xhr.withCredentials = true;\n    }\n    try { xhr.responseType = 'arraybuffer'; } catch (e) {}\n\n    try {\n      if (httpRequest.body) {\n        xhr.send(httpRequest.body);\n      } else {\n        xhr.send();\n      }\n    } catch (err) {\n      if (httpRequest.body && typeof httpRequest.body.buffer === 'object') {\n        xhr.send(httpRequest.body.buffer); // send ArrayBuffer directly\n      } else {\n        throw err;\n      }\n    }\n\n    return emitter;\n  },\n\n  parseHeaders: function parseHeaders(rawHeaders) {\n    var headers = {};\n    AWS.util.arrayEach(rawHeaders.split(/\\r?\\n/), function (line) {\n      var key = line.split(':', 1)[0];\n      var value = line.substring(key.length + 2);\n      if (key.length > 0) headers[key.toLowerCase()] = value;\n    });\n    return headers;\n  },\n\n  finishRequest: function finishRequest(xhr, emitter) {\n    var buffer;\n    if (xhr.responseType === 'arraybuffer' && xhr.response) {\n      var ab = xhr.response;\n      buffer = new AWS.util.Buffer(ab.byteLength);\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < buffer.length; ++i) {\n        buffer[i] = view[i];\n      }\n    }\n\n    try {\n      if (!buffer && typeof xhr.responseText === 'string') {\n        buffer = new AWS.util.Buffer(xhr.responseText);\n      }\n    } catch (e) {}\n\n    if (buffer) emitter.emit('data', buffer);\n    emitter.emit('end');\n  }\n});\n\n/**\n * @api private\n */\nAWS.HttpClient.prototype = AWS.XHRClient.prototype;\n\n/**\n * @api private\n */\nAWS.HttpClient.streamsApiVersion = 1;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar rApply = (require('./_global').Reflect || {}).apply;\nvar fApply = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function () {\n  rApply(function () { /* empty */ });\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList) {\n    var T = aFunction(target);\n    var L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n","\"use strict\";\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LOG_LEVELS = {\n    VERBOSE: 1,\n    DEBUG: 2,\n    INFO: 3,\n    WARN: 4,\n    ERROR: 5\n};\n/**\n* Write logs\n* @class Logger\n*/\nvar ConsoleLogger = /** @class */ (function () {\n    /**\n    * @constructor\n    * @param {string} name - Name of the logger\n    */\n    function ConsoleLogger(name, level) {\n        if (level === void 0) { level = 'WARN'; }\n        this.name = name;\n        this.level = level;\n    }\n    ConsoleLogger.prototype._padding = function (n) {\n        return n < 10 ? '0' + n : '' + n;\n    };\n    ConsoleLogger.prototype._ts = function () {\n        var dt = new Date();\n        return [\n            this._padding(dt.getMinutes()),\n            this._padding(dt.getSeconds())\n        ].join(':') + '.' + dt.getMilliseconds();\n    };\n    /**\n    * Write log\n    * @method\n    * @memeberof Logger\n    * @param {string} type - log type, default INFO\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype._log = function (type) {\n        var msg = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            msg[_i - 1] = arguments[_i];\n        }\n        var logger_level_name = this.level;\n        if (ConsoleLogger.LOG_LEVEL) {\n            logger_level_name = ConsoleLogger.LOG_LEVEL;\n        }\n        if ((typeof window !== 'undefined') && window.LOG_LEVEL) {\n            logger_level_name = window.LOG_LEVEL;\n        }\n        var logger_level = LOG_LEVELS[logger_level_name];\n        var type_level = LOG_LEVELS[type];\n        if (!(type_level >= logger_level)) {\n            // Do nothing if type is not greater than or equal to logger level (handle undefined)\n            return;\n        }\n        var log = console.log.bind(console);\n        if (type === 'ERROR' && console.error) {\n            log = console.error.bind(console);\n        }\n        if (type === 'WARN' && console.warn) {\n            log = console.warn.bind(console);\n        }\n        var prefix = \"[\" + type + \"] \" + this._ts() + \" \" + this.name;\n        if (msg.length === 1 && typeof msg[0] === 'string') {\n            log(prefix + \" - \" + msg[0]);\n        }\n        else if (msg.length === 1) {\n            log(prefix, msg[0]);\n        }\n        else if (typeof msg[0] === 'string') {\n            var obj = msg.slice(1);\n            if (obj.length === 1) {\n                obj = obj[0];\n            }\n            log(prefix + \" - \" + msg[0], obj);\n        }\n        else {\n            log(prefix, msg);\n        }\n    };\n    /**\n    * Write General log. Default to INFO\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.log = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['INFO'].concat(msg));\n    };\n    /**\n    * Write INFO log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.info = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['INFO'].concat(msg));\n    };\n    /**\n    * Write WARN log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.warn = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['WARN'].concat(msg));\n    };\n    /**\n    * Write ERROR log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.error = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['ERROR'].concat(msg));\n    };\n    /**\n    * Write DEBUG log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.debug = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['DEBUG'].concat(msg));\n    };\n    /**\n    * Write VERBOSE log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.verbose = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['VERBOSE'].concat(msg));\n    };\n    ConsoleLogger.LOG_LEVEL = null;\n    return ConsoleLogger;\n}());\nexports.ConsoleLogger = ConsoleLogger;\n//# sourceMappingURL=ConsoleLogger.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Browser = require(\"./browser\");\nvar ClientDevice = /** @class */ (function () {\n    function ClientDevice() {\n    }\n    ClientDevice.clientInfo = function () {\n        return Browser.clientInfo();\n    };\n    ClientDevice.dimension = function () {\n        return Browser.dimension();\n    };\n    return ClientDevice;\n}());\nexports.default = ClientDevice;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"../Logger\");\nvar logger = new Logger_1.ConsoleLogger('ClientDevice_Browser');\nfunction clientInfo() {\n    if (typeof window === 'undefined') {\n        return {};\n    }\n    return browserClientInfo();\n}\nexports.clientInfo = clientInfo;\nfunction browserClientInfo() {\n    if (typeof window === 'undefined') {\n        logger.warn('No window object available to get browser client info');\n        return {};\n    }\n    var nav = window.navigator;\n    if (!nav) {\n        logger.warn('No navigator object available to get browser client info');\n        return {};\n    }\n    var platform = nav.platform, product = nav.product, vendor = nav.vendor, userAgent = nav.userAgent, language = nav.language;\n    var type = browserType(userAgent);\n    var timezone = browserTimezone();\n    return {\n        'platform': platform,\n        'make': product || vendor,\n        'model': type.type,\n        'version': type.version,\n        'appVersion': [type.type, type.version].join('/'),\n        'language': language,\n        'timezone': timezone\n    };\n}\nfunction dimension() {\n    if (typeof window === 'undefined') {\n        logger.warn('No window object available to get browser client info');\n        return { width: 320, height: 320 };\n    }\n    return {\n        'width': window.innerWidth,\n        'height': window.innerHeight\n    };\n}\nexports.dimension = dimension;\nfunction browserTimezone() {\n    var tzMatch = /\\(([A-Za-z\\s].*)\\)/.exec(new Date().toString());\n    return tzMatch ? tzMatch[1] || \"\" : \"\";\n}\nfunction browserType(userAgent) {\n    var operaMatch = /.+(Opera[\\s[A-Z]*|OPR[\\sA-Z]*)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (operaMatch) {\n        return { type: operaMatch[1], version: operaMatch[2] };\n    }\n    var cfMatch = /.+(Chrome|Firefox|FxiOS)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (cfMatch) {\n        return { type: cfMatch[1], version: cfMatch[2] };\n    }\n    var ieMatch = /.+(Trident|Edge)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (ieMatch) {\n        return { type: ieMatch[1], version: ieMatch[2] };\n    }\n    var sMatch = /.+(Safari)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (sMatch) {\n        return { type: sMatch[1], version: sMatch[2] };\n    }\n    var awkMatch = /.+(AppleWebKit)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (awkMatch) {\n        return { type: awkMatch[1], version: awkMatch[2] };\n    }\n    var anyMatch = /.*([A-Z]+)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (anyMatch) {\n        return { type: anyMatch[1], version: anyMatch[2] };\n    }\n    return { type: '', version: '' };\n}\n//# sourceMappingURL=browser.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction missingConfig(name) { return new Error('Missing config value of ' + name); }\nexports.missingConfig = missingConfig;\nfunction invalidParameter(name) { return new Error('Invalid parameter value of ' + name); }\nexports.invalidParameter = invalidParameter;\n//# sourceMappingURL=Errors.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"./Logger\");\nvar logger = new Logger_1.ConsoleLogger('Hub');\nvar AMPLIFY_SYMBOL = ((typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') ?\n    Symbol.for('amplify_default') : '@@amplify_default');\nfunction isLegacyCallback(callback) {\n    return callback.onHubCapsule !== undefined;\n}\nvar HubClass = /** @class */ (function () {\n    function HubClass(name) {\n        this.listeners = [];\n        this.patterns = [];\n        this.protectedChannels = ['core', 'auth', 'api', 'analytics', 'interactions', 'pubsub', 'storage', 'xr'];\n        this.name = name;\n    }\n    // Note - Need to pass channel as a reference for removal to work and not anonymous function\n    HubClass.prototype.remove = function (channel, listener) {\n        if (channel instanceof RegExp) {\n            var pattern_1 = this.patterns.find(function (_a) {\n                var pattern = _a.pattern;\n                return pattern.source === channel.source;\n            });\n            if (!pattern_1) {\n                logger.warn(\"No listeners for \" + channel);\n                return;\n            }\n            this.patterns = this.patterns.filter(function (x) { return x !== pattern_1; }).slice();\n        }\n        else {\n            var holder = this.listeners[channel];\n            if (!holder) {\n                logger.warn(\"No listeners for \" + channel);\n                return;\n            }\n            this.listeners[channel] = holder.filter(function (_a) {\n                var callback = _a.callback;\n                return callback !== listener;\n            }).slice();\n        }\n    };\n    HubClass.prototype.dispatch = function (channel, payload, source, ampSymbol) {\n        if (source === void 0) { source = ''; }\n        if (this.protectedChannels.indexOf(channel) > -1) {\n            var hasAccess = ampSymbol === AMPLIFY_SYMBOL;\n            if (!hasAccess) {\n                logger.warn(\"WARNING: \" + channel + \" is protected and dispatching on it can have unintended consequences\");\n            }\n        }\n        var capsule = {\n            channel: channel,\n            payload: __assign({}, payload),\n            source: source,\n            patternInfo: []\n        };\n        try {\n            this._toListeners(capsule);\n        }\n        catch (e) {\n            logger.error(e);\n        }\n    };\n    HubClass.prototype.listen = function (channel, callback, listenerName) {\n        if (listenerName === void 0) { listenerName = 'noname'; }\n        var cb;\n        // Check for legacy onHubCapsule callback for backwards compatability\n        if (isLegacyCallback(callback)) {\n            logger.warn(\"WARNING onHubCapsule is Deprecated. Please pass in a callback.\");\n            cb = callback.onHubCapsule.bind(callback);\n        }\n        else if (typeof callback !== 'function') {\n            throw new Error('No callback supplied to Hub');\n        }\n        else {\n            cb = callback;\n        }\n        if (channel instanceof RegExp) {\n            this.patterns.push({\n                pattern: channel,\n                callback: cb\n            });\n        }\n        else {\n            var holder = this.listeners[channel];\n            if (!holder) {\n                holder = [];\n                this.listeners[channel] = holder;\n            }\n            holder.push({\n                name: listenerName,\n                callback: cb\n            });\n        }\n    };\n    HubClass.prototype._toListeners = function (capsule) {\n        var channel = capsule.channel, payload = capsule.payload;\n        var holder = this.listeners[channel];\n        if (holder) {\n            holder.forEach(function (listener) {\n                logger.debug(\"Dispatching to \" + channel + \" with \", payload);\n                try {\n                    listener.callback(capsule);\n                }\n                catch (e) {\n                    logger.error(e);\n                }\n            });\n        }\n        if (this.patterns.length > 0) {\n            if (!payload.message) {\n                logger.warn(\"Cannot perform pattern matching without a message key\");\n                return;\n            }\n            var payloadStr_1 = payload.message;\n            this.patterns.forEach(function (pattern) {\n                var match = payloadStr_1.match(pattern.pattern);\n                if (match) {\n                    var groups = match.slice(1);\n                    var dispatchingCapsule = __assign({}, capsule, { patternInfo: groups });\n                    try {\n                        pattern.callback(dispatchingCapsule);\n                    }\n                    catch (e) {\n                        logger.error(e);\n                    }\n                }\n            });\n        }\n    };\n    return HubClass;\n}());\nexports.HubClass = HubClass;\n/*We export a __default__ instance of HubClass to use it as a\npsuedo Singleton for the main messaging bus, however you can still create\nyour own instance of HubClass() for a separate \"private bus\" of events.*/\nvar Hub = new HubClass('__default__');\nexports.default = Hub;\n//# sourceMappingURL=Hub.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar I18n_1 = require(\"./I18n\");\nvar Logger_1 = require(\"../Logger\");\nvar Amplify_1 = require(\"../Amplify\");\nvar logger = new Logger_1.ConsoleLogger('I18n');\nvar _config = null;\nvar _i18n = null;\n/**\n * Export I18n APIs\n */\nvar I18n = /** @class */ (function () {\n    function I18n() {\n    }\n    /**\n     * @static\n     * @method\n     * Configure I18n part\n     * @param {Object} config - Configuration of the I18n\n     */\n    I18n.configure = function (config) {\n        logger.debug('configure I18n');\n        if (!config) {\n            return _config;\n        }\n        _config = Object.assign({}, _config, config.I18n || config);\n        I18n.createInstance();\n        return _config;\n    };\n    I18n.getModuleName = function () {\n        return 'I18n';\n    };\n    /**\n     * @static\n     * @method\n     * Create an instance of I18n for the library\n     */\n    I18n.createInstance = function () {\n        logger.debug('create I18n instance');\n        if (_i18n) {\n            return;\n        }\n        _i18n = new I18n_1.I18n(_config);\n    };\n    /**\n     * @static @method\n     * Explicitly setting language\n     * @param {String} lang\n     */\n    I18n.setLanguage = function (lang) {\n        I18n.checkConfig();\n        return _i18n.setLanguage(lang);\n    };\n    /**\n     * @static @method\n     * Get value\n     * @param {String} key\n     * @param {String} defVal - Default value\n     */\n    I18n.get = function (key, defVal) {\n        if (!I18n.checkConfig()) {\n            return (typeof defVal === 'undefined') ? key : defVal;\n        }\n        return _i18n.get(key, defVal);\n    };\n    /**\n     * @static\n     * @method\n     * Add vocabularies for one language\n     * @param {String} langurage - Language of the dictionary\n     * @param {Object} vocabularies - Object that has key-value as dictionary entry\n     */\n    I18n.putVocabulariesForLanguage = function (language, vocabularies) {\n        I18n.checkConfig();\n        return _i18n.putVocabulariesForLanguage(language, vocabularies);\n    };\n    /**\n     * @static\n     * @method\n     * Add vocabularies for one language\n     * @param {Object} vocabularies - Object that has language as key,\n     *                                vocabularies of each language as value\n     */\n    I18n.putVocabularies = function (vocabularies) {\n        I18n.checkConfig();\n        return _i18n.putVocabularies(vocabularies);\n    };\n    I18n.checkConfig = function () {\n        if (!_i18n) {\n            _i18n = new I18n_1.I18n(_config);\n        }\n        return true;\n    };\n    return I18n;\n}());\nAmplify_1.default.register(I18n);\nexports.default = I18n;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"../Logger\");\nvar logger = new Logger_1.ConsoleLogger('I18n');\n/**\n * Language transition class\n */\nvar I18n = /** @class */ (function () {\n    /**\n     * @constructor\n     * Initialize with configurations\n     * @param {Object} options\n     */\n    function I18n(options) {\n        /**\n         * @private\n         */\n        this._options = null;\n        /**\n         * @private\n         */\n        this._lang = null;\n        /**\n         * @private\n         */\n        this._dict = {};\n        this._options = Object.assign({}, options);\n        this._lang = this._options.language;\n        if (!this._lang && typeof window !== 'undefined' && window && window.navigator) {\n            this._lang = window.navigator.language;\n        }\n        logger.debug(this._lang);\n    }\n    /**\n     * @method\n     * Explicitly setting language\n     * @param {String} lang\n     */\n    I18n.prototype.setLanguage = function (lang) {\n        this._lang = lang;\n    };\n    /**\n     * @method\n     * Get value\n     * @param {String} key\n     * @param {String} defVal - Default value\n     */\n    I18n.prototype.get = function (key, defVal) {\n        if (defVal === void 0) { defVal = undefined; }\n        if (!this._lang) {\n            return (typeof defVal !== 'undefined') ? defVal : key;\n        }\n        var lang = this._lang;\n        var val = this.getByLanguage(key, lang);\n        if (val) {\n            return val;\n        }\n        if (lang.indexOf('-') > 0) {\n            val = this.getByLanguage(key, lang.split('-')[0]);\n        }\n        if (val) {\n            return val;\n        }\n        return (typeof defVal !== 'undefined') ? defVal : key;\n    };\n    /**\n     * @method\n     * Get value according to specified language\n     * @param {String} key\n     * @param {String} language - Specified langurage to be used\n     * @param {String} defVal - Default value\n     */\n    I18n.prototype.getByLanguage = function (key, language, defVal) {\n        if (defVal === void 0) { defVal = null; }\n        if (!language) {\n            return defVal;\n        }\n        var lang_dict = this._dict[language];\n        if (!lang_dict) {\n            return defVal;\n        }\n        return lang_dict[key];\n    };\n    /**\n     * @method\n     * Add vocabularies for one language\n     * @param {String} langurage - Language of the dictionary\n     * @param {Object} vocabularies - Object that has key-value as dictionary entry\n     */\n    I18n.prototype.putVocabulariesForLanguage = function (language, vocabularies) {\n        var lang_dict = this._dict[language];\n        if (!lang_dict) {\n            lang_dict = this._dict[language] = {};\n        }\n        Object.assign(lang_dict, vocabularies);\n    };\n    /**\n     * @method\n     * Add vocabularies for one language\n     * @param {Object} vocabularies - Object that has language as key,\n     *                                vocabularies of each language as value\n     */\n    I18n.prototype.putVocabularies = function (vocabularies) {\n        var _this = this;\n        Object.keys(vocabularies).map(function (key) {\n            _this.putVocabulariesForLanguage(key, vocabularies[key]);\n        });\n    };\n    return I18n;\n}());\nexports.I18n = I18n;\n//# sourceMappingURL=I18n.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"./Logger\");\nvar Facet_1 = require(\"./Facet\");\nvar logger = new Logger_1.ConsoleLogger('Signer'), url = require('url'), crypto = Facet_1.AWS['util'].crypto;\nvar DEFAULT_ALGORITHM = 'AWS4-HMAC-SHA256';\nvar IOT_SERVICE_NAME = 'iotdevicegateway';\nvar encrypt = function (key, src, encoding) {\n    return crypto.lib.createHmac('sha256', key).update(src, 'utf8').digest(encoding);\n};\nvar hash = function (src) {\n    var arg = src || '';\n    return crypto.createHash('sha256').update(arg, 'utf8').digest('hex');\n};\n/**\n * @private\n * RFC 3986 compliant version of encodeURIComponent\n */\nvar escape_RFC3986 = function (component) {\n    return component.replace(/[!'()*]/g, function (c) {\n        return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n    });\n};\n/**\n * @private\n * Create canonical query string\n *\n*/\nvar canonical_query = function (query) {\n    if (!query || query.length === 0) {\n        return '';\n    }\n    return query.split('&')\n        .map(function (e) {\n        var key_val = e.split('=');\n        if (key_val.length === 1) {\n            return e;\n        }\n        else {\n            var reencoded_val = escape_RFC3986(key_val[1]);\n            return key_val[0] + '=' + reencoded_val;\n        }\n    }).sort(function (a, b) { return a < b ? -1 : 1; }).join('&');\n};\n/**\n* @private\n* Create canonical headers\n*\n<pre>\nCanonicalHeaders =\n    CanonicalHeadersEntry0 + CanonicalHeadersEntry1 + ... + CanonicalHeadersEntryN\nCanonicalHeadersEntry =\n    Lowercase(HeaderName) + ':' + Trimall(HeaderValue) + '\\n'\n</pre>\n*/\nvar canonical_headers = function (headers) {\n    if (!headers || Object.keys(headers).length === 0) {\n        return '';\n    }\n    return Object.keys(headers)\n        .map(function (key) {\n        return {\n            key: key.toLowerCase(),\n            value: headers[key] ? headers[key].trim().replace(/\\s+/g, ' ') : ''\n        };\n    })\n        .sort(function (a, b) {\n        return a.key < b.key ? -1 : 1;\n    })\n        .map(function (item) {\n        return item.key + ':' + item.value;\n    })\n        .join('\\n') + '\\n';\n};\n/**\n* List of header keys included in the canonical headers.\n* @access private\n*/\nvar signed_headers = function (headers) {\n    return Object.keys(headers)\n        .map(function (key) { return key.toLowerCase(); })\n        .sort()\n        .join(';');\n};\n/**\n* @private\n* Create canonical request\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html|Create a Canonical Request}\n*\n<pre>\nCanonicalRequest =\n    HTTPRequestMethod + '\\n' +\n    CanonicalURI + '\\n' +\n    CanonicalQueryString + '\\n' +\n    CanonicalHeaders + '\\n' +\n    SignedHeaders + '\\n' +\n    HexEncode(Hash(RequestPayload))\n</pre>\n*/\nvar canonical_request = function (request) {\n    var url_info = url.parse(request.url);\n    return [\n        request.method || '/',\n        encodeURIComponent(url_info.pathname).replace(/%2F/ig, '/'),\n        canonical_query(url_info.query),\n        canonical_headers(request.headers),\n        signed_headers(request.headers),\n        hash(request.data)\n    ].join('\\n');\n};\nvar parse_service_info = function (request) {\n    var url_info = url.parse(request.url), host = url_info.host;\n    var matched = host.match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com$/);\n    var parsed = (matched || []).slice(1, 3);\n    if (parsed[1] === 'es') { // Elastic Search\n        parsed = parsed.reverse();\n    }\n    return {\n        service: request.service || parsed[0],\n        region: request.region || parsed[1]\n    };\n};\nvar credential_scope = function (d_str, region, service) {\n    return [\n        d_str,\n        region,\n        service,\n        'aws4_request',\n    ].join('/');\n};\n/**\n* @private\n* Create a string to sign\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html|Create String to Sign}\n*\n<pre>\nStringToSign =\n    Algorithm + \\n +\n    RequestDateTime + \\n +\n    CredentialScope + \\n +\n    HashedCanonicalRequest\n</pre>\n*/\nvar string_to_sign = function (algorithm, canonical_request, dt_str, scope) {\n    return [\n        algorithm,\n        dt_str,\n        scope,\n        hash(canonical_request)\n    ].join('\\n');\n};\n/**\n* @private\n* Create signing key\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html|Calculate Signature}\n*\n<pre>\nkSecret = your secret access key\nkDate = HMAC(\"AWS4\" + kSecret, Date)\nkRegion = HMAC(kDate, Region)\nkService = HMAC(kRegion, Service)\nkSigning = HMAC(kService, \"aws4_request\")\n</pre>\n*/\nvar get_signing_key = function (secret_key, d_str, service_info) {\n    logger.debug(service_info);\n    var k = ('AWS4' + secret_key), k_date = encrypt(k, d_str), k_region = encrypt(k_date, service_info.region), k_service = encrypt(k_region, service_info.service), k_signing = encrypt(k_service, 'aws4_request');\n    return k_signing;\n};\nvar get_signature = function (signing_key, str_to_sign) {\n    return encrypt(signing_key, str_to_sign, 'hex');\n};\n/**\n* @private\n* Create authorization header\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html|Add the Signing Information}\n*/\nvar get_authorization_header = function (algorithm, access_key, scope, signed_headers, signature) {\n    return [\n        algorithm + ' ' + 'Credential=' + access_key + '/' + scope,\n        'SignedHeaders=' + signed_headers,\n        'Signature=' + signature\n    ].join(', ');\n};\n/**\n* Sign a HTTP request, add 'Authorization' header to request param\n* @method sign\n* @memberof Signer\n* @static\n*\n* @param {object} request - HTTP request object\n<pre>\nrequest: {\n    method: GET | POST | PUT ...\n    url: ...,\n    headers: {\n        header1: ...\n    },\n    data: data\n}\n</pre>\n* @param {object} access_info - AWS access credential info\n<pre>\naccess_info: {\n    access_key: ...,\n    secret_key: ...,\n    session_token: ...\n}\n</pre>\n* @param {object} [service_info] - AWS service type and region, optional,\n*                                  if not provided then parse out from url\n<pre>\nservice_info: {\n    service: ...,\n    region: ...\n}\n</pre>\n*\n* @returns {object} Signed HTTP request\n*/\nvar sign = function (request, access_info, service_info) {\n    if (service_info === void 0) { service_info = null; }\n    request.headers = request.headers || {};\n    // datetime string and date string\n    var dt = new Date(), dt_str = dt.toISOString().replace(/[:\\-]|\\.\\d{3}/g, ''), d_str = dt_str.substr(0, 8);\n    var url_info = url.parse(request.url);\n    request.headers['host'] = url_info.host;\n    request.headers['x-amz-date'] = dt_str;\n    if (access_info.session_token) {\n        request.headers['X-Amz-Security-Token'] = access_info.session_token;\n    }\n    // Task 1: Create a Canonical Request\n    var request_str = canonical_request(request);\n    logger.debug(request_str);\n    // Task 2: Create a String to Sign\n    var serviceInfo = service_info || parse_service_info(request), scope = credential_scope(d_str, serviceInfo.region, serviceInfo.service), str_to_sign = string_to_sign(DEFAULT_ALGORITHM, request_str, dt_str, scope);\n    // Task 3: Calculate the Signature\n    var signing_key = get_signing_key(access_info.secret_key, d_str, serviceInfo), signature = get_signature(signing_key, str_to_sign);\n    // Task 4: Adding the Signing information to the Request\n    var authorization_header = get_authorization_header(DEFAULT_ALGORITHM, access_info.access_key, scope, signed_headers(request.headers), signature);\n    request.headers['Authorization'] = authorization_header;\n    return request;\n};\nvar signUrl = function (urlToSign, accessInfo, serviceInfo, expiration) {\n    var now = new Date().toISOString().replace(/[:\\-]|\\.\\d{3}/g, '');\n    var today = now.substr(0, 8);\n    // Intentionally discarding search\n    var _a = url.parse(urlToSign, true, true), search = _a.search, parsedUrl = __rest(_a, [\"search\"]);\n    var host = parsedUrl.host;\n    var signedHeaders = { host: host };\n    var _b = serviceInfo || parse_service_info({ url: url.format(parsedUrl) }), region = _b.region, service = _b.service;\n    var credentialScope = credential_scope(today, region, service);\n    // IoT service does not allow the session token in the canonical request\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n    var sessionTokenRequired = accessInfo.session_token && service !== IOT_SERVICE_NAME;\n    var queryParams = __assign({ 'X-Amz-Algorithm': DEFAULT_ALGORITHM, 'X-Amz-Credential': [accessInfo.access_key, credentialScope].join('/'), 'X-Amz-Date': now.substr(0, 16) }, (sessionTokenRequired ? { 'X-Amz-Security-Token': \"\" + accessInfo.session_token } : {}), (expiration ? { 'X-Amz-Expires': \"\" + expiration } : {}), { 'X-Amz-SignedHeaders': Object.keys(signedHeaders).join(',') });\n    var canonicalRequest = canonical_request({\n        method: 'GET',\n        url: url.format(__assign({}, parsedUrl, { query: __assign({}, parsedUrl.query, queryParams) })),\n        headers: signedHeaders,\n    });\n    var stringToSign = string_to_sign(DEFAULT_ALGORITHM, canonicalRequest, now, credentialScope);\n    var signing_key = get_signing_key(accessInfo.secret_key, today, { region: region, service: service });\n    var signature = get_signature(signing_key, stringToSign);\n    var additionalQueryParams = __assign({ 'X-Amz-Signature': signature }, (accessInfo.session_token && { 'X-Amz-Security-Token': accessInfo.session_token }));\n    var result = url.format({\n        protocol: parsedUrl.protocol,\n        slashes: true,\n        hostname: parsedUrl.hostname,\n        pathname: parsedUrl.pathname,\n        query: __assign({}, parsedUrl.query, queryParams, additionalQueryParams)\n    });\n    return result;\n};\n/**\n* AWS request signer.\n* Refer to {@link http://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html|Signature Version 4}\n*\n* @class Signer\n*/\nvar Signer = /** @class */ (function () {\n    function Signer() {\n    }\n    Signer.sign = sign;\n    Signer.signUrl = signUrl;\n    return Signer;\n}());\nexports.default = Signer;\n//# sourceMappingURL=Signer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"./Logger\");\nvar logger = new Logger_1.ConsoleLogger('Parser');\nvar Parser = /** @class */ (function () {\n    function Parser() {\n    }\n    Parser.parseMobilehubConfig = function (config) {\n        var amplifyConfig = {};\n        // Analytics\n        if (config['aws_mobile_analytics_app_id']) {\n            var Analytics = {\n                AWSPinpoint: {\n                    appId: config['aws_mobile_analytics_app_id'],\n                    region: config['aws_mobile_analytics_app_region']\n                }\n            };\n            amplifyConfig.Analytics = Analytics;\n        }\n        // Auth\n        if (config['aws_cognito_identity_pool_id'] || config['aws_user_pools_id']) {\n            var Auth = {\n                userPoolId: config['aws_user_pools_id'],\n                userPoolWebClientId: config['aws_user_pools_web_client_id'],\n                region: config['aws_cognito_region'],\n                identityPoolId: config['aws_cognito_identity_pool_id'],\n                mandatorySignIn: config['aws_mandatory_sign_in'] === 'enable' ? true : false\n            };\n            amplifyConfig.Auth = Auth;\n        }\n        // Storage\n        var storageConfig;\n        if (config['aws_user_files_s3_bucket']) {\n            storageConfig = {\n                AWSS3: {\n                    bucket: config['aws_user_files_s3_bucket'],\n                    region: config['aws_user_files_s3_bucket_region']\n                }\n            };\n        }\n        else {\n            storageConfig = config ? config.Storage || config : {};\n        }\n        amplifyConfig.Analytics = Object.assign({}, amplifyConfig.Analytics, config.Analytics);\n        amplifyConfig.Auth = Object.assign({}, amplifyConfig.Auth, config.Auth);\n        amplifyConfig.Storage = Object.assign({}, storageConfig);\n        logger.debug('parse config', config, 'to amplifyconfig', amplifyConfig);\n        return amplifyConfig;\n    };\n    return Parser;\n}());\nexports.default = Parser;\n//# sourceMappingURL=Parser.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar Logger_1 = require(\"../Logger\");\nvar JS_1 = require(\"../JS\");\nvar logger = new Logger_1.ConsoleLogger('CognitoCredentials');\nvar waitForInit = new Promise(function (res, rej) {\n    if (!JS_1.default.browserOrNode().isBrowser) {\n        logger.debug('not in the browser, directly resolved');\n        return res();\n    }\n    var ga = window['gapi'] && window['gapi'].auth2 ? window['gapi'].auth2 : null;\n    if (ga) {\n        logger.debug('google api already loaded');\n        return res();\n    }\n    else {\n        setTimeout(function () {\n            return res();\n        }, 2000);\n    }\n});\nvar GoogleOAuth = /** @class */ (function () {\n    function GoogleOAuth() {\n        this.initialized = false;\n        this.refreshGoogleToken = this.refreshGoogleToken.bind(this);\n        this._refreshGoogleTokenImpl = this._refreshGoogleTokenImpl.bind(this);\n    }\n    GoogleOAuth.prototype.refreshGoogleToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.initialized) return [3 /*break*/, 2];\n                        logger.debug('need to wait for the Google SDK loaded');\n                        return [4 /*yield*/, waitForInit];\n                    case 1:\n                        _a.sent();\n                        this.initialized = true;\n                        logger.debug('finish waiting');\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this._refreshGoogleTokenImpl()];\n                }\n            });\n        });\n    };\n    GoogleOAuth.prototype._refreshGoogleTokenImpl = function () {\n        var ga = null;\n        if (JS_1.default.browserOrNode().isBrowser)\n            ga = window['gapi'] && window['gapi'].auth2 ? window['gapi'].auth2 : null;\n        if (!ga) {\n            logger.debug('no gapi auth2 available');\n            return Promise.reject('no gapi auth2 available');\n        }\n        return new Promise(function (res, rej) {\n            ga.getAuthInstance().then(function (googleAuth) {\n                if (!googleAuth) {\n                    console.log('google Auth undefiend');\n                    rej('google Auth undefiend');\n                }\n                var googleUser = googleAuth.currentUser.get();\n                // refresh the token\n                if (googleUser.isSignedIn()) {\n                    logger.debug('refreshing the google access token');\n                    googleUser.reloadAuthResponse()\n                        .then(function (authResponse) {\n                        var id_token = authResponse.id_token, expires_at = authResponse.expires_at;\n                        var profile = googleUser.getBasicProfile();\n                        var user = {\n                            email: profile.getEmail(),\n                            name: profile.getName()\n                        };\n                        res({ token: id_token, expires_at: expires_at });\n                    });\n                }\n                else {\n                    rej('User is not signed in with Google');\n                }\n            }).catch(function (err) {\n                logger.debug('Failed to refresh google token', err);\n                rej('Failed to refresh google token');\n            });\n        });\n    };\n    return GoogleOAuth;\n}());\nexports.default = GoogleOAuth;\n//# sourceMappingURL=GoogleOAuth.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar Logger_1 = require(\"../Logger\");\nvar JS_1 = require(\"../JS\");\nvar logger = new Logger_1.ConsoleLogger('CognitoCredentials');\nvar waitForInit = new Promise(function (res, rej) {\n    if (!JS_1.default.browserOrNode().isBrowser) {\n        logger.debug('not in the browser, directly resolved');\n        return res();\n    }\n    var fb = window['FB'];\n    if (fb) {\n        logger.debug('FB SDK already loaded');\n        return res();\n    }\n    else {\n        setTimeout(function () {\n            return res();\n        }, 2000);\n    }\n});\nvar FacebookOAuth = /** @class */ (function () {\n    function FacebookOAuth() {\n        this.initialized = false;\n        this.refreshFacebookToken = this.refreshFacebookToken.bind(this);\n        this._refreshFacebookTokenImpl = this._refreshFacebookTokenImpl.bind(this);\n    }\n    FacebookOAuth.prototype.refreshFacebookToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.initialized) return [3 /*break*/, 2];\n                        logger.debug('need to wait for the Facebook SDK loaded');\n                        return [4 /*yield*/, waitForInit];\n                    case 1:\n                        _a.sent();\n                        this.initialized = true;\n                        logger.debug('finish waiting');\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this._refreshFacebookTokenImpl()];\n                }\n            });\n        });\n    };\n    FacebookOAuth.prototype._refreshFacebookTokenImpl = function () {\n        var fb = null;\n        if (JS_1.default.browserOrNode().isBrowser)\n            fb = window['FB'];\n        if (!fb) {\n            logger.debug('no fb sdk available');\n            return Promise.reject('no fb sdk available');\n        }\n        return new Promise(function (res, rej) {\n            fb.getLoginStatus(function (fbResponse) {\n                if (!fbResponse || !fbResponse.authResponse) {\n                    logger.debug('no response from facebook when refreshing the jwt token');\n                    rej('no response from facebook when refreshing the jwt token');\n                }\n                var response = fbResponse.authResponse;\n                var accessToken = response.accessToken, expiresIn = response.expiresIn;\n                var date = new Date();\n                var expires_at = expiresIn * 1000 + date.getTime();\n                if (!accessToken) {\n                    logger.debug('the jwtToken is undefined');\n                    rej('the jwtToken is undefined');\n                }\n                res({ token: accessToken, expires_at: expires_at });\n            }, { scope: 'public_profile,email' });\n        });\n    };\n    return FacebookOAuth;\n}());\nexports.default = FacebookOAuth;\n//# sourceMappingURL=FacebookOAuth.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar JS_1 = require(\"../JS\");\nvar StorageHelper_1 = require(\"../StorageHelper\");\nvar Linking = {};\nexports.Linking = Linking;\nvar AppState = {\n    addEventListener: function (action, handler) {\n        return;\n    }\n};\nexports.AppState = AppState;\n// if not in react native, just use local storage\nvar AsyncStorage = JS_1.default.browserOrNode().isBrowser ? new StorageHelper_1.default().getStorage() : undefined;\nexports.AsyncStorage = AsyncStorage;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"./Logger\");\nvar StorageHelper_1 = require(\"./StorageHelper\");\nvar Facet_1 = require(\"./Facet\");\nvar JS_1 = require(\"./JS\");\nvar OAuthHelper_1 = require(\"./OAuthHelper\");\nvar Amplify_1 = require(\"./Amplify\");\nvar logger = new Logger_1.ConsoleLogger('Credentials');\nvar Credentials = /** @class */ (function () {\n    function Credentials(config) {\n        this._gettingCredPromise = null;\n        this._refreshHandlers = {};\n        this.configure(config);\n        this._refreshHandlers['google'] = OAuthHelper_1.GoogleOAuth.refreshGoogleToken;\n        this._refreshHandlers['facebook'] = OAuthHelper_1.FacebookOAuth.refreshFacebookToken;\n    }\n    Credentials.prototype.getCredSource = function () {\n        return this._credentials_source;\n    };\n    Credentials.prototype.configure = function (config) {\n        if (!config)\n            return this._config || {};\n        this._config = Object.assign({}, this._config, config);\n        var refreshHandlers = this._config.refreshHandlers;\n        // If the developer has provided an object of refresh handlers,\n        // then we can merge the provided handlers with the current handlers.\n        if (refreshHandlers) {\n            this._refreshHandlers = __assign({}, this._refreshHandlers, refreshHandlers);\n        }\n        this._storage = this._config.storage;\n        if (!this._storage) {\n            this._storage = new StorageHelper_1.default().getStorage();\n        }\n        this._storageSync = Promise.resolve();\n        if (typeof this._storage['sync'] === 'function') {\n            this._storageSync = this._storage['sync']();\n        }\n        return this._config;\n    };\n    Credentials.prototype.get = function () {\n        logger.debug('getting credentials');\n        return this._pickupCredentials();\n    };\n    Credentials.prototype._pickupCredentials = function () {\n        logger.debug('picking up credentials');\n        if (!this._gettingCredPromise || !this._gettingCredPromise.isPending()) {\n            logger.debug('getting new cred promise');\n            if (Facet_1.AWS.config && Facet_1.AWS.config.credentials && Facet_1.AWS.config.credentials instanceof Facet_1.AWS.Credentials) {\n                this._gettingCredPromise = JS_1.default.makeQuerablePromise(this._setCredentialsFromAWS());\n            }\n            else {\n                this._gettingCredPromise = JS_1.default.makeQuerablePromise(this._keepAlive());\n            }\n        }\n        else {\n            logger.debug('getting old cred promise');\n        }\n        return this._gettingCredPromise;\n    };\n    Credentials.prototype._keepAlive = function () {\n        logger.debug('checking if credentials exists and not expired');\n        var cred = this._credentials;\n        if (cred && !this._isExpired(cred)) {\n            logger.debug('credentials not changed and not expired, directly return');\n            return Promise.resolve(cred);\n        }\n        logger.debug('need to get a new credential or refresh the existing one');\n        if (Amplify_1.default.Auth && typeof Amplify_1.default.Auth.currentUserCredentials === 'function') {\n            return Amplify_1.default.Auth.currentUserCredentials();\n        }\n        else {\n            return Promise.reject('No Auth module registered in Amplify');\n        }\n    };\n    Credentials.prototype.refreshFederatedToken = function (federatedInfo) {\n        var _this = this;\n        logger.debug('Getting federated credentials');\n        var provider = federatedInfo.provider, user = federatedInfo.user;\n        var token = federatedInfo.token;\n        var expires_at = federatedInfo.expires_at;\n        var identity_id = federatedInfo.identity_id;\n        var that = this;\n        logger.debug('checking if federated jwt token expired');\n        if (expires_at > new Date().getTime()) {\n            // if not expired\n            logger.debug('token not expired');\n            return this._setCredentialsFromFederation({ provider: provider, token: token, user: user, identity_id: identity_id, expires_at: expires_at });\n        }\n        else {\n            // if refresh handler exists\n            if (that._refreshHandlers[provider] && typeof that._refreshHandlers[provider] === 'function') {\n                logger.debug('getting refreshed jwt token from federation provider');\n                return that._refreshHandlers[provider]().then(function (data) {\n                    logger.debug('refresh federated token sucessfully', data);\n                    token = data.token;\n                    identity_id = data.identity_id;\n                    expires_at = data.expires_at;\n                    return that._setCredentialsFromFederation({ provider: provider, token: token, user: user, identity_id: identity_id, expires_at: expires_at });\n                }).catch(function (e) {\n                    logger.debug('refresh federated token failed', e);\n                    _this.clear();\n                    return Promise.reject('refreshing federation token failed: ' + e);\n                });\n            }\n            else {\n                logger.debug('no refresh handler for provider:', provider);\n                this.clear();\n                return Promise.reject('no refresh handler for provider');\n            }\n        }\n    };\n    Credentials.prototype._isExpired = function (credentials) {\n        if (!credentials) {\n            logger.debug('no credentials for expiration check');\n            return true;\n        }\n        logger.debug('is this credentials expired?', credentials);\n        var ts = new Date().getTime();\n        var delta = 10 * 60 * 1000; // 10 minutes\n        var expired = credentials.expired, expireTime = credentials.expireTime;\n        if (!expired && expireTime > ts + delta) {\n            return false;\n        }\n        return true;\n    };\n    Credentials.prototype._setCredentialsForGuest = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var attempted, _a, identityPoolId, region, mandatorySignIn, identityId, e_1, credentials, that;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        attempted = false;\n                        logger.debug('setting credentials for guest');\n                        _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region, mandatorySignIn = _a.mandatorySignIn;\n                        if (mandatorySignIn) {\n                            return [2 /*return*/, Promise.reject('cannot get guest credentials when mandatory signin enabled')];\n                        }\n                        if (!identityPoolId) {\n                            logger.debug('No Cognito Federated Identity pool provided');\n                            return [2 /*return*/, Promise.reject('No Cognito Federated Identity pool provided')];\n                        }\n                        identityId = undefined;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 2:\n                        _b.sent();\n                        identityId = this._storage.getItem('CognitoIdentityId-' + identityPoolId);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _b.sent();\n                        logger.debug('Failed to get the cached identityId', e_1);\n                        return [3 /*break*/, 4];\n                    case 4:\n                        credentials = new Facet_1.AWS.CognitoIdentityCredentials({\n                            IdentityPoolId: identityPoolId,\n                            IdentityId: identityId ? identityId : undefined\n                        }, {\n                            region: region\n                        });\n                        that = this;\n                        return [2 /*return*/, this._loadCredentials(credentials, 'guest', false, null)\n                                .then(function (res) {\n                                return res;\n                            })\n                                .catch(function (e) { return __awaiter(_this, void 0, void 0, function () {\n                                var newCredentials;\n                                return __generator(this, function (_a) {\n                                    // If identity id is deleted in the console, we make one attempt to recreate it\n                                    // and remove existing id from cache. \n                                    if (e.code === 'ResourceNotFoundException' &&\n                                        e.message === \"Identity '\" + identityId + \"' not found.\"\n                                        && !attempted) {\n                                        attempted = true;\n                                        logger.debug('Failed to load guest credentials');\n                                        this._storage.removeItem('CognitoIdentityId-' + identityPoolId);\n                                        credentials.clearCachedId();\n                                        newCredentials = new Facet_1.AWS.CognitoIdentityCredentials({\n                                            IdentityPoolId: identityPoolId,\n                                            IdentityId: undefined\n                                        }, {\n                                            region: region\n                                        });\n                                        return [2 /*return*/, this._loadCredentials(newCredentials, 'guest', false, null)];\n                                    }\n                                    else {\n                                        return [2 /*return*/, e];\n                                    }\n                                    return [2 /*return*/];\n                                });\n                            }); })];\n                }\n            });\n        });\n    };\n    Credentials.prototype._setCredentialsFromAWS = function () {\n        var credentials = Facet_1.AWS.config.credentials;\n        logger.debug('setting credentials from aws');\n        var that = this;\n        if (credentials instanceof Facet_1.AWS.Credentials) {\n            return Promise.resolve(credentials);\n        }\n        else {\n            logger.debug('AWS.config.credentials is not an instance of AWS Credentials');\n            return Promise.reject('AWS.config.credentials is not an instance of AWS Credentials');\n        }\n    };\n    Credentials.prototype._setCredentialsFromFederation = function (params) {\n        var provider = params.provider, token = params.token, identity_id = params.identity_id, user = params.user, expires_at = params.expires_at;\n        var domains = {\n            'google': 'accounts.google.com',\n            'facebook': 'graph.facebook.com',\n            'amazon': 'www.amazon.com',\n            'developer': 'cognito-identity.amazonaws.com'\n        };\n        // Use custom provider url instead of the predefined ones\n        var domain = domains[provider] || provider;\n        if (!domain) {\n            return Promise.reject('You must specify a federated provider');\n        }\n        var logins = {};\n        logins[domain] = token;\n        var _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region;\n        if (!identityPoolId) {\n            logger.debug('No Cognito Federated Identity pool provided');\n            return Promise.reject('No Cognito Federated Identity pool provided');\n        }\n        var credentials = new Facet_1.AWS.CognitoIdentityCredentials({\n            IdentityPoolId: identityPoolId,\n            IdentityId: identity_id,\n            Logins: logins\n        }, {\n            region: region\n        });\n        return this._loadCredentials(credentials, 'federated', true, params);\n    };\n    Credentials.prototype._setCredentialsFromSession = function (session) {\n        logger.debug('set credentials from session');\n        var idToken = session.getIdToken().getJwtToken();\n        var _a = this._config, region = _a.region, userPoolId = _a.userPoolId, identityPoolId = _a.identityPoolId;\n        if (!identityPoolId) {\n            logger.debug('No Cognito Federated Identity pool provided');\n            return Promise.reject('No Cognito Federated Identity pool provided');\n        }\n        var key = 'cognito-idp.' + region + '.amazonaws.com/' + userPoolId;\n        var logins = {};\n        logins[key] = idToken;\n        var credentials = new Facet_1.AWS.CognitoIdentityCredentials({\n            IdentityPoolId: identityPoolId,\n            Logins: logins\n        }, {\n            region: region\n        });\n        var that = this;\n        return this._loadCredentials(credentials, 'userPool', true, null);\n    };\n    Credentials.prototype._loadCredentials = function (credentials, source, authenticated, info) {\n        var _this = this;\n        var that = this;\n        var identityPoolId = this._config.identityPoolId;\n        return new Promise(function (res, rej) {\n            credentials.get(function (err) { return __awaiter(_this, void 0, void 0, function () {\n                var user, provider, token, expires_at, identity_id, e_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (err) {\n                                logger.debug('Failed to load credentials', credentials);\n                                rej(err);\n                                return [2 /*return*/];\n                            }\n                            logger.debug('Load credentials successfully', credentials);\n                            that._credentials = credentials;\n                            that._credentials.authenticated = authenticated;\n                            that._credentials_source = source;\n                            if (source === 'federated') {\n                                user = Object.assign({ id: this._credentials.identityId }, info.user);\n                                provider = info.provider, token = info.token, expires_at = info.expires_at, identity_id = info.identity_id;\n                                try {\n                                    this._storage.setItem('aws-amplify-federatedInfo', JSON.stringify({\n                                        provider: provider,\n                                        token: token,\n                                        user: user,\n                                        expires_at: expires_at,\n                                        identity_id: identity_id\n                                    }));\n                                }\n                                catch (e) {\n                                    logger.debug('Failed to put federated info into auth storage', e);\n                                }\n                                // the Cache module no longer stores federated info\n                                // this is just for backward compatibility\n                                if (Amplify_1.default.Cache && typeof Amplify_1.default.Cache.setItem === 'function') {\n                                    Amplify_1.default.Cache.setItem('federatedInfo', {\n                                        provider: provider,\n                                        token: token,\n                                        user: user,\n                                        expires_at: expires_at,\n                                        identity_id: identity_id\n                                    }, { priority: 1 });\n                                }\n                                else {\n                                    logger.debug('No Cache module registered in Amplify');\n                                }\n                            }\n                            if (!(source === 'guest')) return [3 /*break*/, 4];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, this._storageSync];\n                        case 2:\n                            _a.sent();\n                            this._storage.setItem('CognitoIdentityId-' + identityPoolId, credentials.identityId);\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_2 = _a.sent();\n                            logger.debug('Failed to cache identityId', e_2);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            res(that._credentials);\n                            return [2 /*return*/];\n                    }\n                });\n            }); });\n        });\n    };\n    Credentials.prototype.set = function (params, source) {\n        if (source === 'session') {\n            return this._setCredentialsFromSession(params);\n        }\n        else if (source === 'federation') {\n            return this._setCredentialsFromFederation(params);\n        }\n        else if (source === 'guest') {\n            return this._setCredentialsForGuest();\n        }\n        else {\n            logger.debug('no source specified for setting credentials');\n            return Promise.reject('invalid source');\n        }\n    };\n    Credentials.prototype.clear = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, identityPoolId, region, credentials;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region;\n                        if (identityPoolId) {\n                            credentials = new Facet_1.AWS.CognitoIdentityCredentials({\n                                IdentityPoolId: identityPoolId\n                            }, {\n                                region: region\n                            });\n                            credentials.clearCachedId();\n                        }\n                        this._credentials = null;\n                        this._credentials_source = null;\n                        this._storage.removeItem('aws-amplify-federatedInfo');\n                        if (!(Amplify_1.default.Cache && typeof Amplify_1.default.Cache.setItem === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, Amplify_1.default.Cache.removeItem('federatedInfo')];\n                    case 1:\n                        _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        logger.debug('No Cache module registered in Amplify');\n                        _b.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Compact version of credentials\n     * @param {Object} credentials\n     * @return {Object} - Credentials\n     */\n    Credentials.prototype.shear = function (credentials) {\n        return {\n            accessKeyId: credentials.accessKeyId,\n            sessionToken: credentials.sessionToken,\n            secretAccessKey: credentials.secretAccessKey,\n            identityId: credentials.identityId,\n            authenticated: credentials.authenticated\n        };\n    };\n    return Credentials;\n}());\nexports.Credentials = Credentials;\nvar instance = new Credentials(null);\nexports.default = instance;\n//# sourceMappingURL=Credentials.js.map","\"use strict\";\n/**\n * Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ServiceWorker_1 = require(\"./ServiceWorker\");\nexports.default = ServiceWorker_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar Logger_1 = require(\"../Logger\");\nvar JS_1 = require(\"../JS\");\nvar Amplify_1 = require(\"../Amplify\");\n/**\n * Provides a means to registering a service worker in the browser\n * and communicating with it via postMessage events.\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/\n *\n * postMessage events are currently not supported in all browsers. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n *\n * At the minmum this class will register the service worker and listen\n * and attempt to dispatch messages on state change and record analytics\n * events based on the service worker lifecycle.\n */\nvar ServiceWorkerClass = /** @class */ (function () {\n    function ServiceWorkerClass() {\n        // The AWS Amplify logger\n        this._logger = new Logger_1.ConsoleLogger('ServiceWorker');\n    }\n    Object.defineProperty(ServiceWorkerClass.prototype, \"serviceWorker\", {\n        /**\n         * Get the currently active service worker\n         */\n        get: function () {\n            return this._serviceWorker;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Register the service-worker.js file in the browser\n     * Make sure the service-worker.js is part of the build\n     * for example with Angular, modify the angular-cli.json file\n     * and add to \"assets\" array \"service-worker.js\"\n     * @param {string} - (optional) Service worker file. Defaults to \"/service-worker.js\"\n     * @param {string} - (optional) The service worker scope. Defaults to \"/\"\n     *  - API Doc: https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register\n     * @returns {Promise}\n     *\t- resolve(ServiceWorkerRegistration)\n     *\t- reject(Error)\n     **/\n    ServiceWorkerClass.prototype.register = function (filePath, scope) {\n        var _this = this;\n        if (filePath === void 0) { filePath = '/service-worker.js'; }\n        if (scope === void 0) { scope = '/'; }\n        this._logger.debug(\"registering \" + filePath);\n        this._logger.debug(\"registering service worker with scope \" + scope);\n        return new Promise(function (resolve, reject) {\n            if (navigator && 'serviceWorker' in navigator) {\n                navigator.serviceWorker.register(filePath, {\n                    'scope': scope\n                }).then(function (registration) {\n                    if (registration.installing) {\n                        _this._serviceWorker = registration.installing;\n                    }\n                    else if (registration.waiting) {\n                        _this._serviceWorker = registration.waiting;\n                    }\n                    else if (registration.active) {\n                        _this._serviceWorker = registration.active;\n                    }\n                    _this._registration = registration;\n                    _this._setupListeners();\n                    _this._logger.debug(\"Service Worker Registration Success: \" + registration);\n                    return resolve(registration);\n                }).catch(function (error) {\n                    _this._logger.debug(\"Service Worker Registration Failed \" + error);\n                    return reject(error);\n                });\n            }\n            else {\n                return reject(new Error('Service Worker not available'));\n            }\n        });\n    };\n    /**\n     * Enable web push notifications. If not subscribed, a new subscription will\n     * be created and registered.\n     * \tTest Push Server: https://web-push-codelab.glitch.me/\n     * \tPush Server Libraries: https://github.com/web-push-libs/\n     * \tAPI Doc: https://developers.google.com/web/fundamentals/codelabs/push-notifications/\n     * @param publicKey\n     * @returns {Promise}\n     * \t- resolve(PushSubscription)\n     *  - reject(Error)\n     */\n    ServiceWorkerClass.prototype.enablePush = function (publicKey) {\n        var _this = this;\n        if (!this._registration)\n            throw new Error('Service Worker not registered');\n        this._publicKey = publicKey;\n        return new Promise(function (resolve, reject) {\n            if (JS_1.default.browserOrNode().isBrowser) {\n                _this._registration.pushManager.getSubscription()\n                    .then(function (subscription) {\n                    if (subscription) {\n                        _this._subscription = subscription;\n                        _this._logger.debug(\"User is subscribed to push: \" + JSON.stringify(subscription));\n                        resolve(subscription);\n                    }\n                    else {\n                        _this._logger.debug(\"User is NOT subscribed to push\");\n                        return _this._registration.pushManager.subscribe({\n                            'userVisibleOnly': true,\n                            'applicationServerKey': _this._urlB64ToUint8Array(publicKey)\n                        }).then(function (subscription) {\n                            _this._subscription = subscription;\n                            _this._logger.debug(\"User subscribed: \" + JSON.stringify(subscription));\n                            resolve(subscription);\n                        }).catch(function (error) {\n                            _this._logger.error(error);\n                        });\n                    }\n                });\n            }\n            else {\n                return reject(new Error('Service Worker not available'));\n            }\n        });\n    };\n    /**\n     * Convert a base64 encoded string to a Uint8 array for the push server key\n     * @param base64String\n     */\n    ServiceWorkerClass.prototype._urlB64ToUint8Array = function (base64String) {\n        var padding = '='.repeat((4 - base64String.length % 4) % 4);\n        var base64 = (base64String + padding)\n            .replace(/\\-/g, '+')\n            .replace(/_/g, '/');\n        var rawData = window.atob(base64);\n        var outputArray = new Uint8Array(rawData.length);\n        for (var i = 0; i < rawData.length; ++i) {\n            outputArray[i] = rawData.charCodeAt(i);\n        }\n        return outputArray;\n    };\n    /**\n     * Send a message to the service worker. The service worker needs\n     * to implement `self.addEventListener('message') to handle the\n     * message. This ***currently*** does not work in Safari or IE.\n     * @param {object | string} - An arbitrary JSON object or string message to send to the service worker\n      *\t- see: https://developer.mozilla.org/en-US/docs/Web/API/Transferable\n     * @returns {Promise}\n     **/\n    ServiceWorkerClass.prototype.send = function (message) {\n        if (this._serviceWorker) {\n            this._serviceWorker.postMessage(typeof message === 'object' ? JSON.stringify(message) : message);\n        }\n    };\n    /**\n     * Listen for service worker state change and message events\n     * https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/state\n     **/\n    ServiceWorkerClass.prototype._setupListeners = function () {\n        var _this = this;\n        this._serviceWorker.addEventListener('statechange', function (event) {\n            var currentState = _this._serviceWorker.state;\n            _this._logger.debug(\"ServiceWorker statechange: \" + currentState);\n            if (Amplify_1.default.Analytics && typeof Amplify_1.default.Analytics.record === 'function') {\n                Amplify_1.default.Analytics.record({\n                    name: 'ServiceWorker',\n                    attributes: {\n                        'state': currentState\n                    }\n                });\n            }\n        });\n        this._serviceWorker.addEventListener('message', function (event) {\n            _this._logger.debug(\"ServiceWorker message event: \" + event);\n        });\n    };\n    return ServiceWorkerClass;\n}());\nexports.default = ServiceWorkerClass;\n//# sourceMappingURL=ServiceWorker.js.map","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['mobileanalytics'] = {};\nAWS.MobileAnalytics = Service.defineService('mobileanalytics', ['2014-06-05']);\nObject.defineProperty(apiLoader.services['mobileanalytics'], '2014-06-05', {\n  get: function get() {\n    var model = require('../apis/mobileanalytics-2014-06-05.min.json');\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.MobileAnalytics;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['pinpoint'] = {};\nAWS.Pinpoint = Service.defineService('pinpoint', ['2016-12-01']);\nObject.defineProperty(apiLoader.services['pinpoint'], '2016-12-01', {\n  get: function get() {\n    var model = require('../apis/pinpoint-2016-12-01.min.json');\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Pinpoint;\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Utils_1 = require(\"./Utils\");\nvar StorageCache_1 = require(\"./StorageCache\");\nvar core_1 = require(\"@aws-amplify/core\");\nvar logger = new core_1.ConsoleLogger('Cache');\n/**\n * Customized storage based on the SessionStorage or LocalStorage with LRU implemented\n */\nvar BrowserStorageCache = /** @class */ (function (_super) {\n    __extends(BrowserStorageCache, _super);\n    /**\n     * initialize the cache\n     * @param config - the configuration of the cache\n     */\n    function BrowserStorageCache(config) {\n        var _this = this;\n        var cacheConfig = config ? Object.assign({}, Utils_1.defaultConfig, config) : Utils_1.defaultConfig;\n        _this = _super.call(this, cacheConfig) || this;\n        _this.config.storage = cacheConfig.storage;\n        _this.getItem = _this.getItem.bind(_this);\n        _this.setItem = _this.setItem.bind(_this);\n        _this.removeItem = _this.removeItem.bind(_this);\n        return _this;\n    }\n    /**\n     * decrease current size of the cache\n     *\n     * @private\n     * @param amount - the amount of the cache size which needs to be decreased\n     */\n    BrowserStorageCache.prototype._decreaseCurSizeInBytes = function (amount) {\n        var curSize = this.getCacheCurSize();\n        this.config.storage.setItem(this.cacheCurSizeKey, (curSize - amount).toString());\n    };\n    /**\n     * increase current size of the cache\n     *\n     * @private\n     * @param amount - the amount of the cache szie which need to be increased\n     */\n    BrowserStorageCache.prototype._increaseCurSizeInBytes = function (amount) {\n        var curSize = this.getCacheCurSize();\n        this.config.storage.setItem(this.cacheCurSizeKey, (curSize + amount).toString());\n    };\n    /**\n     * update the visited time if item has been visited\n     *\n     * @private\n     * @param item - the item which need to be refreshed\n     * @param prefixedKey - the key of the item\n     *\n     * @return the refreshed item\n     */\n    BrowserStorageCache.prototype._refreshItem = function (item, prefixedKey) {\n        item.visitedTime = Utils_1.getCurrTime();\n        this.config.storage.setItem(prefixedKey, JSON.stringify(item));\n        return item;\n    };\n    /**\n     * check wether item is expired\n     *\n     * @private\n     * @param key - the key of the item\n     *\n     * @return true if the item is expired.\n     */\n    BrowserStorageCache.prototype._isExpired = function (key) {\n        var text = this.config.storage.getItem(key);\n        var item = JSON.parse(text);\n        if (Utils_1.getCurrTime() >= item.expires) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * delete item from cache\n     *\n     * @private\n     * @param prefixedKey - the key of the item\n     * @param size - optional, the byte size of the item\n     */\n    BrowserStorageCache.prototype._removeItem = function (prefixedKey, size) {\n        var itemSize = size ? size : JSON.parse(this.config.storage.getItem(prefixedKey)).byteSize;\n        this._decreaseCurSizeInBytes(itemSize);\n        // remove the cache item\n        this.config.storage.removeItem(prefixedKey);\n    };\n    /**\n     * put item into cache\n     *\n     * @private\n     * @param prefixedKey - the key of the item\n     * @param itemData - the value of the item\n     * @param itemSizeInBytes - the byte size of the item\n     */\n    BrowserStorageCache.prototype._setItem = function (prefixedKey, item) {\n        // update the cache size\n        this._increaseCurSizeInBytes(item.byteSize);\n        try {\n            this.config.storage.setItem(prefixedKey, JSON.stringify(item));\n        }\n        catch (setItemErr) {\n            // if failed, we need to rollback the cache size\n            this._decreaseCurSizeInBytes(item.byteSize);\n            logger.error(\"Failed to set item \" + setItemErr);\n        }\n    };\n    /**\n     * total space needed when poping out items\n     *\n     * @private\n     * @param itemSize\n     *\n     * @return total space needed\n     */\n    BrowserStorageCache.prototype._sizeToPop = function (itemSize) {\n        var spaceItemNeed = this.getCacheCurSize() + itemSize - this.config.capacityInBytes;\n        var cacheThresholdSpace = (1 - this.config.warningThreshold) * this.config.capacityInBytes;\n        return spaceItemNeed > cacheThresholdSpace ? spaceItemNeed : cacheThresholdSpace;\n    };\n    /**\n     * see whether cache is full\n     *\n     * @private\n     * @param itemSize\n     *\n     * @return true if cache is full\n     */\n    BrowserStorageCache.prototype._isCacheFull = function (itemSize) {\n        return itemSize + this.getCacheCurSize() > this.config.capacityInBytes;\n    };\n    /**\n     * scan the storage and find out all the keys owned by this cache\n     * also clean the expired keys while scanning\n     *\n     * @private\n     *\n     * @return array of keys\n     */\n    BrowserStorageCache.prototype._findValidKeys = function () {\n        var keys = [];\n        var keyInCache = [];\n        // get all keys in Storage\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            keyInCache.push(this.config.storage.key(i));\n        }\n        // find those items which belong to our cache and also clean those expired items\n        for (var i = 0; i < keyInCache.length; i += 1) {\n            var key = keyInCache[i];\n            if (key.indexOf(this.config.keyPrefix) === 0 && key !== this.cacheCurSizeKey) {\n                if (this._isExpired(key)) {\n                    this._removeItem(key);\n                }\n                else {\n                    keys.push(key);\n                }\n            }\n        }\n        return keys;\n    };\n    /**\n     * get all the items we have, sort them by their priority,\n     * if priority is same, sort them by their last visited time\n     * pop out items from the low priority (5 is the lowest)\n     *\n     * @private\n     * @param keys - all the keys in this cache\n     * @param sizeToPop - the total size of the items which needed to be poped out\n     */\n    BrowserStorageCache.prototype._popOutItems = function (keys, sizeToPop) {\n        var items = [];\n        var remainedSize = sizeToPop;\n        // get the items from Storage\n        for (var i = 0; i < keys.length; i += 1) {\n            var val = this.config.storage.getItem(keys[i]);\n            if (val != null) {\n                var item = JSON.parse(val);\n                items.push(item);\n            }\n        }\n        // first compare priority\n        // then compare visited time\n        items.sort(function (a, b) {\n            if (a.priority > b.priority) {\n                return -1;\n            }\n            else if (a.priority < b.priority) {\n                return 1;\n            }\n            else {\n                if (a.visitedTime < b.visitedTime) {\n                    return -1;\n                }\n                else\n                    return 1;\n            }\n        });\n        for (var i = 0; i < items.length; i += 1) {\n            // pop out items until we have enough room for new item\n            this._removeItem(items[i].key, items[i].byteSize);\n            remainedSize -= items[i].byteSize;\n            if (remainedSize <= 0) {\n                return;\n            }\n        }\n    };\n    /**\n     * Set item into cache. You can put number, string, boolean or object.\n     * The cache will first check whether has the same key.\n     * If it has, it will delete the old item and then put the new item in\n     * The cache will pop out items if it is full\n     * You can specify the cache item options. The cache will abort and output a warning:\n     * If the key is invalid\n     * If the size of the item exceeds itemMaxSize.\n     * If the value is undefined\n     * If incorrect cache item configuration\n     * If error happened with browser storage\n     *\n     * @param key - the key of the item\n     * @param value - the value of the item\n     * @param {Object} [options] - optional, the specified meta-data\n     */\n    BrowserStorageCache.prototype.setItem = function (key, value, options) {\n        logger.log(\"Set item: key is \" + key + \", value is \" + value + \" with options: \" + options);\n        var prefixedKey = this.config.keyPrefix + key;\n        // invalid keys\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return;\n        }\n        if (typeof value === 'undefined') {\n            logger.warn(\"The value of item should not be undefined!\");\n            return;\n        }\n        var cacheItemOptions = {\n            priority: options && options.priority !== undefined ? options.priority : this.config.defaultPriority,\n            expires: options && options.expires !== undefined ? options.expires : this.config.defaultTTL + Utils_1.getCurrTime()\n        };\n        if (cacheItemOptions.priority < 1 || cacheItemOptions.priority > 5) {\n            logger.warn(\"Invalid parameter: priority due to out or range. It should be within 1 and 5.\");\n            return;\n        }\n        var item = this.fillCacheItem(prefixedKey, value, cacheItemOptions);\n        // check wether this item is too big;\n        if (item.byteSize > this.config.itemMaxSize) {\n            logger.warn(\"Item with key: \" + key + \" you are trying to put into is too big!\");\n            return;\n        }\n        try {\n            // first look into the storage, if it exists, delete it.\n            var val = this.config.storage.getItem(prefixedKey);\n            if (val) {\n                this._removeItem(prefixedKey, JSON.parse(val).byteSize);\n            }\n            // check whether the cache is full\n            if (this._isCacheFull(item.byteSize)) {\n                var validKeys = this._findValidKeys();\n                // check again and then pop out items\n                if (this._isCacheFull(item.byteSize)) {\n                    var sizeToPop = this._sizeToPop(item.byteSize);\n                    this._popOutItems(validKeys, sizeToPop);\n                }\n            }\n            // put item in the cache\n            // may failed due to storage full\n            this._setItem(prefixedKey, item);\n        }\n        catch (e) {\n            logger.warn(\"setItem failed! \" + e);\n        }\n    };\n    /**\n     * Get item from cache. It will return null if item doesn’t exist or it has been expired.\n     * If you specified callback function in the options,\n     * then the function will be executed if no such item in the cache\n     * and finally put the return value into cache.\n     * Please make sure the callback function will return the value you want to put into the cache.\n     * The cache will abort output a warning:\n     * If the key is invalid\n     * If error happened with browser storage\n     *\n     * @param key - the key of the item\n     * @param {Object} [options] - the options of callback function\n     *\n     * @return - return the value of the item\n     */\n    BrowserStorageCache.prototype.getItem = function (key, options) {\n        logger.log(\"Get item: key is \" + key + \" with options \" + options);\n        var ret = null;\n        var prefixedKey = this.config.keyPrefix + key;\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return null;\n        }\n        try {\n            ret = this.config.storage.getItem(prefixedKey);\n            if (ret != null) {\n                if (this._isExpired(prefixedKey)) {\n                    // if expired, remove that item and return null\n                    this._removeItem(prefixedKey, JSON.parse(ret).byteSize);\n                    ret = null;\n                }\n                else {\n                    // if not expired, great, return the value and refresh it\n                    var item = JSON.parse(ret);\n                    item = this._refreshItem(item, prefixedKey);\n                    return item.data;\n                }\n            }\n            if (options && options.callback !== undefined) {\n                var val = options.callback();\n                if (val !== null) {\n                    this.setItem(key, val, options);\n                }\n                return val;\n            }\n            return null;\n        }\n        catch (e) {\n            logger.warn(\"getItem failed! \" + e);\n            return null;\n        }\n    };\n    /**\n     * remove item from the cache\n     * The cache will abort output a warning:\n     * If error happened with browser storage\n     * @param key - the key of the item\n     */\n    BrowserStorageCache.prototype.removeItem = function (key) {\n        logger.log(\"Remove item: key is \" + key);\n        var prefixedKey = this.config.keyPrefix + key;\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            return;\n        }\n        try {\n            var val = this.config.storage.getItem(prefixedKey);\n            if (val) {\n                this._removeItem(prefixedKey, JSON.parse(val).byteSize);\n            }\n        }\n        catch (e) {\n            logger.warn(\"removeItem failed! \" + e);\n        }\n    };\n    /**\n     * clear the entire cache\n     * The cache will abort output a warning:\n     * If error happened with browser storage\n     */\n    BrowserStorageCache.prototype.clear = function () {\n        logger.log(\"Clear Cache\");\n        var keysToRemove = [];\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            var key = this.config.storage.key(i);\n            if (key.indexOf(this.config.keyPrefix) === 0) {\n                keysToRemove.push(key);\n            }\n        }\n        try {\n            for (var i = 0; i < keysToRemove.length; i += 1) {\n                this.config.storage.removeItem(keysToRemove[i]);\n            }\n        }\n        catch (e) {\n            logger.warn(\"clear failed! \" + e);\n        }\n    };\n    /**\n     * Return all the keys in the cache.\n     *\n     * @return - all keys in the cache\n     */\n    BrowserStorageCache.prototype.getAllKeys = function () {\n        var keys = [];\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            var key = this.config.storage.key(i);\n            if (key.indexOf(this.config.keyPrefix) === 0 && key !== this.cacheCurSizeKey) {\n                keys.push(key.substring(this.config.keyPrefix.length));\n            }\n        }\n        return keys;\n    };\n    /**\n     * return the current size of the cache\n     *\n     * @return - current size of the cache\n     */\n    BrowserStorageCache.prototype.getCacheCurSize = function () {\n        var ret = this.config.storage.getItem(this.cacheCurSizeKey);\n        if (!ret) {\n            this.config.storage.setItem(this.cacheCurSizeKey, '0');\n            ret = '0';\n        }\n        return Number(ret);\n    };\n    /**\n     * Return a new instance of cache with customized configuration.\n     * @param config - the customized configuration\n     *\n     * @return - new instance of Cache\n     */\n    BrowserStorageCache.prototype.createInstance = function (config) {\n        if (!config.keyPrefix || config.keyPrefix === Utils_1.defaultConfig.keyPrefix) {\n            logger.error('invalid keyPrefix, setting keyPrefix with timeStamp');\n            config.keyPrefix = Utils_1.getCurrTime.toString();\n        }\n        return new BrowserStorageCache(config);\n    };\n    return BrowserStorageCache;\n}(StorageCache_1.default));\nexports.BrowserStorageCache = BrowserStorageCache;\nvar instance = new BrowserStorageCache();\nexports.default = instance;\n//# sourceMappingURL=BrowserStorageCache.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@aws-amplify/core\");\n/**\n* Default cache config\n*/\nexports.defaultConfig = {\n    keyPrefix: 'aws-amplify-cache',\n    capacityInBytes: 1048576,\n    itemMaxSize: 210000,\n    defaultTTL: 259200000,\n    defaultPriority: 5,\n    warningThreshold: 0.8,\n    // the storage helper will check if localStorage exists,\n    // if not, will use a in-memory object instead\n    storage: new core_1.StorageHelper().getStorage()\n};\n/**\n * return the byte size of the string\n * @param str\n */\nfunction getByteLength(str) {\n    var ret = 0;\n    ret = str.length;\n    for (var i = str.length; i >= 0; i -= 1) {\n        var charCode = str.charCodeAt(i);\n        if (charCode > 0x7f && charCode <= 0x7ff) {\n            ret += 1;\n        }\n        else if (charCode > 0x7ff && charCode <= 0xffff) {\n            ret += 2;\n        }\n        // trail surrogate\n        if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\n            i -= 1;\n        }\n    }\n    return ret;\n}\nexports.getByteLength = getByteLength;\n/**\n * get current time\n */\nfunction getCurrTime() {\n    var currTime = new Date();\n    return currTime.getTime();\n}\nexports.getCurrTime = getCurrTime;\n/**\n * check if passed value is an integer\n */\nfunction isInteger(value) {\n    if (Number.isInteger) {\n        return Number.isInteger(value);\n    }\n    return _isInteger(value);\n}\nexports.isInteger = isInteger;\nfunction _isInteger(value) {\n    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\n/**\n * provide an object as the in-memory cache\n */\nvar store = {};\nvar CacheObject = /** @class */ (function () {\n    function CacheObject() {\n    }\n    CacheObject.clear = function () {\n        store = {};\n    };\n    CacheObject.getItem = function (key) {\n        return store[key] || null;\n    };\n    CacheObject.setItem = function (key, value) {\n        store[key] = value;\n    };\n    CacheObject.removeItem = function (key) {\n        delete store[key];\n    };\n    return CacheObject;\n}());\nexports.CacheObject = CacheObject;\n//# sourceMappingURL=CacheUtils.js.map","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DoubleLinkedNode = /** @class */ (function () {\n    function DoubleLinkedNode(keyVal) {\n        this.key = keyVal ? keyVal : '';\n        this.prevNode = null;\n        this.nextNode = null;\n    }\n    return DoubleLinkedNode;\n}());\n/**\n * double linked list plus a hash table inside\n * each key in the cache stored as a node in the list\n * recently visited node will be rotated to the head\n * so the Last Recently Visited node will be at the tail\n *\n * @member head - dummy head of the linked list\n * @member tail - dummy tail of the linked list\n * @member hashtable - the hashtable which maps cache key to list node\n * @member length - length of the list\n */\nvar CacheList = /** @class */ (function () {\n    /**\n     * initialization\n     */\n    function CacheList() {\n        this.head = new DoubleLinkedNode();\n        this.tail = new DoubleLinkedNode();\n        this.hashtable = {};\n        this.length = 0;\n        this.head.nextNode = this.tail;\n        this.tail.prevNode = this.head;\n    }\n    /**\n     * insert node to the head of the list\n     *\n     * @param node\n     */\n    CacheList.prototype.insertNodeToHead = function (node) {\n        var tmp = this.head.nextNode;\n        this.head.nextNode = node;\n        node.nextNode = tmp;\n        node.prevNode = this.head;\n        tmp.prevNode = node;\n        this.length = this.length + 1;\n    };\n    /**\n     * remove node\n     *\n     * @param node\n     */\n    CacheList.prototype.removeNode = function (node) {\n        node.prevNode.nextNode = node.nextNode;\n        node.nextNode.prevNode = node.prevNode;\n        node.prevNode = null;\n        node.nextNode = null;\n        this.length = this.length - 1;\n    };\n    /**\n     * @return true if list is empty\n     */\n    CacheList.prototype.isEmpty = function () {\n        return this.length === 0;\n    };\n    /**\n     * refresh node so it is rotated to the head\n     *\n     * @param key - key of the node\n     */\n    CacheList.prototype.refresh = function (key) {\n        var node = this.hashtable[key];\n        this.removeNode(node);\n        this.insertNodeToHead(node);\n    };\n    /**\n     * insert new node to the head and add it in the hashtable\n     *\n     * @param key - the key of the node\n     */\n    CacheList.prototype.insertItem = function (key) {\n        var node = new DoubleLinkedNode(key);\n        this.hashtable[key] = node;\n        this.insertNodeToHead(node);\n    };\n    /**\n     * @return the LAST Recently Visited key\n     */\n    CacheList.prototype.getLastItem = function () {\n        return this.tail.prevNode.key;\n    };\n    /**\n     * remove the cache key from the list and hashtable\n     * @param key - the key of the node\n     */\n    CacheList.prototype.removeItem = function (key) {\n        var removedItem = this.hashtable[key];\n        this.removeNode(removedItem);\n        delete this.hashtable[key];\n    };\n    /**\n     * @return length of the list\n     */\n    CacheList.prototype.getSize = function () {\n        return this.length;\n    };\n    /**\n     * @return true if the key is in the hashtable\n     * @param key\n     */\n    CacheList.prototype.containsKey = function (key) {\n        return key in this.hashtable;\n    };\n    /**\n     * clean up the list and hashtable\n     */\n    CacheList.prototype.clearList = function () {\n        for (var _i = 0, _a = Object.keys(this.hashtable); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.hashtable.hasOwnProperty(key)) {\n                delete this.hashtable[key];\n            }\n        }\n        this.head.nextNode = this.tail;\n        this.tail.prevNode = this.head;\n        this.length = 0;\n    };\n    /**\n     * @return all keys in the hashtable\n     */\n    CacheList.prototype.getKeys = function () {\n        return Object.keys(this.hashtable);\n    };\n    /**\n     * mainly for test\n     *\n     * @param key\n     * @return true if key is the head node\n     */\n    CacheList.prototype.isHeadNode = function (key) {\n        var node = this.hashtable[key];\n        return (node.prevNode === this.head);\n    };\n    /**\n     * mainly for test\n     *\n     * @param key\n     * @return true if key is the tail node\n     */\n    CacheList.prototype.isTailNode = function (key) {\n        var node = this.hashtable[key];\n        return (node.nextNode === this.tail);\n    };\n    return CacheList;\n}());\nexports.default = CacheList;\n//# sourceMappingURL=CacheList.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Utils_1 = require(\"./Utils\");\nvar StorageCache_1 = require(\"./StorageCache\");\nvar core_1 = require(\"@aws-amplify/core\");\nvar logger = new core_1.ConsoleLogger('InMemoryCache');\n/**\n * Customized in-memory cache with LRU implemented\n * @member cacheObj - object which store items\n * @member cacheList - list of keys in the cache with LRU\n * @member curSizeInBytes - current size of the cache\n * @member maxPriority - max of the priority\n * @member cacheSizeLimit - the limit of cache size\n */\nvar InMemoryCache = /** @class */ (function (_super) {\n    __extends(InMemoryCache, _super);\n    /**\n     * initialize the cache\n     *\n     * @param config - the configuration of the cache\n     */\n    function InMemoryCache(config) {\n        var _this = this;\n        var cacheConfig = config ? Object.assign({}, Utils_1.defaultConfig, config) : Utils_1.defaultConfig;\n        _this = _super.call(this, cacheConfig) || this;\n        logger.debug('now we start!');\n        _this.cacheList = [];\n        _this.curSizeInBytes = 0;\n        _this.maxPriority = 5;\n        _this.getItem = _this.getItem.bind(_this);\n        _this.setItem = _this.setItem.bind(_this);\n        _this.removeItem = _this.removeItem.bind(_this);\n        // initialize list for every priority\n        for (var i = 0; i < _this.maxPriority; i += 1) {\n            _this.cacheList[i] = new Utils_1.CacheList();\n        }\n        return _this;\n    }\n    /**\n     * decrease current size of the cache\n     *\n     * @param amount - the amount of the cache size which needs to be decreased\n     */\n    InMemoryCache.prototype._decreaseCurSizeInBytes = function (amount) {\n        this.curSizeInBytes -= amount;\n    };\n    /**\n     * increase current size of the cache\n     *\n     * @param amount - the amount of the cache szie which need to be increased\n     */\n    InMemoryCache.prototype._increaseCurSizeInBytes = function (amount) {\n        this.curSizeInBytes += amount;\n    };\n    /**\n     * check whether item is expired\n     *\n     * @param key - the key of the item\n     *\n     * @return true if the item is expired.\n     */\n    InMemoryCache.prototype._isExpired = function (key) {\n        var text = Utils_1.CacheObject.getItem(key);\n        var item = JSON.parse(text);\n        if (Utils_1.getCurrTime() >= item.expires) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * delete item from cache\n     *\n     * @param prefixedKey - the key of the item\n     * @param listIdx - indicates which cache list the key belongs to\n     */\n    InMemoryCache.prototype._removeItem = function (prefixedKey, listIdx) {\n        // delete the key from the list\n        this.cacheList[listIdx].removeItem(prefixedKey);\n        // decrease the current size of the cache\n        this._decreaseCurSizeInBytes(JSON.parse(Utils_1.CacheObject.getItem(prefixedKey)).byteSize);\n        // finally remove the item from memory\n        Utils_1.CacheObject.removeItem(prefixedKey);\n    };\n    /**\n     * put item into cache\n     *\n     * @param prefixedKey - the key of the item\n     * @param itemData - the value of the item\n     * @param itemSizeInBytes - the byte size of the item\n     * @param listIdx - indicates which cache list the key belongs to\n     */\n    InMemoryCache.prototype._setItem = function (prefixedKey, item, listIdx) {\n        // insert the key into the list\n        this.cacheList[listIdx].insertItem(prefixedKey);\n        // increase the current size of the cache\n        this._increaseCurSizeInBytes(item.byteSize);\n        // finally add the item into memory\n        Utils_1.CacheObject.setItem(prefixedKey, JSON.stringify(item));\n    };\n    /**\n     * see whether cache is full\n     *\n     * @param itemSize\n     *\n     * @return true if cache is full\n     */\n    InMemoryCache.prototype._isCacheFull = function (itemSize) {\n        return this.curSizeInBytes + itemSize > this.config.capacityInBytes;\n    };\n    /**\n     * check whether the cache contains the key\n     *\n     * @param key\n     */\n    InMemoryCache.prototype.containsKey = function (key) {\n        var prefixedKey = this.config.keyPrefix + key;\n        for (var i = 0; i < this.maxPriority; i += 1) {\n            if (this.cacheList[i].containsKey(prefixedKey)) {\n                return i + 1;\n            }\n        }\n        return -1;\n    };\n    /**\n     * * Set item into cache. You can put number, string, boolean or object.\n     * The cache will first check whether has the same key.\n     * If it has, it will delete the old item and then put the new item in\n     * The cache will pop out items if it is full\n     * You can specify the cache item options. The cache will abort and output a warning:\n     * If the key is invalid\n     * If the size of the item exceeds itemMaxSize.\n     * If the value is undefined\n     * If incorrect cache item configuration\n     * If error happened with browser storage\n     *\n     * @param key - the key of the item\n     * @param value - the value of the item\n     * @param options - optional, the specified meta-data\n     *\n     * @throws if the item is too big which exceeds the limit of single item size\n     * @throws if the key is invalid\n     */\n    InMemoryCache.prototype.setItem = function (key, value, options) {\n        var prefixedKey = this.config.keyPrefix + key;\n        // invalid keys\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return;\n        }\n        if ((typeof value) === 'undefined') {\n            logger.warn(\"The value of item should not be undefined!\");\n            return;\n        }\n        var cacheItemOptions = {\n            priority: options && options.priority !== undefined ? options.priority : this.config.defaultPriority,\n            expires: options && options.expires !== undefined ?\n                options.expires : (this.config.defaultTTL + Utils_1.getCurrTime())\n        };\n        if (cacheItemOptions.priority < 1 || cacheItemOptions.priority > 5) {\n            logger.warn(\"Invalid parameter: priority due to out or range. It should be within 1 and 5.\");\n            return;\n        }\n        var item = this.fillCacheItem(prefixedKey, value, cacheItemOptions);\n        // check wether this item is too big;\n        if (item.byteSize > this.config.itemMaxSize) {\n            logger.warn(\"Item with key: \" + key + \" you are trying to put into is too big!\");\n            return;\n        }\n        // if key already in the cache, then delete it.\n        var presentKeyPrio = this.containsKey(key);\n        if (presentKeyPrio !== -1) {\n            this._removeItem(prefixedKey, presentKeyPrio - 1);\n        }\n        // pop out items in the cache when cache is full based on LRU\n        // first start from lowest priority cache list\n        var cacheListIdx = this.maxPriority - 1;\n        while (this._isCacheFull(item.byteSize) && cacheListIdx >= 0) {\n            if (!this.cacheList[cacheListIdx].isEmpty()) {\n                var popedItemKey = this.cacheList[cacheListIdx].getLastItem();\n                this._removeItem(popedItemKey, cacheListIdx);\n            }\n            else {\n                cacheListIdx -= 1;\n            }\n        }\n        this._setItem(prefixedKey, item, Number(item.priority) - 1);\n    };\n    /**\n     * Get item from cache. It will return null if item doesn’t exist or it has been expired.\n     * If you specified callback function in the options,\n     * then the function will be executed if no such item in the cache\n     * and finally put the return value into cache.\n     * Please make sure the callback function will return the value you want to put into the cache.\n     * The cache will abort output a warning:\n     * If the key is invalid\n     *\n     * @param key - the key of the item\n     * @param options - the options of callback function\n     */\n    InMemoryCache.prototype.getItem = function (key, options) {\n        var ret = null;\n        var prefixedKey = this.config.keyPrefix + key;\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return null;\n        }\n        // check whether it's in the cachelist\n        var presentKeyPrio = this.containsKey(key);\n        if (presentKeyPrio !== -1) {\n            if (this._isExpired(prefixedKey)) {\n                // if expired, remove that item and return null\n                this._removeItem(prefixedKey, presentKeyPrio - 1);\n            }\n            else {\n                // if not expired, great, return the value and refresh it\n                ret = Utils_1.CacheObject.getItem(prefixedKey);\n                var item = JSON.parse(ret);\n                this.cacheList[item.priority - 1].refresh(prefixedKey);\n                return item.data;\n            }\n        }\n        if (options && options.callback !== undefined) {\n            var val = options.callback();\n            if (val !== null) {\n                this.setItem(key, val, options);\n            }\n            return val;\n        }\n        return null;\n    };\n    /**\n     * remove item from the cache\n     *\n     * @param key - the key of the item\n     */\n    InMemoryCache.prototype.removeItem = function (key) {\n        var prefixedKey = this.config.keyPrefix + key;\n        // check if the key is in the cache\n        var presentKeyPrio = this.containsKey(key);\n        if (presentKeyPrio !== -1) {\n            this._removeItem(prefixedKey, presentKeyPrio - 1);\n        }\n    };\n    /**\n     * clear the entire cache\n     */\n    InMemoryCache.prototype.clear = function () {\n        for (var i = 0; i < this.maxPriority; i += 1) {\n            for (var _i = 0, _a = this.cacheList[i].getKeys(); _i < _a.length; _i++) {\n                var key = _a[_i];\n                this._removeItem(key, i);\n            }\n        }\n    };\n    /**\n     * Return all the keys in the cache.\n     */\n    InMemoryCache.prototype.getAllKeys = function () {\n        var keys = [];\n        for (var i = 0; i < this.maxPriority; i += 1) {\n            for (var _i = 0, _a = this.cacheList[i].getKeys(); _i < _a.length; _i++) {\n                var key = _a[_i];\n                keys.push(key.substring(this.config.keyPrefix.length));\n            }\n        }\n        return keys;\n    };\n    /**\n     * return the current size of the cache\n     *\n     * @return the current size of the cache\n     */\n    InMemoryCache.prototype.getCacheCurSize = function () {\n        return this.curSizeInBytes;\n    };\n    /**\n     * Return a new instance of cache with customized configuration.\n     * @param config - the customized configuration\n     */\n    InMemoryCache.prototype.createInstance = function (config) {\n        return new InMemoryCache(config);\n    };\n    return InMemoryCache;\n}(StorageCache_1.default));\nexports.InMemoryCache = InMemoryCache;\nvar instance = new InMemoryCache();\nexports.default = instance;\n//# sourceMappingURL=InMemoryCache.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PageViewTracker_1 = require(\"./PageViewTracker\");\nexports.PageViewTracker = PageViewTracker_1.default;\nvar EventTracker_1 = require(\"./EventTracker\");\nexports.EventTracker = EventTracker_1.default;\nvar SessionTracker_1 = require(\"./SessionTracker\");\nexports.SessionTracker = SessionTracker_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MethodEmbed_1 = require(\"../utils/MethodEmbed\");\nvar core_1 = require(\"@aws-amplify/core\");\nvar logger = new core_1.ConsoleLogger('PageViewTracker');\nvar PREV_URL_KEY = 'aws-amplify-analytics-prevUrl';\nvar getUrl = function () {\n    if (!core_1.JS.browserOrNode().isBrowser)\n        return '';\n    else\n        return window.location.origin + window.location.pathname;\n};\nvar defaultOpts = {\n    enable: false,\n    provider: 'AWSPinpoint',\n    getUrl: getUrl\n};\nvar PageViewTracker = /** @class */ (function () {\n    function PageViewTracker(tracker, opts) {\n        logger.debug('initialize pageview tracker with opts', opts);\n        this._config = Object.assign({}, defaultOpts, opts);\n        this._tracker = tracker;\n        this._hasEnabled = false;\n        this._trackFunc = this._trackFunc.bind(this);\n        if (this._config.type === 'SPA') {\n            this._pageViewTrackSPA();\n        }\n        else {\n            this._pageViewTrackDefault();\n        }\n    }\n    PageViewTracker.prototype.configure = function (opts) {\n        Object.assign(this._config, opts);\n        // if spa, need to remove those listeners if disabled\n        if (this._config.type === 'SPA') {\n            this._pageViewTrackSPA();\n        }\n        return this._config;\n    };\n    PageViewTracker.prototype._isSameUrl = function () {\n        var prevUrl = sessionStorage.getItem(PREV_URL_KEY);\n        var curUrl = this._config.getUrl();\n        if (prevUrl === curUrl) {\n            logger.debug('the url is same');\n            return true;\n        }\n        else\n            return false;\n    };\n    PageViewTracker.prototype._pageViewTrackDefault = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, customAttrs, _a, attributes;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!core_1.JS.browserOrNode().isBrowser || !window.addEventListener || !window.sessionStorage) {\n                            logger.debug('not in the supported web enviroment');\n                            return [2 /*return*/];\n                        }\n                        url = this._config.getUrl();\n                        if (!(typeof this._config.attributes === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._config.attributes()];\n                    case 1:\n                        _a = _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = this._config.attributes;\n                        _b.label = 3;\n                    case 3:\n                        customAttrs = _a;\n                        attributes = Object.assign({\n                            url: url\n                        }, customAttrs);\n                        if (this._config.enable && !this._isSameUrl()) {\n                            this._tracker({\n                                name: this._config.eventName || 'pageView',\n                                attributes: attributes\n                            }, this._config.provider).catch(function (e) {\n                                logger.debug('Failed to record the page view event', e);\n                            });\n                            sessionStorage.setItem(PREV_URL_KEY, url);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PageViewTracker.prototype._trackFunc = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, customAttrs, _a, attributes;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!core_1.JS.browserOrNode().isBrowser || !window.addEventListener || !history.pushState || !window.sessionStorage) {\n                            logger.debug('not in the supported web enviroment');\n                            return [2 /*return*/];\n                        }\n                        url = this._config.getUrl();\n                        if (!(typeof this._config.attributes === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._config.attributes()];\n                    case 1:\n                        _a = _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = this._config.attributes;\n                        _b.label = 3;\n                    case 3:\n                        customAttrs = _a;\n                        attributes = Object.assign({\n                            url: url\n                        }, customAttrs);\n                        if (!this._isSameUrl()) {\n                            this._tracker({\n                                name: this._config.eventName || 'pageView',\n                                attributes: attributes\n                            }, this._config.provider).catch(function (e) {\n                                logger.debug('Failed to record the page view event', e);\n                            });\n                            sessionStorage.setItem(PREV_URL_KEY, url);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PageViewTracker.prototype._pageViewTrackSPA = function () {\n        if (!core_1.JS.browserOrNode().isBrowser || !window.addEventListener || !history.pushState) {\n            logger.debug('not in the supported web enviroment');\n            return;\n        }\n        if (this._config.enable && !this._hasEnabled) {\n            MethodEmbed_1.default.add(history, 'pushState', this._trackFunc);\n            MethodEmbed_1.default.add(history, 'replaceState', this._trackFunc);\n            window.addEventListener('popstate', this._trackFunc);\n            this._trackFunc();\n            this._hasEnabled = true;\n        }\n        else {\n            MethodEmbed_1.default.remove(history, 'pushState');\n            MethodEmbed_1.default.remove(history, 'replaceState');\n            window.removeEventListener('popstate', this._trackFunc);\n            this._hasEnabled = false;\n        }\n    };\n    return PageViewTracker;\n}());\nexports.default = PageViewTracker;\n//# sourceMappingURL=PageViewTracker.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lists = [];\nvar MethodEmbed = /** @class */ (function () {\n    function MethodEmbed(context, methodName) {\n        this.context = context;\n        this.methodName = methodName;\n        this._originalMethod = context[methodName].bind(context);\n    }\n    MethodEmbed.add = function (context, methodName, methodOverride) {\n        getInstance(context, methodName).set(methodOverride);\n    };\n    MethodEmbed.remove = function (context, methodName) {\n        getInstance(context, methodName).remove();\n    };\n    MethodEmbed.prototype.set = function (methodOverride) {\n        var _this = this;\n        this.context[this.methodName] = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return methodOverride(_this._originalMethod.apply(_this, args));\n        };\n    };\n    MethodEmbed.prototype.remove = function () {\n        this.context[this.methodName] = this._originalMethod;\n    };\n    return MethodEmbed;\n}());\nexports.default = MethodEmbed;\nfunction getInstance(context, methodName) {\n    var instance = lists\n        .filter(function (h) { return h.context === context && h.methodName === methodName; })[0];\n    if (!instance) {\n        instance = new MethodEmbed(context, methodName);\n        lists.push(instance);\n    }\n    return instance;\n}\n//# sourceMappingURL=MethodEmbed.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_utils_1 = require(\"../vendor/dom-utils\");\nvar core_1 = require(\"@aws-amplify/core\");\nvar logger = new core_1.ConsoleLogger('EventTracker');\nvar defaultOpts = {\n    enable: false,\n    events: ['click'],\n    selectorPrefix: 'data-amplify-analytics-',\n    provider: 'AWSPinpoint'\n};\nvar EventTracker = /** @class */ (function () {\n    function EventTracker(tracker, opts) {\n        if (!core_1.JS.browserOrNode().isBrowser || !window.addEventListener) {\n            logger.debug('not in the supported web environment');\n            return;\n        }\n        this._config = Object.assign({}, defaultOpts, opts);\n        this._tracker = tracker;\n        this._delegates = {};\n        this._trackFunc = this._trackFunc.bind(this);\n        logger.debug('initialize pageview tracker with opts', this._config);\n        this.configure(this._config);\n    }\n    EventTracker.prototype.configure = function (opts) {\n        var _this = this;\n        Object.assign(this._config, opts);\n        if (!this._config.enable) {\n            Object.keys(this._delegates).forEach(function (key) {\n                if (typeof _this._delegates[key].destroy === 'function')\n                    _this._delegates[key].destroy();\n            });\n            this._delegates = {};\n        }\n        else if (this._config.enable && Object.keys(this._delegates).length === 0) {\n            var selector_1 = '[' + this._config.selectorPrefix + 'on]';\n            this._config.events.forEach(function (evt) {\n                _this._delegates[evt] = dom_utils_1.delegate(document, evt, selector_1, _this._trackFunc, { composed: true, useCapture: true });\n            });\n        }\n        return this._config;\n    };\n    EventTracker.prototype._trackFunc = function (event, element) {\n        return __awaiter(this, void 0, void 0, function () {\n            var customAttrs, events, eventName, attrs, defaultAttrs, _a, attributes;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        customAttrs = {};\n                        events = element\n                            .getAttribute(this._config.selectorPrefix + 'on')\n                            .split(/\\s*,\\s*/);\n                        eventName = element.getAttribute(this._config.selectorPrefix + 'name');\n                        attrs = element.getAttribute(this._config.selectorPrefix + 'attrs');\n                        if (attrs) {\n                            attrs.split(/\\s*,\\s*/)\n                                .forEach(function (attr) {\n                                var tmp = attr.trim().split(/\\s*:\\s*/);\n                                customAttrs[tmp[0]] = tmp[1];\n                            });\n                        }\n                        if (!(typeof this._config.attributes === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._config.attributes()];\n                    case 1:\n                        _a = _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = this._config.attributes;\n                        _b.label = 3;\n                    case 3:\n                        defaultAttrs = _a;\n                        attributes = Object.assign({\n                            type: event.type,\n                            target: event.target.localName + \" with id \" + event.target.id\n                        }, defaultAttrs, customAttrs);\n                        logger.debug('events needed to be recorded', events);\n                        logger.debug('attributes needed to be attached', customAttrs);\n                        if (events.indexOf(event.type) < 0) {\n                            logger.debug(\"event \" + event.type + \" is not selected to be recorded\");\n                            return [2 /*return*/];\n                        }\n                        this._tracker({\n                            name: eventName || 'event',\n                            attributes: attributes\n                        }, this._config.provider).catch(function (e) {\n                            logger.debug(\"Failed to record the \" + event.type + \" event', \" + e);\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return EventTracker;\n}());\nexports.default = EventTracker;\n//# sourceMappingURL=EventTracker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar closest_1 = require(\"./closest\");\nexports.closest = closest_1.default;\nvar delegate_1 = require(\"./delegate\");\nexports.delegate = delegate_1.default;\nvar dispatch_1 = require(\"./dispatch\");\nexports.dispatch = dispatch_1.default;\nvar get_attributes_1 = require(\"./get-attributes\");\nexports.getAttributes = get_attributes_1.default;\nvar matches_1 = require(\"./matches\");\nexports.matches = matches_1.default;\nvar parents_1 = require(\"./parents\");\nexports.parents = parents_1.default;\nvar parse_url_1 = require(\"./parse-url\");\nexports.parseUrl = parse_url_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar closest_1 = require(\"./closest\");\nvar matches_1 = require(\"./matches\");\n/**\n * Delegates the handling of events for an element matching a selector to an\n * ancestor of the matching element.\n * @param {!Node} ancestor The ancestor element to add the listener to.\n * @param {string} eventType The event type to listen to.\n * @param {string} selector A CSS selector to match against child elements.\n * @param {!Function} callback A function to run any time the event happens.\n * @param {Object=} opts A configuration options object. The available options:\n *     - useCapture<boolean>: If true, bind to the event capture phase.\n *     - deep<boolean>: If true, delegate into shadow trees.\n * @return {Object} The delegate object. It contains a destroy method.\n */\nfunction delegate(ancestor, eventType, selector, callback, opts) {\n    if (opts === void 0) { opts = {}; }\n    // Defines the event listener.\n    var listener = function (event) {\n        var delegateTarget;\n        // If opts.composed is true and the event originated from inside a Shadow\n        // tree, check the composed path nodes.\n        if (opts['composed'] && typeof event['composedPath'] === 'function') {\n            var composedPath = event.composedPath();\n            for (var i = 0, node = void 0; node = composedPath[i]; i++) {\n                if (node.nodeType === 1 && matches_1.default(node, selector)) {\n                    delegateTarget = node;\n                }\n            }\n        }\n        else {\n            // Otherwise check the parents.\n            delegateTarget = closest_1.default(event.target, selector, true);\n        }\n        if (delegateTarget) {\n            callback.call(delegateTarget, event, delegateTarget);\n        }\n    };\n    ancestor.addEventListener(eventType, listener, opts['useCapture']);\n    return {\n        destroy: function () {\n            ancestor.removeEventListener(eventType, listener, opts['useCapture']);\n        },\n    };\n}\nexports.default = delegate;\n//# sourceMappingURL=delegate.js.map","\"use strict\";\n/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Dispatches an event on the passed element.\n * @param {!Element} element The DOM element to dispatch the event on.\n * @param {string} eventType The type of event to dispatch.\n * @param {Object|string=} eventName A string name of the event constructor\n *     to use. Defaults to 'Event' if nothing is passed or 'CustomEvent' if\n *     a value is set on `initDict.detail`. If eventName is given an object\n *     it is assumed to be initDict and thus reassigned.\n * @param {Object=} initDict The initialization attributes for the\n *     event. A `detail` property can be used here to pass custom data.\n * @return {boolean} The return value of `element.dispatchEvent`, which will\n *     be false if any of the event listeners called `preventDefault`.\n */\nfunction dispatch(element, eventType, evtName, init_dict) {\n    if (evtName === void 0) { evtName = 'Event'; }\n    if (init_dict === void 0) { init_dict = {}; }\n    var event;\n    var isCustom;\n    var initDict = init_dict;\n    var eventName = evtName;\n    // eventName is optional\n    if (typeof eventName === 'object') {\n        initDict = eventName;\n        eventName = 'Event';\n    }\n    initDict['bubbles'] = initDict['bubbles'] || false;\n    initDict['cancelable'] = initDict['cancelable'] || false;\n    initDict['composed'] = initDict['composed'] || false;\n    // If a detail property is passed, this is a custom event.\n    if ('detail' in initDict)\n        isCustom = true;\n    eventName = isCustom ? 'CustomEvent' : eventName;\n    // Tries to create the event using constructors, if that doesn't work,\n    // fallback to `document.createEvent()`.\n    try {\n        event = new window[eventName](eventType, initDict);\n    }\n    catch (err) {\n        event = document.createEvent(eventName);\n        var initMethod = 'init' + (isCustom ? 'Custom' : '') + 'Event';\n        event[initMethod](eventType, initDict['bubbles'], initDict['cancelable'], initDict['detail']);\n    }\n    return element.dispatchEvent(event);\n}\nexports.default = dispatch;\n//# sourceMappingURL=dispatch.js.map","\"use strict\";\n/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Gets all attributes of an element as a plain JavaScriot object.\n * @param {Element} element The element whose attributes to get.\n * @return {!Object} An object whose keys are the attribute keys and whose\n *     values are the attribute values. If no attributes exist, an empty\n *     object is returned.\n */\nfunction getAttributes(element) {\n    var attrs = {};\n    // Validate input.\n    if (!(element && element.nodeType === 1))\n        return attrs;\n    // Return an empty object if there are no attributes.\n    var map = element.attributes;\n    if (map.length === 0)\n        return {};\n    for (var i = 0, attr = void 0; attr = map[i]; i++) {\n        attrs[attr.name] = attr.value;\n    }\n    return attrs;\n}\nexports.default = getAttributes;\n//# sourceMappingURL=get-attributes.js.map","\"use strict\";\n/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@aws-amplify/core\");\nvar HTTP_PORT = '80';\nvar HTTPS_PORT = '443';\nvar DEFAULT_PORT = RegExp(':(' + HTTP_PORT + '|' + HTTPS_PORT + ')$');\nvar a = core_1.JS.browserOrNode().isBrowser ? document.createElement('a') : null;\nvar cache = {};\n/**\n * Parses the given url and returns an object mimicing a `Location` object.\n * @param {string} url The url to parse.\n * @return {!Object} An object with the same properties as a `Location`.\n */\nfunction parseUrl(u) {\n    var url = u;\n    // All falsy values (as well as \".\") should map to the current URL.\n    url = (!url || url === '.') ? location.href : url;\n    if (cache[url])\n        return cache[url];\n    a.href = url;\n    // When parsing file relative paths (e.g. `../index.html`), IE will correctly\n    // resolve the `href` property but will keep the `..` in the `path` property.\n    // It will also not include the `host` or `hostname` properties. Furthermore,\n    // IE will sometimes return no protocol or just a colon, especially for things\n    // like relative protocol URLs (e.g. \"//google.com\").\n    // To workaround all of these issues, we reparse with the full URL from the\n    // `href` property.\n    if (url.charAt(0) === '.' || url.charAt(0) === '/')\n        return parseUrl(a.href);\n    // Don't include default ports.\n    var port = (a.port === HTTP_PORT || a.port === HTTPS_PORT) ? '' : a.port;\n    // PhantomJS sets the port to \"0\" when using the file: protocol.\n    port = port === '0' ? '' : port;\n    // Sometimes IE incorrectly includes a port for default ports\n    // (e.g. `:80` or `:443`) even when no port is specified in the URL.\n    // http://bit.ly/1rQNoMg\n    var host = a.host.replace(DEFAULT_PORT, '');\n    // Not all browser support `origin` so we have to build it.\n    var origin = a['origin'] ? a['origin'] : a.protocol + '//' + host;\n    // Sometimes IE doesn't include the leading slash for pathname.\n    // http://bit.ly/1rQNoMg\n    var pathname = a.pathname.charAt(0) === '/' ? a.pathname : '/' + a.pathname;\n    return cache[url] = {\n        hash: a.hash,\n        host: host,\n        hostname: a.hostname,\n        href: a.href,\n        origin: origin,\n        pathname: pathname,\n        port: port,\n        protocol: a.protocol,\n        search: a.search,\n    };\n}\nexports.default = parseUrl;\n//# sourceMappingURL=parse-url.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// the session tracker for web\nvar core_1 = require(\"@aws-amplify/core\");\nvar logger = new core_1.ConsoleLogger('SessionTracker');\nvar defaultOpts = {\n    enable: false,\n    provider: 'AWSPinpoint'\n};\nvar initialEventSent = false;\nvar SessionTracker = /** @class */ (function () {\n    function SessionTracker(tracker, opts) {\n        this._config = Object.assign({}, defaultOpts, opts);\n        this._tracker = tracker;\n        this._hasEnabled = false;\n        this._trackFunc = this._trackFunc.bind(this);\n        this._trackBeforeUnload = this._trackBeforeUnload.bind(this);\n        this.configure(this._config);\n    }\n    SessionTracker.prototype._envCheck = function () {\n        if (!core_1.JS.browserOrNode().isBrowser) {\n            return false;\n        }\n        if (!document || !document.addEventListener) {\n            logger.debug('not in the supported web environment');\n            return false;\n        }\n        if (typeof document.hidden !== 'undefined') {\n            this._hidden = 'hidden';\n            this._visibilityChange = 'visibilitychange';\n        }\n        else if (typeof document['msHidden'] !== 'undefined') {\n            this._hidden = 'msHidden';\n            this._visibilityChange = 'msvisibilitychange';\n        }\n        else if (typeof document['webkitHidden'] !== 'undefined') {\n            this._hidden = 'webkitHidden';\n            this._visibilityChange = 'webkitvisibilitychange';\n        }\n        else {\n            logger.debug('not in the supported web environment');\n            return false;\n        }\n        return true;\n    };\n    SessionTracker.prototype._trackFunc = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var customAttrs, _a, attributes;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(typeof this._config.attributes === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._config.attributes()];\n                    case 1:\n                        _a = _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = this._config.attributes;\n                        _b.label = 3;\n                    case 3:\n                        customAttrs = _a;\n                        attributes = Object.assign({}, customAttrs);\n                        if (document[this._hidden]) {\n                            this._tracker({\n                                name: '_session.stop',\n                                attributes: attributes\n                            }, this._config.provider).catch(function (e) {\n                                logger.debug('record session stop event failed.', e);\n                            });\n                        }\n                        else {\n                            this._tracker({\n                                name: '_session.start',\n                                attributes: attributes\n                            }, this._config.provider).catch(function (e) {\n                                logger.debug('record session start event failed.', e);\n                            });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionTracker.prototype._trackBeforeUnload = function () {\n        var _this = this;\n        // before unload callback cannot be async => https://github.com/aws-amplify/amplify-js/issues/2088\n        var customAttrs = typeof this._config.attributes === 'function' ?\n            Promise.resolve(this._config.attributes()) : Promise.resolve(this._config.attributes);\n        customAttrs.then(function (custom) {\n            var attributes = Object.assign({}, custom);\n            _this._tracker({\n                name: '_session.stop',\n                attributes: attributes,\n                immediate: true\n            }, _this._config.provider).catch(function (e) {\n                logger.debug('record session stop event failed.', e);\n            });\n        });\n    };\n    // to keep configure a synchronized function\n    SessionTracker.prototype._sendInitialEvent = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var customAttrs, _a, attributes;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (initialEventSent) {\n                            logger.debug('the start session has been sent when the page is loaded');\n                            return [2 /*return*/];\n                        }\n                        else {\n                            initialEventSent = true;\n                        }\n                        if (!(typeof this._config.attributes === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._config.attributes()];\n                    case 1:\n                        _a = _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a = this._config.attributes;\n                        _b.label = 3;\n                    case 3:\n                        customAttrs = _a;\n                        attributes = Object.assign({}, customAttrs);\n                        this._tracker({\n                            name: '_session.start',\n                            attributes: attributes\n                        }, this._config.provider).catch(function (e) {\n                            logger.debug('record session start event failed.', e);\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionTracker.prototype.configure = function (opts) {\n        if (!this._envCheck()) {\n            return this._config;\n        }\n        Object.assign(this._config, opts);\n        if (this._config.enable && !this._hasEnabled) {\n            // send a start session as soon as it's enabled\n            this._sendInitialEvent();\n            // listen on events\n            document.addEventListener(this._visibilityChange, this._trackFunc, false);\n            window.addEventListener(\"beforeunload\", this._trackBeforeUnload, false);\n            this._hasEnabled = true;\n        }\n        else if (!this._config.enable && this._hasEnabled) {\n            document.removeEventListener(this._visibilityChange, this._trackFunc, false);\n            window.removeEventListener(\"beforeunload\", this._trackBeforeUnload, false);\n            this._hasEnabled = false;\n        }\n        return this._config;\n    };\n    return SessionTracker;\n}());\nexports.default = SessionTracker;\n//# sourceMappingURL=SessionTracker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AWSPinpointProvider_1 = require(\"./AWSPinpointProvider\");\nexports.AWSPinpointProvider = AWSPinpointProvider_1.default;\nvar AWSKinesisProvider_1 = require(\"./AWSKinesisProvider\");\nexports.AWSKinesisProvider = AWSKinesisProvider_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@aws-amplify/core\");\nvar Kinesis = require(\"aws-sdk/clients/kinesis\");\nvar logger = new core_1.ConsoleLogger('AWSKineisProvider');\n// events buffer\nvar BUFFER_SIZE = 1000;\nvar FLUSH_SIZE = 100;\nvar FLUSH_INTERVAL = 5 * 1000; // 5s\nvar RESEND_LIMIT = 5;\nvar AWSKinesisProvider = /** @class */ (function () {\n    function AWSKinesisProvider(config) {\n        this._buffer = [];\n        this._config = config ? config : {};\n        this._config.bufferSize = this._config.bufferSize || BUFFER_SIZE;\n        this._config.flushSize = this._config.flushSize || FLUSH_SIZE;\n        this._config.flushInterval = this._config.flushInterval || FLUSH_INTERVAL;\n        this._config.resendLimit = this._config.resendLimit || RESEND_LIMIT;\n        // events batch\n        var that = this;\n        // flush event buffer\n        this._setupTimer();\n    }\n    AWSKinesisProvider.prototype._setupTimer = function () {\n        var _this = this;\n        if (this._timer) {\n            clearInterval(this._timer);\n        }\n        var _a = this._config, flushSize = _a.flushSize, flushInterval = _a.flushInterval;\n        var that = this;\n        this._timer = setInterval(function () {\n            var size = _this._buffer.length < flushSize ? _this._buffer.length : flushSize;\n            var events = [];\n            for (var i = 0; i < size; i += 1) {\n                var params = _this._buffer.shift();\n                events.push(params);\n            }\n            that._sendFromBuffer(events);\n        }, flushInterval);\n    };\n    /**\n     * get the category of the plugin\n     */\n    AWSKinesisProvider.prototype.getCategory = function () {\n        return 'Analytics';\n    };\n    /**\n     * get provider name of the plugin\n     */\n    AWSKinesisProvider.prototype.getProviderName = function () {\n        return 'AWSKinesis';\n    };\n    /**\n     * configure the plugin\n     * @param {Object} config - configuration\n     */\n    AWSKinesisProvider.prototype.configure = function (config) {\n        logger.debug('configure Analytics', config);\n        var conf = config ? config : {};\n        this._config = Object.assign({}, this._config, conf);\n        this._setupTimer();\n        return this._config;\n    };\n    /**\n     * record an event\n     * @param {Object} params - the params of an event\n     */\n    AWSKinesisProvider.prototype.record = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getCredentials()];\n                    case 1:\n                        credentials = _a.sent();\n                        if (!credentials)\n                            return [2 /*return*/, Promise.resolve(false)];\n                        Object.assign(params, { config: this._config, credentials: credentials });\n                        return [2 /*return*/, this._putToBuffer(params)];\n                }\n            });\n        });\n    };\n    AWSKinesisProvider.prototype.updateEndpoint = function (params) {\n        logger.debug('updateEndpoint is not implemented in Kinesis provider');\n        return Promise.resolve(true);\n    };\n    /**\n     * @private\n     * @param params - params for the event recording\n     * Put events into buffer\n     */\n    AWSKinesisProvider.prototype._putToBuffer = function (params) {\n        if (this._buffer.length < BUFFER_SIZE) {\n            this._buffer.push(params);\n            return Promise.resolve(true);\n        }\n        else {\n            logger.debug('exceed analytics events buffer size');\n            return Promise.reject(false);\n        }\n    };\n    AWSKinesisProvider.prototype._sendFromBuffer = function (events) {\n        var _this = this;\n        // collapse events by credentials\n        // events = [ {params} ]\n        var eventsGroups = [];\n        var preCred = null;\n        var group = [];\n        for (var i = 0; i < events.length; i += 1) {\n            var cred = events[i].credentials;\n            if (i === 0) {\n                group.push(events[i]);\n                preCred = cred;\n            }\n            else {\n                if (cred.sessionToken === preCred.sessionToken && cred.identityId === preCred.identityId) {\n                    logger.debug('no change for cred, put event in the same group');\n                    group.push(events[i]);\n                }\n                else {\n                    eventsGroups.push(group);\n                    group = [];\n                    group.push(events[i]);\n                    preCred = cred;\n                }\n            }\n        }\n        eventsGroups.push(group);\n        eventsGroups.map(function (evts) {\n            _this._sendEvents(evts);\n        });\n    };\n    AWSKinesisProvider.prototype._sendEvents = function (group) {\n        var _this = this;\n        if (group.length === 0) {\n            // logger.debug('events array is empty, directly return');\n            return;\n        }\n        var _a = group[0], config = _a.config, credentials = _a.credentials;\n        var initClients = this._init(config, credentials);\n        if (!initClients)\n            return false;\n        var records = {};\n        group.map(function (params) {\n            // spit by streamName\n            var evt = params.event;\n            var streamName = evt.streamName;\n            if (records[streamName] === undefined) {\n                records[streamName] = [];\n            }\n            var Data = JSON.stringify(evt.data);\n            var PartitionKey = evt.partitionKey || ('partition-' + credentials.identityId);\n            var record = { Data: Data, PartitionKey: PartitionKey };\n            records[streamName].push(record);\n        });\n        Object.keys(records).map(function (streamName) {\n            logger.debug('putting records to kinesis with records', records[streamName]);\n            _this._kinesis.putRecords({\n                Records: records[streamName],\n                StreamName: streamName\n            }, function (err, data) {\n                if (err)\n                    logger.debug('Failed to upload records to Kinesis', err);\n                else\n                    logger.debug('Upload records to stream', streamName);\n            });\n        });\n    };\n    AWSKinesisProvider.prototype._init = function (config, credentials) {\n        logger.debug('init clients');\n        if (this._kinesis\n            && this._config.credentials\n            && this._config.credentials.sessionToken === credentials.sessionToken\n            && this._config.credentials.identityId === credentials.identityId) {\n            logger.debug('no change for analytics config, directly return from init');\n            return true;\n        }\n        this._config.credentials = credentials;\n        var region = config.region;\n        logger.debug('initialize kinesis with credentials', credentials);\n        this._kinesis = new Kinesis({\n            apiVersion: '2013-12-02',\n            region: region,\n            credentials: credentials\n        });\n        return true;\n    };\n    /**\n     * @private\n     * check if current credentials exists\n     */\n    AWSKinesisProvider.prototype._getCredentials = function () {\n        var that = this;\n        return core_1.Credentials.get()\n            .then(function (credentials) {\n            if (!credentials)\n                return null;\n            logger.debug('set credentials for analytics', that._config.credentials);\n            return core_1.Credentials.shear(credentials);\n        })\n            .catch(function (err) {\n            logger.debug('ensure credentials error', err);\n            return null;\n        });\n    };\n    return AWSKinesisProvider;\n}());\nexports.default = AWSKinesisProvider;\n//# sourceMappingURL=AWSKinesisProvider.js.map","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['kinesis'] = {};\nAWS.Kinesis = Service.defineService('kinesis', ['2013-12-02']);\nObject.defineProperty(apiLoader.services['kinesis'], '2013-12-02', {\n  get: function get() {\n    var model = require('../apis/kinesis-2013-12-02.min.json');\n    model.paginators = require('../apis/kinesis-2013-12-02.paginators.json').pagination;\n    model.waiters = require('../apis/kinesis-2013-12-02.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Kinesis;\n","\"use strict\";\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar core_1 = require(\"@aws-amplify/core\");\nvar amazon_cognito_identity_js_1 = require(\"amazon-cognito-identity-js\");\nvar url_1 = require(\"url\");\nvar OAuth_1 = require(\"./OAuth/OAuth\");\nvar urlListener_1 = require(\"./urlListener\");\nvar logger = new core_1.ConsoleLogger('AuthClass');\nvar USER_ADMIN_SCOPE = 'aws.cognito.signin.user.admin';\nvar AMPLIFY_SYMBOL = ((typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') ?\n    Symbol.for('amplify_default') : '@@amplify_default');\nvar dispatchAuthEvent = function (event, data, message) {\n    core_1.Hub.dispatch('auth', { event: event, data: data, message: message }, 'Auth', AMPLIFY_SYMBOL);\n};\nvar CognitoHostedUIIdentityProvider;\n(function (CognitoHostedUIIdentityProvider) {\n    CognitoHostedUIIdentityProvider[\"Cognito\"] = \"COGNITO\";\n    CognitoHostedUIIdentityProvider[\"Google\"] = \"Google\";\n    CognitoHostedUIIdentityProvider[\"Facebook\"] = \"Facebook\";\n    CognitoHostedUIIdentityProvider[\"Amazon\"] = \"LoginWithAmazon\";\n})(CognitoHostedUIIdentityProvider = exports.CognitoHostedUIIdentityProvider || (exports.CognitoHostedUIIdentityProvider = {}));\n/**\n* Provide authentication steps\n*/\nvar AuthClass = /** @class */ (function () {\n    /**\n     * Initialize Auth with AWS configurations\n     * @param {Object} config - Configuration of the Auth\n     */\n    function AuthClass(config) {\n        var _this = this;\n        this.userPool = null;\n        this.user = null;\n        this.configure(config);\n        this.currentUserCredentials = this.currentUserCredentials.bind(this);\n        if (core_1.AWS.config) {\n            core_1.AWS.config.update({ customUserAgent: core_1.Constants.userAgent });\n        }\n        else {\n            logger.warn('No AWS.config');\n        }\n        core_1.Hub.listen('auth', function (_a) {\n            var payload = _a.payload;\n            var event = payload.event;\n            switch (event) {\n                case 'signIn':\n                    _this._storage.setItem('amplify-signin-with-hostedUI', 'false');\n                    break;\n                case 'signOut':\n                    _this._storage.removeItem('amplify-signin-with-hostedUI');\n                    break;\n                case 'cognitoHostedUI':\n                    _this._storage.setItem('amplify-signin-with-hostedUI', 'true');\n                    break;\n            }\n        });\n    }\n    AuthClass.prototype.getModuleName = function () {\n        return 'Auth';\n    };\n    AuthClass.prototype.configure = function (config) {\n        var _this = this;\n        if (!config)\n            return this._config || {};\n        logger.debug('configure Auth');\n        var conf = Object.assign({}, this._config, core_1.Parser.parseMobilehubConfig(config).Auth, config);\n        this._config = conf;\n        var _a = this._config, userPoolId = _a.userPoolId, userPoolWebClientId = _a.userPoolWebClientId, cookieStorage = _a.cookieStorage, oauth = _a.oauth, region = _a.region, identityPoolId = _a.identityPoolId, mandatorySignIn = _a.mandatorySignIn, refreshHandlers = _a.refreshHandlers, identityPoolRegion = _a.identityPoolRegion;\n        if (!this._config.storage) {\n            // backward compatbility\n            if (cookieStorage)\n                this._storage = new amazon_cognito_identity_js_1.CookieStorage(cookieStorage);\n            else {\n                this._storage = new core_1.StorageHelper().getStorage();\n            }\n        }\n        else {\n            if (!this._isValidAuthStorage(this._config.storage)) {\n                logger.error('The storage in the Auth config is not valid!');\n                throw new Error('Empty storage object');\n            }\n            this._storage = this._config.storage;\n        }\n        this._storageSync = Promise.resolve();\n        if (typeof this._storage['sync'] === 'function') {\n            this._storageSync = this._storage['sync']();\n        }\n        if (userPoolId) {\n            var userPoolData = {\n                UserPoolId: userPoolId,\n                ClientId: userPoolWebClientId,\n            };\n            userPoolData.Storage = this._storage;\n            this.userPool = new amazon_cognito_identity_js_1.CognitoUserPool(userPoolData);\n        }\n        core_1.Credentials.configure({\n            mandatorySignIn: mandatorySignIn,\n            region: identityPoolRegion || region,\n            userPoolId: userPoolId,\n            identityPoolId: identityPoolId,\n            refreshHandlers: refreshHandlers,\n            storage: this._storage\n        });\n        // initiailize cognitoauth client if hosted ui options provided\n        // to keep backward compatibility:\n        var cognitoHostedUIConfig = oauth ? (types_1.isCognitoHostedOpts(this._config.oauth)\n            ? oauth : oauth.awsCognito)\n            : undefined;\n        if (cognitoHostedUIConfig) {\n            var cognitoAuthParams = Object.assign({\n                cognitoClientId: userPoolWebClientId,\n                UserPoolId: userPoolId,\n                domain: cognitoHostedUIConfig['domain'],\n                scopes: cognitoHostedUIConfig['scope'],\n                redirectSignIn: cognitoHostedUIConfig['redirectSignIn'],\n                redirectSignOut: cognitoHostedUIConfig['redirectSignOut'],\n                responseType: cognitoHostedUIConfig['responseType'],\n                Storage: this._storage,\n                urlOpener: cognitoHostedUIConfig['urlOpener']\n            }, cognitoHostedUIConfig['options']);\n            this._oAuthHandler = new OAuth_1.default({\n                scopes: cognitoAuthParams.scopes,\n                config: cognitoAuthParams,\n                cognitoClientId: cognitoAuthParams.cognitoClientId\n            });\n            // **NOTE** - Remove this in a future major release as it is a breaking change\n            urlListener_1.default(function (_a) {\n                var url = _a.url;\n                _this._handleAuthResponse(url);\n            });\n        }\n        dispatchAuthEvent('configured', null, \"The Auth category has been configured successfully\");\n        return this._config;\n    };\n    /**\n     * Sign up with username, password and other attrbutes like phone, email\n     * @param {String | object} params - The user attirbutes used for signin\n     * @param {String[]} restOfAttrs - for the backward compatability\n     * @return - A promise resolves callback data if success\n     */\n    AuthClass.prototype.signUp = function (params) {\n        var _this = this;\n        var restOfAttrs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            restOfAttrs[_i - 1] = arguments[_i];\n        }\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        var username = null;\n        var password = null;\n        var attributes = [];\n        var validationData = null;\n        if (params && typeof params === 'string') {\n            username = params;\n            password = restOfAttrs ? restOfAttrs[0] : null;\n            var email = restOfAttrs ? restOfAttrs[1] : null;\n            var phone_number = restOfAttrs ? restOfAttrs[2] : null;\n            if (email)\n                attributes.push({ Name: 'email', Value: email });\n            if (phone_number)\n                attributes.push({ Name: 'phone_number', Value: phone_number });\n        }\n        else if (params && typeof params === 'object') {\n            username = params['username'];\n            password = params['password'];\n            var attrs_1 = params['attributes'];\n            if (attrs_1) {\n                Object.keys(attrs_1).map(function (key) {\n                    var ele = { Name: key, Value: attrs_1[key] };\n                    attributes.push(ele);\n                });\n            }\n            validationData = params['validationData'] || null;\n        }\n        else {\n            return Promise.reject('The first parameter should either be non-null string or object');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        if (!password) {\n            return Promise.reject('Password cannot be empty');\n        }\n        logger.debug('signUp attrs:', attributes);\n        logger.debug('signUp validation data:', validationData);\n        return new Promise(function (resolve, reject) {\n            _this.userPool.signUp(username, password, attributes, validationData, function (err, data) {\n                if (err) {\n                    dispatchAuthEvent('signUp_failure', err, username + \" failed to signup\");\n                    reject(err);\n                }\n                else {\n                    dispatchAuthEvent('signUp', data, username + \" has signed up successfully\");\n                    resolve(data);\n                }\n            });\n        });\n    };\n    /**\n     * Send the verfication code to confirm sign up\n     * @param {String} username - The username to be confirmed\n     * @param {String} code - The verification code\n     * @param {ConfirmSignUpOptions} options - other options for confirm signup\n     * @return - A promise resolves callback data if success\n     */\n    AuthClass.prototype.confirmSignUp = function (username, code, options) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        if (!code) {\n            return Promise.reject('Code cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        var forceAliasCreation = options && typeof options.forceAliasCreation === 'boolean'\n            ? options.forceAliasCreation : true;\n        return new Promise(function (resolve, reject) {\n            user.confirmRegistration(code, forceAliasCreation, function (err, data) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(data);\n                }\n            });\n        });\n    };\n    /**\n     * Resend the verification code\n     * @param {String} username - The username to be confirmed\n     * @return - A promise resolves data if success\n     */\n    AuthClass.prototype.resendSignUp = function (username) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.resendConfirmationCode(function (err, data) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(data);\n                }\n            });\n        });\n    };\n    /**\n     * Sign in\n     * @param {String | SignInOpts} usernameOrSignInOpts - The username to be signed in or the sign in options\n     * @param {String} password - The password of the username\n     * @return - A promise resolves the CognitoUser\n     */\n    AuthClass.prototype.signIn = function (usernameOrSignInOpts, pw) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        var username = null;\n        var password = null;\n        var validationData = {};\n        // for backward compatibility\n        if (typeof usernameOrSignInOpts === 'string') {\n            username = usernameOrSignInOpts;\n            password = pw;\n        }\n        else if (types_1.isUsernamePasswordOpts(usernameOrSignInOpts)) {\n            if (typeof pw !== 'undefined') {\n                logger.warn('The password should be defined under the first parameter object!');\n            }\n            username = usernameOrSignInOpts.username;\n            password = usernameOrSignInOpts.password;\n            validationData = usernameOrSignInOpts.validationData;\n        }\n        else {\n            return Promise.reject(new Error('The username should either be a string or one of the sign in types'));\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        var authDetails = new amazon_cognito_identity_js_1.AuthenticationDetails({\n            Username: username,\n            Password: password,\n            ValidationData: validationData\n        });\n        if (password) {\n            return this.signInWithPassword(authDetails);\n        }\n        else {\n            return this.signInWithoutPassword(authDetails);\n        }\n    };\n    /**\n     * Return an object with the authentication callbacks\n     * @param {CognitoUser} user - the cognito user object\n     * @param {} resolve - function called when resolving the current step\n     * @param {} reject - function called when rejecting the current step\n     * @return - an object with the callback methods for user authentication\n     */\n    AuthClass.prototype.authCallbacks = function (user, resolve, reject) {\n        var _this = this;\n        var that = this;\n        return {\n            onSuccess: function (session) { return __awaiter(_this, void 0, void 0, function () {\n                var cred, e_1, currentUser, e_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            logger.debug(session);\n                            delete (user['challengeName']);\n                            delete (user['challengeParam']);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 4, 5, 9]);\n                            return [4 /*yield*/, core_1.Credentials.clear()];\n                        case 2:\n                            _a.sent();\n                            return [4 /*yield*/, core_1.Credentials.set(session, 'session')];\n                        case 3:\n                            cred = _a.sent();\n                            logger.debug('succeed to get cognito credentials', cred);\n                            return [3 /*break*/, 9];\n                        case 4:\n                            e_1 = _a.sent();\n                            logger.debug('cannot get cognito credentials', e_1);\n                            return [3 /*break*/, 9];\n                        case 5:\n                            _a.trys.push([5, 7, , 8]);\n                            return [4 /*yield*/, this.currentUserPoolUser()];\n                        case 6:\n                            currentUser = _a.sent();\n                            that.user = currentUser;\n                            dispatchAuthEvent('signIn', currentUser, \"A user \" + user.getUsername() + \" has been signed in\");\n                            resolve(currentUser);\n                            return [3 /*break*/, 8];\n                        case 7:\n                            e_2 = _a.sent();\n                            logger.error('Failed to get the signed in user', e_2);\n                            reject(e_2);\n                            return [3 /*break*/, 8];\n                        case 8: return [7 /*endfinally*/];\n                        case 9: return [2 /*return*/];\n                    }\n                });\n            }); },\n            onFailure: function (err) {\n                logger.debug('signIn failure', err);\n                dispatchAuthEvent('signIn_failure', err, user.getUsername() + \" failed to signin\");\n                reject(err);\n            },\n            customChallenge: function (challengeParam) {\n                logger.debug('signIn custom challenge answer required');\n                user['challengeName'] = 'CUSTOM_CHALLENGE';\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n            mfaRequired: function (challengeName, challengeParam) {\n                logger.debug('signIn MFA required');\n                user['challengeName'] = challengeName;\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n            mfaSetup: function (challengeName, challengeParam) {\n                logger.debug('signIn mfa setup', challengeName);\n                user['challengeName'] = challengeName;\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n            newPasswordRequired: function (userAttributes, requiredAttributes) {\n                logger.debug('signIn new password');\n                user['challengeName'] = 'NEW_PASSWORD_REQUIRED';\n                user['challengeParam'] = {\n                    userAttributes: userAttributes,\n                    requiredAttributes: requiredAttributes\n                };\n                resolve(user);\n            },\n            totpRequired: function (challengeName, challengeParam) {\n                logger.debug('signIn totpRequired');\n                user['challengeName'] = challengeName;\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            },\n            selectMFAType: function (challengeName, challengeParam) {\n                logger.debug('signIn selectMFAType', challengeName);\n                user['challengeName'] = challengeName;\n                user['challengeParam'] = challengeParam;\n                resolve(user);\n            }\n        };\n    };\n    /**\n     * Sign in with a password\n     * @private\n     * @param {AuthenticationDetails} authDetails - the user sign in data\n     * @return - A promise resolves the CognitoUser object if success or mfa required\n     */\n    AuthClass.prototype.signInWithPassword = function (authDetails) {\n        var _this = this;\n        var user = this.createCognitoUser(authDetails.getUsername());\n        return new Promise(function (resolve, reject) {\n            user.authenticateUser(authDetails, _this.authCallbacks(user, resolve, reject));\n        });\n    };\n    /**\n     * Sign in without a password\n     * @private\n     * @param {AuthenticationDetails} authDetails - the user sign in data\n     * @return - A promise resolves the CognitoUser object if success or mfa required\n     */\n    AuthClass.prototype.signInWithoutPassword = function (authDetails) {\n        var _this = this;\n        var user = this.createCognitoUser(authDetails.getUsername());\n        user.setAuthenticationFlowType('CUSTOM_AUTH');\n        return new Promise(function (resolve, reject) {\n            user.initiateAuth(authDetails, _this.authCallbacks(user, resolve, reject));\n        });\n    };\n    /**\n     * get user current preferred mfa option\n     * this method doesn't work with totp, we need to deprecate it.\n     * @deprecated\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves the current preferred mfa option if success\n     */\n    AuthClass.prototype.getMFAOptions = function (user) {\n        return new Promise(function (res, rej) {\n            user.getMFAOptions(function (err, mfaOptions) {\n                if (err) {\n                    logger.debug('get MFA Options failed', err);\n                    rej(err);\n                    return;\n                }\n                logger.debug('get MFA options success', mfaOptions);\n                res(mfaOptions);\n                return;\n            });\n        });\n    };\n    /**\n     * get preferred mfa method\n     * @param {CognitoUser} user - the current cognito user\n     * @param {GetPreferredMFAOpts} params - options for getting the current user preferred MFA\n     */\n    AuthClass.prototype.getPreferredMFA = function (user, params) {\n        var that = this;\n        return new Promise(function (res, rej) {\n            var bypassCache = params ? params.bypassCache : false;\n            user.getUserData(function (err, data) {\n                if (err) {\n                    logger.debug('getting preferred mfa failed', err);\n                    rej(err);\n                    return;\n                }\n                var mfaType = that._getMfaTypeFromUserData(data);\n                if (!mfaType) {\n                    rej('invalid MFA Type');\n                    return;\n                }\n                else {\n                    res(mfaType);\n                    return;\n                }\n            }, { bypassCache: bypassCache });\n        });\n    };\n    AuthClass.prototype._getMfaTypeFromUserData = function (data) {\n        var ret = null;\n        var preferredMFA = data.PreferredMfaSetting;\n        // if the user has used Auth.setPreferredMFA() to setup the mfa type\n        // then the \"PreferredMfaSetting\" would exist in the response\n        if (preferredMFA) {\n            ret = preferredMFA;\n        }\n        else {\n            // if mfaList exists but empty, then its noMFA\n            var mfaList = data.UserMFASettingList;\n            if (!mfaList) {\n                // if SMS was enabled by using Auth.enableSMS(),\n                // the response would contain MFAOptions\n                // as for now Cognito only supports for SMS, so we will say it is 'SMS_MFA'\n                // if it does not exist, then it should be NOMFA\n                var MFAOptions = data.MFAOptions;\n                if (MFAOptions) {\n                    ret = 'SMS_MFA';\n                }\n                else {\n                    ret = 'NOMFA';\n                }\n            }\n            else if (mfaList.length === 0) {\n                ret = 'NOMFA';\n            }\n            else {\n                logger.debug('invalid case for getPreferredMFA', data);\n            }\n        }\n        return ret;\n    };\n    AuthClass.prototype._getUserData = function (user, params) {\n        return new Promise(function (res, rej) {\n            user.getUserData(function (err, data) {\n                if (err) {\n                    logger.debug('getting user data failed', err);\n                    rej(err);\n                    return;\n                }\n                else {\n                    res(data);\n                    return;\n                }\n            }, params);\n        });\n    };\n    /**\n     * set preferred MFA method\n     * @param {CognitoUser} user - the current Cognito user\n     * @param {string} mfaMethod - preferred mfa method\n     * @return - A promise resolve if success\n     */\n    AuthClass.prototype.setPreferredMFA = function (user, mfaMethod) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userData, smsMfaSettings, totpMfaSettings, _a, mfaList, currentMFAType, that;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._getUserData(user, { bypassCache: true })];\n                    case 1:\n                        userData = _b.sent();\n                        smsMfaSettings = null;\n                        totpMfaSettings = null;\n                        _a = mfaMethod;\n                        switch (_a) {\n                            case 'TOTP' || 'SOFTWARE_TOKEN_MFA': return [3 /*break*/, 2];\n                            case 'SMS' || 'SMS_MFA': return [3 /*break*/, 3];\n                            case 'NOMFA': return [3 /*break*/, 4];\n                        }\n                        return [3 /*break*/, 6];\n                    case 2:\n                        totpMfaSettings = {\n                            PreferredMfa: true,\n                            Enabled: true\n                        };\n                        return [3 /*break*/, 7];\n                    case 3:\n                        smsMfaSettings = {\n                            PreferredMfa: true,\n                            Enabled: true\n                        };\n                        return [3 /*break*/, 7];\n                    case 4:\n                        mfaList = userData['UserMFASettingList'];\n                        return [4 /*yield*/, this._getMfaTypeFromUserData(userData)];\n                    case 5:\n                        currentMFAType = _b.sent();\n                        if (currentMFAType === 'NOMFA') {\n                            return [2 /*return*/, Promise.resolve('No change for mfa type')];\n                        }\n                        else if (currentMFAType === 'SMS_MFA') {\n                            smsMfaSettings = {\n                                PreferredMfa: false,\n                                Enabled: false\n                            };\n                        }\n                        else if (currentMFAType === 'SOFTWARE_TOKEN_MFA') {\n                            totpMfaSettings = {\n                                PreferredMfa: false,\n                                Enabled: false\n                            };\n                        }\n                        else {\n                            return [2 /*return*/, Promise.reject('invalid MFA type')];\n                        }\n                        // if there is a UserMFASettingList in the response\n                        // we need to disable every mfa type in that list\n                        if (mfaList && mfaList.length !== 0) {\n                            // to disable SMS or TOTP if exists in that list\n                            mfaList.forEach(function (mfaType) {\n                                if (mfaType === 'SMS_MFA') {\n                                    smsMfaSettings = {\n                                        PreferredMfa: false,\n                                        Enabled: false\n                                    };\n                                }\n                                else if (mfaType === 'SOFTWARE_TOKEN_MFA') {\n                                    totpMfaSettings = {\n                                        PreferredMfa: false,\n                                        Enabled: false\n                                    };\n                                }\n                            });\n                        }\n                        return [3 /*break*/, 7];\n                    case 6:\n                        logger.debug('no validmfa method provided');\n                        return [2 /*return*/, Promise.reject('no validmfa method provided')];\n                    case 7:\n                        that = this;\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                user.setUserMfaPreference(smsMfaSettings, totpMfaSettings, function (err, result) {\n                                    if (err) {\n                                        logger.debug('Set user mfa preference error', err);\n                                        return rej(err);\n                                    }\n                                    logger.debug('Set user mfa success', result);\n                                    logger.debug('Caching the latest user data into local');\n                                    // cache the latest result into user data\n                                    user.getUserData(function (err, data) {\n                                        if (err) {\n                                            logger.debug('getting user data failed', err);\n                                            return rej(err);\n                                        }\n                                        else {\n                                            return res(result);\n                                        }\n                                    }, { bypassCache: true });\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * diable SMS\n     * @deprecated\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.disableSMS = function (user) {\n        return new Promise(function (res, rej) {\n            user.disableMFA(function (err, data) {\n                if (err) {\n                    logger.debug('disable mfa failed', err);\n                    rej(err);\n                    return;\n                }\n                logger.debug('disable mfa succeed', data);\n                res(data);\n                return;\n            });\n        });\n    };\n    /**\n     * enable SMS\n     * @deprecated\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.enableSMS = function (user) {\n        return new Promise(function (res, rej) {\n            user.enableMFA(function (err, data) {\n                if (err) {\n                    logger.debug('enable mfa failed', err);\n                    rej(err);\n                    return;\n                }\n                logger.debug('enable mfa succeed', data);\n                res(data);\n                return;\n            });\n        });\n    };\n    /**\n     * Setup TOTP\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves with the secret code if success\n     */\n    AuthClass.prototype.setupTOTP = function (user) {\n        return new Promise(function (res, rej) {\n            user.associateSoftwareToken({\n                onFailure: function (err) {\n                    logger.debug('associateSoftwareToken failed', err);\n                    rej(err);\n                    return;\n                },\n                associateSecretCode: function (secretCode) {\n                    logger.debug('associateSoftwareToken sucess', secretCode);\n                    res(secretCode);\n                    return;\n                }\n            });\n        });\n    };\n    /**\n     * verify TOTP setup\n     * @param {CognitoUser} user - the current user\n     * @param {string} challengeAnswer - challenge answer\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.verifyTotpToken = function (user, challengeAnswer) {\n        logger.debug('verfication totp token', user, challengeAnswer);\n        return new Promise(function (res, rej) {\n            user.verifySoftwareToken(challengeAnswer, 'My TOTP device', {\n                onFailure: function (err) {\n                    logger.debug('verifyTotpToken failed', err);\n                    rej(err);\n                    return;\n                },\n                onSuccess: function (data) {\n                    logger.debug('verifyTotpToken success', data);\n                    res(data);\n                    return;\n                }\n            });\n        });\n    };\n    /**\n     * Send MFA code to confirm sign in\n     * @param {Object} user - The CognitoUser object\n     * @param {String} code - The confirmation code\n     */\n    AuthClass.prototype.confirmSignIn = function (user, code, mfaType) {\n        var _this = this;\n        if (!code) {\n            return Promise.reject('Code cannot be empty');\n        }\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.sendMFACode(code, {\n                onSuccess: function (session) { return __awaiter(_this, void 0, void 0, function () {\n                    var cred, e_3;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                logger.debug(session);\n                                _a.label = 1;\n                            case 1:\n                                _a.trys.push([1, 4, 5, 6]);\n                                return [4 /*yield*/, core_1.Credentials.clear()];\n                            case 2:\n                                _a.sent();\n                                return [4 /*yield*/, core_1.Credentials.set(session, 'session')];\n                            case 3:\n                                cred = _a.sent();\n                                logger.debug('succeed to get cognito credentials', cred);\n                                return [3 /*break*/, 6];\n                            case 4:\n                                e_3 = _a.sent();\n                                logger.debug('cannot get cognito credentials', e_3);\n                                return [3 /*break*/, 6];\n                            case 5:\n                                that.user = user;\n                                dispatchAuthEvent('signIn', user, user + \" has signed in\");\n                                resolve(user);\n                                return [7 /*endfinally*/];\n                            case 6: return [2 /*return*/];\n                        }\n                    });\n                }); },\n                onFailure: function (err) {\n                    logger.debug('confirm signIn failure', err);\n                    reject(err);\n                }\n            }, mfaType);\n        });\n    };\n    AuthClass.prototype.completeNewPassword = function (user, password, requiredAttributes) {\n        var _this = this;\n        if (!password) {\n            return Promise.reject('Password cannot be empty');\n        }\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.completeNewPasswordChallenge(password, requiredAttributes, {\n                onSuccess: function (session) { return __awaiter(_this, void 0, void 0, function () {\n                    var cred, e_4;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                logger.debug(session);\n                                _a.label = 1;\n                            case 1:\n                                _a.trys.push([1, 4, 5, 6]);\n                                return [4 /*yield*/, core_1.Credentials.clear()];\n                            case 2:\n                                _a.sent();\n                                return [4 /*yield*/, core_1.Credentials.set(session, 'session')];\n                            case 3:\n                                cred = _a.sent();\n                                logger.debug('succeed to get cognito credentials', cred);\n                                return [3 /*break*/, 6];\n                            case 4:\n                                e_4 = _a.sent();\n                                logger.debug('cannot get cognito credentials', e_4);\n                                return [3 /*break*/, 6];\n                            case 5:\n                                that.user = user;\n                                dispatchAuthEvent('signIn', user, user + \" has signed in\");\n                                resolve(user);\n                                return [7 /*endfinally*/];\n                            case 6: return [2 /*return*/];\n                        }\n                    });\n                }); },\n                onFailure: function (err) {\n                    logger.debug('completeNewPassword failure', err);\n                    dispatchAuthEvent('completeNewPassword_failure', err, _this.user + \" failed to complete the new password flow\");\n                    reject(err);\n                },\n                mfaRequired: function (challengeName, challengeParam) {\n                    logger.debug('signIn MFA required');\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                },\n                mfaSetup: function (challengeName, challengeParam) {\n                    logger.debug('signIn mfa setup', challengeName);\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                }\n            });\n        });\n    };\n    /**\n     * Send the answer to a custom challenge\n     * @param {CognitoUser} user - The CognitoUser object\n     * @param {String} challengeResponses - The confirmation code\n     */\n    AuthClass.prototype.sendCustomChallengeAnswer = function (user, challengeResponses) {\n        var _this = this;\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!challengeResponses) {\n            return Promise.reject('Challenge response cannot be empty');\n        }\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.sendCustomChallengeAnswer(challengeResponses, _this.authCallbacks(user, resolve, reject));\n        });\n    };\n    /**\n     * Update an authenticated users' attributes\n     * @param {CognitoUser} - The currently logged in user object\n     * @return {Promise}\n     **/\n    AuthClass.prototype.updateUserAttributes = function (user, attributes) {\n        var attributeList = [];\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            that.userSession(user).then(function (session) {\n                for (var key in attributes) {\n                    if (key !== 'sub' &&\n                        key.indexOf('_verified') < 0) {\n                        var attr = {\n                            'Name': key,\n                            'Value': attributes[key]\n                        };\n                        attributeList.push(attr);\n                    }\n                }\n                user.updateAttributes(attributeList, function (err, result) {\n                    if (err) {\n                        return reject(err);\n                    }\n                    else {\n                        return resolve(result);\n                    }\n                });\n            });\n        });\n    };\n    /**\n     * Return user attributes\n     * @param {Object} user - The CognitoUser object\n     * @return - A promise resolves to user attributes if success\n     */\n    AuthClass.prototype.userAttributes = function (user) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.userSession(user).then(function (session) {\n                user.getUserAttributes(function (err, attributes) {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve(attributes);\n                    }\n                });\n            });\n        });\n    };\n    AuthClass.prototype.verifiedContact = function (user) {\n        var that = this;\n        return this.userAttributes(user)\n            .then(function (attributes) {\n            var attrs = that.attributesToObject(attributes);\n            var unverified = {};\n            var verified = {};\n            if (attrs['email']) {\n                if (attrs['email_verified']) {\n                    verified['email'] = attrs['email'];\n                }\n                else {\n                    unverified['email'] = attrs['email'];\n                }\n            }\n            if (attrs['phone_number']) {\n                if (attrs['phone_number_verified']) {\n                    verified['phone_number'] = attrs['phone_number'];\n                }\n                else {\n                    unverified['phone_number'] = attrs['phone_number'];\n                }\n            }\n            return {\n                verified: verified,\n                unverified: unverified\n            };\n        });\n    };\n    /**\n     * Get current authenticated user\n     * @return - A promise resolves to current authenticated CognitoUser if success\n     */\n    AuthClass.prototype.currentUserPoolUser = function (params) {\n        var _this = this;\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        var that = this;\n        return new Promise(function (res, rej) {\n            _this._storageSync.then(function () {\n                var user = that.userPool.getCurrentUser();\n                if (!user) {\n                    logger.debug('Failed to get user from user pool');\n                    rej('No current user');\n                    return;\n                }\n                // refresh the session if the session expired.\n                user.getSession(function (err, session) {\n                    if (err) {\n                        logger.debug('Failed to get the user session', err);\n                        rej(err);\n                        return;\n                    }\n                    // get user data from Cognito\n                    var bypassCache = params ? params.bypassCache : false;\n                    // validate the token's scope fisrt before calling this function\n                    var _a = session.getAccessToken().decodePayload().scope, scope = _a === void 0 ? '' : _a;\n                    if (scope.split(' ').includes(USER_ADMIN_SCOPE)) {\n                        user.getUserData(function (err, data) {\n                            if (err) {\n                                logger.debug('getting user data failed', err);\n                                // Make sure the user is still valid\n                                if (err.message === 'User is disabled' || err.message === 'User does not exist.') {\n                                    rej(err);\n                                }\n                                else {\n                                    // the error may also be thrown when lack of permissions to get user info etc\n                                    // in that case we just bypass the error\n                                    res(user);\n                                }\n                                return;\n                            }\n                            var preferredMFA = data.PreferredMfaSetting || 'NOMFA';\n                            var attributeList = [];\n                            for (var i = 0; i < data.UserAttributes.length; i++) {\n                                var attribute = {\n                                    Name: data.UserAttributes[i].Name,\n                                    Value: data.UserAttributes[i].Value,\n                                };\n                                var userAttribute = new amazon_cognito_identity_js_1.CognitoUserAttribute(attribute);\n                                attributeList.push(userAttribute);\n                            }\n                            var attributes = that.attributesToObject(attributeList);\n                            Object.assign(user, { attributes: attributes, preferredMFA: preferredMFA });\n                            return res(user);\n                        }, { bypassCache: bypassCache });\n                    }\n                    else {\n                        logger.debug(\"Unable to get the user data because the \" + USER_ADMIN_SCOPE + \" \" +\n                            \"is not in the scopes of the access token\");\n                        return res(user);\n                    }\n                });\n            }).catch(function (e) {\n                logger.debug('Failed to sync cache info into memory', e);\n                return rej(e);\n            });\n        });\n    };\n    /**\n     * Get current authenticated user\n     * @param {CurrentUserOpts} - options for getting the current user\n     * @return - A promise resolves to current authenticated CognitoUser if success\n     */\n    AuthClass.prototype.currentAuthenticatedUser = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var federatedUser, e_5, user, e_6;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        logger.debug('getting current authenticted user');\n                        federatedUser = null;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_5 = _a.sent();\n                        logger.debug('Failed to sync cache info into memory', e_5);\n                        throw e_5;\n                    case 4:\n                        try {\n                            federatedUser = JSON.parse(this._storage.getItem('aws-amplify-federatedInfo')).user;\n                        }\n                        catch (e) {\n                            logger.debug('cannot load federated user from auth storage');\n                        }\n                        if (!federatedUser) return [3 /*break*/, 5];\n                        this.user = federatedUser;\n                        logger.debug('get current authenticated federated user', this.user);\n                        return [2 /*return*/, this.user];\n                    case 5:\n                        logger.debug('get current authenticated userpool user');\n                        user = null;\n                        _a.label = 6;\n                    case 6:\n                        _a.trys.push([6, 8, , 9]);\n                        return [4 /*yield*/, this.currentUserPoolUser(params)];\n                    case 7:\n                        user = _a.sent();\n                        return [3 /*break*/, 9];\n                    case 8:\n                        e_6 = _a.sent();\n                        if (e_6 === 'No userPool') {\n                            logger.error('Cannot get the current user because the user pool is missing. ' +\n                                'Please make sure the Auth module is configured with a valid Cognito User Pool ID');\n                        }\n                        logger.debug('The user is not authenticated by the error', e_6);\n                        throw ('not authenticated');\n                    case 9:\n                        this.user = user;\n                        return [2 /*return*/, this.user];\n                }\n            });\n        });\n    };\n    /**\n     * Get current user's session\n     * @return - A promise resolves to session object if success\n     */\n    AuthClass.prototype.currentSession = function () {\n        var that = this;\n        logger.debug('Getting current session');\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        return new Promise(function (res, rej) {\n            that.currentUserPoolUser().then(function (user) {\n                that.userSession(user).then(function (session) {\n                    res(session);\n                    return;\n                }).catch(function (e) {\n                    logger.debug('Failed to get the current session', e);\n                    rej(e);\n                    return;\n                });\n            }).catch(function (e) {\n                logger.debug('Failed to get the current user', e);\n                rej(e);\n                return;\n            });\n        });\n    };\n    /**\n     * Get the corresponding user session\n     * @param {Object} user - The CognitoUser object\n     * @return - A promise resolves to the session\n     */\n    AuthClass.prototype.userSession = function (user) {\n        if (!user) {\n            logger.debug('the user is null');\n            return Promise.reject('Failed to get the session because the user is empty');\n        }\n        return new Promise(function (resolve, reject) {\n            logger.debug('Getting the session from this user:', user);\n            user.getSession(function (err, session) {\n                if (err) {\n                    logger.debug('Failed to get the session from user', user);\n                    reject(err);\n                    return;\n                }\n                else {\n                    logger.debug('Succeed to get the user session', session);\n                    resolve(session);\n                    return;\n                }\n            });\n        });\n    };\n    /**\n     * Get  authenticated credentials of current user.\n     * @return - A promise resolves to be current user's credentials\n     */\n    AuthClass.prototype.currentUserCredentials = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var that, e_7, federatedInfo;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        that = this;\n                        logger.debug('Getting current user credentials');\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_7 = _a.sent();\n                        logger.debug('Failed to sync cache info into memory', e_7);\n                        throw e_7;\n                    case 4:\n                        federatedInfo = null;\n                        try {\n                            federatedInfo = JSON.parse(this._storage.getItem('aws-amplify-federatedInfo'));\n                        }\n                        catch (e) {\n                            logger.debug('failed to get or parse item aws-amplify-federatedInfo', e);\n                        }\n                        if (federatedInfo) {\n                            // refresh the jwt token here if necessary\n                            return [2 /*return*/, core_1.Credentials.refreshFederatedToken(federatedInfo)];\n                        }\n                        else {\n                            return [2 /*return*/, this.currentSession()\n                                    .then(function (session) {\n                                    logger.debug('getting session success', session);\n                                    return core_1.Credentials.set(session, 'session');\n                                }).catch(function (error) {\n                                    logger.debug('getting session failed', error);\n                                    return core_1.Credentials.set(null, 'guest');\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthClass.prototype.currentCredentials = function () {\n        logger.debug('getting current credntials');\n        return core_1.Credentials.get();\n    };\n    /**\n     * Initiate an attribute confirmation request\n     * @param {Object} user - The CognitoUser\n     * @param {Object} attr - The attributes to be verified\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyUserAttribute = function (user, attr) {\n        return new Promise(function (resolve, reject) {\n            user.getAttributeVerificationCode(attr, {\n                onSuccess: function () { return resolve(); },\n                onFailure: function (err) { return reject(err); }\n            });\n        });\n    };\n    /**\n     * Confirm an attribute using a confirmation code\n     * @param {Object} user - The CognitoUser\n     * @param {Object} attr - The attribute to be verified\n     * @param {String} code - The confirmation code\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyUserAttributeSubmit = function (user, attr, code) {\n        if (!code) {\n            return Promise.reject('Code cannot be empty');\n        }\n        return new Promise(function (resolve, reject) {\n            user.verifyAttribute(attr, code, {\n                onSuccess: function (data) {\n                    resolve(data);\n                    return;\n                },\n                onFailure: function (err) {\n                    reject(err);\n                    return;\n                }\n            });\n        });\n    };\n    AuthClass.prototype.verifyCurrentUserAttribute = function (attr) {\n        var that = this;\n        return that.currentUserPoolUser()\n            .then(function (user) { return that.verifyUserAttribute(user, attr); });\n    };\n    /**\n     * Confirm current user's attribute using a confirmation code\n     * @param {Object} attr - The attribute to be verified\n     * @param {String} code - The confirmation code\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyCurrentUserAttributeSubmit = function (attr, code) {\n        var that = this;\n        return that.currentUserPoolUser()\n            .then(function (user) { return that.verifyUserAttributeSubmit(user, attr, code); });\n    };\n    AuthClass.prototype.cognitoIdentitySignOut = function (opts, user) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_8, isSignedInHostedUI;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        e_8 = _a.sent();\n                        logger.debug('Failed to sync cache info into memory', e_8);\n                        throw e_8;\n                    case 3:\n                        isSignedInHostedUI = this._oAuthHandler\n                            && this._storage.getItem('amplify-signin-with-hostedUI') === 'true';\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                if (opts && opts.global) {\n                                    logger.debug('user global sign out', user);\n                                    // in order to use global signout\n                                    // we must validate the user as an authenticated user by using getSession\n                                    user.getSession(function (err, result) {\n                                        if (err) {\n                                            logger.debug('failed to get the user session', err);\n                                            return rej(err);\n                                        }\n                                        user.globalSignOut({\n                                            onSuccess: function (data) {\n                                                logger.debug('global sign out success');\n                                                if (isSignedInHostedUI) {\n                                                    return _this._oAuthHandler.signOut().then(function () { return res(); });\n                                                }\n                                                else {\n                                                    return res();\n                                                }\n                                            },\n                                            onFailure: function (err) {\n                                                logger.debug('global sign out failed', err);\n                                                return rej(err);\n                                            }\n                                        });\n                                    });\n                                }\n                                else {\n                                    logger.debug('user sign out', user);\n                                    user.signOut();\n                                    if (isSignedInHostedUI) {\n                                        return _this._oAuthHandler.signOut().then(function () { return res(); });\n                                    }\n                                    else {\n                                        return res();\n                                    }\n                                }\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * Sign out method\n     * @\n     * @return - A promise resolved if success\n     */\n    AuthClass.prototype.signOut = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_9, user;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.cleanCachedItems()];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        e_9 = _a.sent();\n                        logger.debug('failed to clear cached items');\n                        return [3 /*break*/, 3];\n                    case 3:\n                        if (!this.userPool) return [3 /*break*/, 7];\n                        user = this.userPool.getCurrentUser();\n                        if (!user) return [3 /*break*/, 5];\n                        return [4 /*yield*/, this.cognitoIdentitySignOut(opts, user)];\n                    case 4:\n                        _a.sent();\n                        return [3 /*break*/, 6];\n                    case 5:\n                        logger.debug('no current Cognito user');\n                        _a.label = 6;\n                    case 6: return [3 /*break*/, 8];\n                    case 7:\n                        logger.debug('no Congito User pool');\n                        _a.label = 8;\n                    case 8:\n                        /**\n                         * Note for future refactor - no reliable way to get username with\n                         * Cognito User Pools vs Identity when federating with Social Providers\n                         * This is why we need a well structured session object that can be inspected\n                         * and information passed back in the message below for Hub dispatch\n                        */\n                        dispatchAuthEvent('signOut', this.user, \"A user has been signed out\");\n                        this.user = null;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthClass.prototype.cleanCachedItems = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // clear cognito cached item\n                    return [4 /*yield*/, core_1.Credentials.clear()];\n                    case 1:\n                        // clear cognito cached item\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Change a password for an authenticated user\n     * @param {Object} user - The CognitoUser object\n     * @param {String} oldPassword - the current password\n     * @param {String} newPassword - the requested new password\n     * @return - A promise resolves if success\n     */\n    AuthClass.prototype.changePassword = function (user, oldPassword, newPassword) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.userSession(user).then(function (session) {\n                user.changePassword(oldPassword, newPassword, function (err, data) {\n                    if (err) {\n                        logger.debug('change password failure', err);\n                        return reject(err);\n                    }\n                    else {\n                        return resolve(data);\n                    }\n                });\n            });\n        });\n    };\n    /**\n     * Initiate a forgot password request\n     * @param {String} username - the username to change password\n     * @return - A promise resolves if success\n     */\n    AuthClass.prototype.forgotPassword = function (username) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.forgotPassword({\n                onSuccess: function () {\n                    resolve();\n                    return;\n                },\n                onFailure: function (err) {\n                    logger.debug('forgot password failure', err);\n                    reject(err);\n                    return;\n                },\n                inputVerificationCode: function (data) {\n                    resolve(data);\n                    return;\n                }\n            });\n        });\n    };\n    /**\n     * Confirm a new password using a confirmation Code\n     * @param {String} username - The username\n     * @param {String} code - The confirmation code\n     * @param {String} password - The new password\n     * @return - A promise that resolves if success\n     */\n    AuthClass.prototype.forgotPasswordSubmit = function (username, code, password) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        if (!code) {\n            return Promise.reject('Code cannot be empty');\n        }\n        if (!password) {\n            return Promise.reject('Password cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.confirmPassword(code, password, {\n                onSuccess: function () {\n                    resolve();\n                    return;\n                },\n                onFailure: function (err) {\n                    reject(err);\n                    return;\n                }\n            });\n        });\n    };\n    /**\n     * Get user information\n     * @async\n     * @return {Object }- current User's information\n     */\n    AuthClass.prototype.currentUserInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var source, user, attributes, userAttrs, credentials, e_10, info, err_1, user;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        source = core_1.Credentials.getCredSource();\n                        if (!(!source || source === 'aws' || source === 'userPool')) return [3 /*break*/, 9];\n                        return [4 /*yield*/, this.currentUserPoolUser()\n                                .catch(function (err) { return logger.debug(err); })];\n                    case 1:\n                        user = _a.sent();\n                        if (!user) {\n                            return [2 /*return*/, null];\n                        }\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 8, , 9]);\n                        return [4 /*yield*/, this.userAttributes(user)];\n                    case 3:\n                        attributes = _a.sent();\n                        userAttrs = this.attributesToObject(attributes);\n                        credentials = null;\n                        _a.label = 4;\n                    case 4:\n                        _a.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this.currentCredentials()];\n                    case 5:\n                        credentials = _a.sent();\n                        return [3 /*break*/, 7];\n                    case 6:\n                        e_10 = _a.sent();\n                        logger.debug('Failed to retrieve credentials while getting current user info', e_10);\n                        return [3 /*break*/, 7];\n                    case 7:\n                        info = {\n                            'id': credentials ? credentials.identityId : undefined,\n                            'username': user.getUsername(),\n                            'attributes': userAttrs\n                        };\n                        return [2 /*return*/, info];\n                    case 8:\n                        err_1 = _a.sent();\n                        logger.debug('currentUserInfo error', err_1);\n                        return [2 /*return*/, {}];\n                    case 9:\n                        if (source === 'federated') {\n                            user = this.user;\n                            return [2 /*return*/, user ? user : {}];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthClass.prototype.federatedSignIn = function (providerOrOptions, response, user) {\n        return __awaiter(this, void 0, void 0, function () {\n            var options, provider, client_id, redirect_uri, provider, loggedInUser, e_11, token, identity_id, expires_at, credentials, currentUser;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._config.identityPoolId && !this._config.userPoolId) {\n                            throw new Error(\"Federation requires either a User Pool or Identity Pool in config\");\n                        }\n                        // Ensure backwards compatability\n                        if (typeof providerOrOptions === 'undefined') {\n                            if (this._config.identityPoolId && !this._config.userPoolId) {\n                                throw new Error(\"Federation with Identity Pools requires tokens passed as arguments\");\n                            }\n                        }\n                        if (!(types_1.isFederatedSignInOptions(providerOrOptions)\n                            || types_1.isFederatedSignInOptionsCustom(providerOrOptions)\n                            || typeof providerOrOptions === 'undefined')) return [3 /*break*/, 1];\n                        options = providerOrOptions || { provider: CognitoHostedUIIdentityProvider.Cognito };\n                        provider = types_1.isFederatedSignInOptions(options)\n                            ? options.provider\n                            : options.customProvider;\n                        if (this._config.userPoolId) {\n                            client_id = types_1.isCognitoHostedOpts(this._config.oauth)\n                                ? this._config.userPoolWebClientId\n                                : this._config.oauth.clientID;\n                            redirect_uri = types_1.isCognitoHostedOpts(this._config.oauth)\n                                ? this._config.oauth.redirectSignIn\n                                : this._config.oauth.redirectUri;\n                            this._oAuthHandler.oauthSignIn(this._config.oauth.responseType, this._config.oauth.domain, redirect_uri, client_id, provider);\n                        }\n                        return [3 /*break*/, 8];\n                    case 1:\n                        provider = providerOrOptions;\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.currentAuthenticatedUser()];\n                    case 3:\n                        loggedInUser = _a.sent();\n                        logger.warn(\"There is already a signed in user: \" + loggedInUser + \" in your app.\\n                You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.\");\n                        return [3 /*break*/, 5];\n                    case 4:\n                        e_11 = _a.sent();\n                        return [3 /*break*/, 5];\n                    case 5:\n                        token = response.token, identity_id = response.identity_id, expires_at = response.expires_at;\n                        return [4 /*yield*/, core_1.Credentials.set({ provider: provider, token: token, identity_id: identity_id, user: user, expires_at: expires_at }, 'federation')];\n                    case 6:\n                        credentials = _a.sent();\n                        return [4 /*yield*/, this.currentAuthenticatedUser()];\n                    case 7:\n                        currentUser = _a.sent();\n                        dispatchAuthEvent('signIn', currentUser, \"A user \" + currentUser.username + \" has been signed in\");\n                        logger.debug('federated sign in credentials', credentials);\n                        return [2 /*return*/, credentials];\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Used to complete the OAuth flow with or without the Cognito Hosted UI\n     * @param {String} URL - optional parameter for customers to pass in the response URL\n     */\n    AuthClass.prototype._handleAuthResponse = function (URL) {\n        return __awaiter(this, void 0, void 0, function () {\n            var currentUrl, hasCodeOrError, hasTokenOrError, _a, accessToken, idToken, refreshToken, session, credentials, currentUser, err_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!this._config.userPoolId) {\n                            throw new Error(\"OAuth responses require a User Pool defined in config\");\n                        }\n                        currentUrl = URL || (core_1.JS.browserOrNode().isBrowser ? window.location.href : null);\n                        hasCodeOrError = !!(url_1.parse(currentUrl).query || '')\n                            .split('&')\n                            .map(function (entry) { return entry.split('='); })\n                            .find(function (_a) {\n                            var k = _a[0];\n                            return k === 'code' || k === 'error';\n                        });\n                        hasTokenOrError = !!(url_1.parse(currentUrl).hash || '#')\n                            .substr(1)\n                            .split('&')\n                            .map(function (entry) { return entry.split('='); })\n                            .find(function (_a) {\n                            var k = _a[0];\n                            return k === 'access_token' || k === 'error';\n                        });\n                        if (!(hasCodeOrError || hasTokenOrError)) return [3 /*break*/, 6];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 5, , 6]);\n                        return [4 /*yield*/, this._oAuthHandler.handleAuthResponse(currentUrl)];\n                    case 2:\n                        _a = _b.sent(), accessToken = _a.accessToken, idToken = _a.idToken, refreshToken = _a.refreshToken;\n                        session = new amazon_cognito_identity_js_1.CognitoUserSession({\n                            IdToken: new amazon_cognito_identity_js_1.CognitoIdToken({ IdToken: idToken }),\n                            RefreshToken: new amazon_cognito_identity_js_1.CognitoRefreshToken({ RefreshToken: refreshToken }),\n                            AccessToken: new amazon_cognito_identity_js_1.CognitoAccessToken({ AccessToken: accessToken })\n                        });\n                        credentials = void 0;\n                        if (!this._config.identityPoolId) return [3 /*break*/, 4];\n                        return [4 /*yield*/, core_1.Credentials.set(session, 'session')];\n                    case 3:\n                        credentials = _b.sent();\n                        logger.debug('AWS credentials', credentials);\n                        _b.label = 4;\n                    case 4:\n                        currentUser = this.createCognitoUser(session.getIdToken().decodePayload()['cognito:username']);\n                        dispatchAuthEvent('signIn', currentUser, \"A user \" + currentUser.getUsername() + \" has been signed in\");\n                        dispatchAuthEvent('cognitoHostedUI', currentUser, \"A user \" + currentUser.getUsername() + \" has been signed in via Cognito Hosted UI\");\n                        // This calls cacheTokens() in Cognito SDK\n                        currentUser.setSignInUserSession(session);\n                        //#endregion\n                        if (window && typeof window.history !== 'undefined') {\n                            window.history.replaceState({}, null, this._config.oauth.redirectSignIn);\n                        }\n                        return [2 /*return*/, credentials];\n                    case 5:\n                        err_2 = _b.sent();\n                        logger.debug(\"Error in cognito hosted auth response\", err_2);\n                        dispatchAuthEvent('signIn_failure', err_2, \"The OAuth response flow failed\");\n                        dispatchAuthEvent('cognitoHostedUI_failure', err_2, \"A failure occurred when returning to the Cognito Hosted UI\");\n                        throw err_2;\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Compact version of credentials\n     * @param {Object} credentials\n     * @return {Object} - Credentials\n     */\n    AuthClass.prototype.essentialCredentials = function (credentials) {\n        return {\n            accessKeyId: credentials.accessKeyId,\n            sessionToken: credentials.sessionToken,\n            secretAccessKey: credentials.secretAccessKey,\n            identityId: credentials.identityId,\n            authenticated: credentials.authenticated\n        };\n    };\n    AuthClass.prototype.attributesToObject = function (attributes) {\n        var obj = {};\n        if (attributes) {\n            attributes.map(function (attribute) {\n                if (attribute.Value === 'true') {\n                    obj[attribute.Name] = true;\n                }\n                else if (attribute.Value === 'false') {\n                    obj[attribute.Name] = false;\n                }\n                else {\n                    obj[attribute.Name] = attribute.Value;\n                }\n            });\n        }\n        return obj;\n    };\n    AuthClass.prototype.createCognitoUser = function (username) {\n        var userData = {\n            Username: username,\n            Pool: this.userPool,\n        };\n        userData.Storage = this._storage;\n        var authenticationFlowType = this._config.authenticationFlowType;\n        var user = new amazon_cognito_identity_js_1.CognitoUser(userData);\n        if (authenticationFlowType) {\n            user.setAuthenticationFlowType(authenticationFlowType);\n        }\n        return user;\n    };\n    AuthClass.prototype._isValidAuthStorage = function (obj) {\n        // We need to check if the obj has the functions of Storage\n        return !!obj &&\n            typeof obj.getItem === 'function' &&\n            typeof obj.setItem === 'function' &&\n            typeof obj.removeItem === 'function' &&\n            typeof obj.clear === 'function';\n    };\n    return AuthClass;\n}());\nexports.default = AuthClass;\n//# sourceMappingURL=Auth.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Auth\"));\n//# sourceMappingURL=index.js.map","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar url_1 = require(\"url\"); // Used for OAuth parsing of Cognito Hosted UI\nvar urlOpener_1 = require(\"./urlOpener\");\nvar oAuthStorage = require(\"./oauthStorage\");\nvar Auth_1 = require(\"../types/Auth\");\nvar core_1 = require(\"@aws-amplify/core\");\nvar SHA256 = require(\"crypto-js/sha256\");\nvar Base64 = require(\"crypto-js/enc-base64\");\nvar AMPLIFY_SYMBOL = ((typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') ?\n    Symbol.for('amplify_default') : '@@amplify_default');\nvar dispatchAuthEvent = function (event, data, message) {\n    core_1.Hub.dispatch('auth', { event: event, data: data, message: message }, 'Auth', AMPLIFY_SYMBOL);\n};\nvar logger = new core_1.ConsoleLogger('OAuth');\nvar OAuth = /** @class */ (function () {\n    function OAuth(_a) {\n        var config = _a.config, cognitoClientId = _a.cognitoClientId, _b = _a.scopes, scopes = _b === void 0 ? [] : _b;\n        this._urlOpener = config.urlOpener || urlOpener_1.launchUri;\n        this._config = config;\n        this._cognitoClientId = cognitoClientId;\n        this._scopes = scopes;\n    }\n    OAuth.prototype.oauthSignIn = function (responseType, domain, redirectSignIn, clientId, provider) {\n        if (responseType === void 0) { responseType = 'code'; }\n        if (provider === void 0) { provider = Auth_1.CognitoHostedUIIdentityProvider.Cognito; }\n        var state = this._generateState(32);\n        oAuthStorage.setState(state);\n        var pkce_key = this._generateRandom(128);\n        oAuthStorage.setPKCE(pkce_key);\n        var code_challenge = this._generateChallenge(pkce_key);\n        var code_challenge_method = 'S256';\n        var queryString = Object.entries(__assign({ redirect_uri: redirectSignIn, response_type: responseType, client_id: clientId, identity_provider: provider, scopes: this._scopes, state: state }, (responseType === 'code' ? { code_challenge: code_challenge } : {}), (responseType === 'code' ? { code_challenge_method: code_challenge_method } : {}))).map(function (_a) {\n            var k = _a[0], v = _a[1];\n            return encodeURIComponent(k) + \"=\" + encodeURIComponent(v);\n        }).join('&');\n        var URL = \"https://\" + domain + \"/oauth2/authorize?\" + queryString;\n        logger.debug(\"Redirecting to \" + URL);\n        this._urlOpener(URL, redirectSignIn);\n    };\n    OAuth.prototype._handleCodeFlow = function (currentUrl) {\n        return __awaiter(this, void 0, void 0, function () {\n            var code, oAuthTokenEndpoint, client_id, redirect_uri, code_verifier, oAuthTokenBody, body, _a, access_token, refresh_token, id_token, error;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        code = (url_1.parse(currentUrl).query || '')\n                            .split('&')\n                            .map(function (pairings) { return pairings.split('='); })\n                            .reduce(function (accum, _a) {\n                            var k = _a[0], v = _a[1];\n                            var _b;\n                            return (__assign({}, accum, (_b = {}, _b[k] = v, _b)));\n                        }, { code: undefined }).code;\n                        if (!code) {\n                            return [2 /*return*/];\n                        }\n                        oAuthTokenEndpoint = 'https://' + this._config.domain + '/oauth2/token';\n                        dispatchAuthEvent('codeFlow', {}, \"Retrieving tokens from \" + oAuthTokenEndpoint);\n                        client_id = Auth_1.isCognitoHostedOpts(this._config)\n                            ? this._cognitoClientId\n                            : this._config.clientID;\n                        redirect_uri = Auth_1.isCognitoHostedOpts(this._config)\n                            ? this._config.redirectSignIn\n                            : this._config.redirectUri;\n                        code_verifier = oAuthStorage.getPKCE();\n                        oAuthTokenBody = __assign({ grant_type: 'authorization_code', code: code,\n                            client_id: client_id,\n                            redirect_uri: redirect_uri }, (code_verifier ? { code_verifier: code_verifier } : {}));\n                        logger.debug(\"Calling token endpoint: \" + oAuthTokenEndpoint + \" with\", oAuthTokenBody);\n                        body = Object.entries(oAuthTokenBody)\n                            .map(function (_a) {\n                            var k = _a[0], v = _a[1];\n                            return encodeURIComponent(k) + \"=\" + encodeURIComponent(v);\n                        })\n                            .join('&');\n                        return [4 /*yield*/, fetch(oAuthTokenEndpoint, {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/x-www-form-urlencoded'\n                                },\n                                body: typeof URLSearchParams !== 'undefined' ? new URLSearchParams(body) : body\n                            })];\n                    case 1: return [4 /*yield*/, (_b.sent()).json()];\n                    case 2:\n                        _a = _b.sent(), access_token = _a.access_token, refresh_token = _a.refresh_token, id_token = _a.id_token, error = _a.error;\n                        if (error) {\n                            throw new Error(error);\n                        }\n                        return [2 /*return*/, {\n                                accessToken: access_token,\n                                refreshToken: refresh_token,\n                                idToken: id_token\n                            }];\n                }\n            });\n        });\n    };\n    OAuth.prototype._handleImplicitFlow = function (currentUrl) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, id_token, access_token;\n            return __generator(this, function (_b) {\n                _a = url_1.parse(currentUrl).hash\n                    .substr(1) // Remove # from returned code\n                    .split('&')\n                    .map(function (pairings) { return pairings.split('='); })\n                    .reduce(function (accum, _a) {\n                    var k = _a[0], v = _a[1];\n                    var _b;\n                    return (__assign({}, accum, (_b = {}, _b[k] = v, _b)));\n                }, {\n                    id_token: undefined, access_token: undefined\n                }), id_token = _a.id_token, access_token = _a.access_token;\n                dispatchAuthEvent('implicitFlow', {}, \"Got tokens from \" + currentUrl);\n                logger.debug(\"Retrieving implicit tokens from \" + currentUrl + \" with\");\n                return [2 /*return*/, {\n                        accessToken: access_token,\n                        idToken: id_token,\n                        refreshToken: null\n                    }];\n            });\n        });\n    };\n    OAuth.prototype.handleAuthResponse = function (currentUrl) {\n        return __awaiter(this, void 0, void 0, function () {\n            var urlParams, error, error_description;\n            return __generator(this, function (_a) {\n                urlParams = currentUrl ? __assign({}, (url_1.parse(currentUrl).hash || '#').substr(1)\n                    .split('&')\n                    .map(function (entry) { return entry.split('='); })\n                    .reduce(function (acc, _a) {\n                    var k = _a[0], v = _a[1];\n                    return (acc[k] = v, acc);\n                }, {}), (url_1.parse(currentUrl).query || '')\n                    .split('&')\n                    .map(function (entry) { return entry.split('='); })\n                    .reduce(function (acc, _a) {\n                    var k = _a[0], v = _a[1];\n                    return (acc[k] = v, acc);\n                }, {})) : {};\n                error = urlParams.error, error_description = urlParams.error_description;\n                if (error) {\n                    throw new Error(error_description);\n                }\n                this._validateState(urlParams);\n                logger.debug(\"Starting \" + this._config.responseType + \" flow with \" + currentUrl);\n                if (this._config.responseType === 'code') {\n                    return [2 /*return*/, this._handleCodeFlow(currentUrl)];\n                }\n                else {\n                    return [2 /*return*/, this._handleImplicitFlow(currentUrl)];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    OAuth.prototype._validateState = function (urlParams) {\n        if (!urlParams) {\n            return;\n        }\n        var savedState = oAuthStorage.getState();\n        var returnedState = urlParams.state;\n        // This is because savedState only exists if the flow was initiated by Amplify\n        if (savedState && savedState !== returnedState) {\n            throw new Error('Invalid state in OAuth flow');\n        }\n    };\n    OAuth.prototype.signOut = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var oAuthLogoutEndpoint, client_id, signout_uri;\n            return __generator(this, function (_a) {\n                oAuthLogoutEndpoint = 'https://' + this._config.domain + '/logout?';\n                client_id = Auth_1.isCognitoHostedOpts(this._config)\n                    ? this._cognitoClientId\n                    : this._config.oauth.clientID;\n                signout_uri = Auth_1.isCognitoHostedOpts(this._config)\n                    ? this._config.redirectSignOut\n                    : this._config.returnTo;\n                oAuthLogoutEndpoint += Object.entries({\n                    client_id: client_id,\n                    logout_uri: encodeURIComponent(signout_uri)\n                }).map(function (_a) {\n                    var k = _a[0], v = _a[1];\n                    return k + \"=\" + v;\n                }).join('&');\n                dispatchAuthEvent('oAuthSignOut', { oAuth: 'signOut' }, \"Signing out from \" + oAuthLogoutEndpoint);\n                logger.debug(\"Signing out from \" + oAuthLogoutEndpoint);\n                this._urlOpener(oAuthLogoutEndpoint);\n                return [2 /*return*/];\n            });\n        });\n    };\n    OAuth.prototype._generateState = function (length) {\n        var result = '';\n        var i = length;\n        var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n        for (; i > 0; --i)\n            result += chars[Math.round(Math.random() * (chars.length - 1))];\n        return result;\n    };\n    OAuth.prototype._generateChallenge = function (code) {\n        return this._base64URL(SHA256(code));\n    };\n    OAuth.prototype._base64URL = function (string) {\n        return string.toString(Base64).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n    };\n    OAuth.prototype._generateRandom = function (size) {\n        var CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~';\n        var buffer = new Uint8Array(size);\n        if (typeof window !== 'undefined' && !!(window.crypto)) {\n            window.crypto.getRandomValues(buffer);\n        }\n        else {\n            for (var i = 0; i < size; i += 1) {\n                buffer[i] = (Math.random() * CHARSET.length) | 0;\n            }\n        }\n        return this._bufferToString(buffer);\n    };\n    OAuth.prototype._bufferToString = function (buffer) {\n        var CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var state = [];\n        for (var i = 0; i < buffer.byteLength; i += 1) {\n            var index = buffer[i] % CHARSET.length;\n            state.push(CHARSET[index]);\n        }\n        return state.join('');\n    };\n    return OAuth;\n}());\nexports.default = OAuth;\n//# sourceMappingURL=OAuth.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SELF = '_self';\nexports.launchUri = function (url) { return window.open(url, SELF); };\n//# sourceMappingURL=urlOpener.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setState = function (state) {\n    window.sessionStorage.setItem('oauth_state', state);\n};\nexports.getState = function () {\n    var oauth_state = window.sessionStorage.getItem('oauth_state');\n    window.sessionStorage.removeItem('oauth_state');\n    return oauth_state;\n};\nexports.setPKCE = function (private_key) {\n    window.sessionStorage.setItem('ouath_pkce_key', private_key);\n};\nexports.getPKCE = function () {\n    var ouath_pkce_key = window.sessionStorage.getItem('ouath_pkce_key');\n    window.sessionStorage.removeItem('ouath_pkce_key');\n    return ouath_pkce_key;\n};\nexports.clearAll = function () {\n    window.sessionStorage.removeItem('ouath_pkce_key');\n    window.sessionStorage.removeItem('oauth_state');\n};\n//# sourceMappingURL=oauthStorage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar core_1 = require(\"@aws-amplify/core\");\nexports.default = (function (callback) {\n    if (core_1.JS.browserOrNode().isBrowser && window.location) {\n        var url = window.location.href;\n        callback({ url: url });\n    }\n    else if (core_1.JS.browserOrNode().isNode) {\n        // continue building on ssr\n        (function () { }); // noop\n    }\n    else {\n        throw new Error('Not supported');\n    }\n});\n//# sourceMappingURL=urlListener.js.map","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar ExecutionEnvironment = _interopDefault(require('exenv'));\nvar shallowEqual = _interopDefault(require('shallowequal'));\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state = void 0;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = function (_Component) {\n      _inherits(SideEffect, _Component);\n\n      function SideEffect() {\n        _classCallCheck(this, SideEffect);\n\n        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      SideEffect.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n        return !shallowEqual(nextProps, this.props);\n      };\n\n      SideEffect.prototype.componentWillMount = function componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      SideEffect.prototype.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      SideEffect.prototype.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      SideEffect.prototype.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.Component);\n\n    SideEffect.displayName = 'SideEffect(' + getDisplayName(WrappedComponent) + ')';\n    SideEffect.canUseDOM = ExecutionEnvironment.canUseDOM;\n\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\nvar hasElementType = typeof Element !== 'undefined';\n\nfunction equal(a, b) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n    // end fast-deep-equal\n\n    // start react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element && b instanceof Element)\n      return a === b;\n\n    // custom handling for React\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      } else {\n        // all other properties should be traversed as usual\n        if (!equal(a[key], b[key])) return false;\n      }\n    }\n    // end react-fast-compare\n\n    // fast-deep-equal index.js 2.0.1\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function exportedEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('Warning: react-fast-compare does not handle circular references.', error.name, error.message);\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","exports.__esModule = true;\nexports.warn = exports.requestAnimationFrame = exports.reducePropsToState = exports.mapStateOnServer = exports.handleClientStateChange = exports.convertReactPropstoHtmlAttributes = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _objectAssign = require(\"object-assign\");\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, _HelmetConstants.TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[_HelmetConstants.TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[_HelmetConstants.TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attributeKey === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT || attributeKey === _HelmetConstants.TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = (0, _objectAssign2.default)({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([_HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n        bodyAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.LINK, [_HelmetConstants.TAG_PROPERTIES.REL, _HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.META, [_HelmetConstants.TAG_PROPERTIES.NAME, _HelmetConstants.TAG_PROPERTIES.CHARSET, _HelmetConstants.TAG_PROPERTIES.HTTPEQUIV, _HelmetConstants.TAG_PROPERTIES.PROPERTY, _HelmetConstants.TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.NOSCRIPT, [_HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.SCRIPT, [_HelmetConstants.TAG_PROPERTIES.SRC, _HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.STYLE, [_HelmetConstants.TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(_HelmetConstants.TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(_HelmetConstants.TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(_HelmetConstants.TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(_HelmetConstants.TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(_HelmetConstants.TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(_HelmetConstants.TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(_HelmetConstants.TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(_HelmetConstants.TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + _HelmetConstants.HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = _HelmetConstants.SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[_HelmetConstants.REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[_HelmetConstants.HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[_HelmetConstants.HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [_react2.default.createElement(_HelmetConstants.TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[_HelmetConstants.HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = _HelmetConstants.REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || mappedAttribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return _react2.default.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case _HelmetConstants.TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case _HelmetConstants.ATTRIBUTE_NAMES.BODY:\n        case _HelmetConstants.ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(_HelmetConstants.TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(_HelmetConstants.TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(_HelmetConstants.TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(_HelmetConstants.TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(_HelmetConstants.TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nexports.convertReactPropstoHtmlAttributes = convertReactPropstoHtmlAttributes;\nexports.handleClientStateChange = handleClientStateChange;\nexports.mapStateOnServer = mapStateOnServer;\nexports.reducePropsToState = reducePropsToState;\nexports.requestAnimationFrame = requestAnimationFrame;\nexports.warn = warn;"],"sourceRoot":""}